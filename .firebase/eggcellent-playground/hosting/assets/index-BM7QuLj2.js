(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function a(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=a(r);fetch(r.href,s)}})();function yh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var vh={exports:{}},Ho={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e_=Symbol.for("react.transitional.element"),t_=Symbol.for("react.fragment");function bh(e,t,a){var n=null;if(a!==void 0&&(n=""+a),t.key!==void 0&&(n=""+t.key),"key"in t){a={};for(var r in t)r!=="key"&&(a[r]=t[r])}else a=t;return t=a.ref,{$$typeof:e_,type:e,key:n,ref:t!==void 0?t:null,props:a}}Ho.Fragment=t_;Ho.jsx=bh;Ho.jsxs=bh;vh.exports=Ho;var b=vh.exports,_h={exports:{}},ne={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wf=Symbol.for("react.transitional.element"),a_=Symbol.for("react.portal"),n_=Symbol.for("react.fragment"),r_=Symbol.for("react.strict_mode"),s_=Symbol.for("react.profiler"),l_=Symbol.for("react.consumer"),i_=Symbol.for("react.context"),o_=Symbol.for("react.forward_ref"),u_=Symbol.for("react.suspense"),c_=Symbol.for("react.memo"),xh=Symbol.for("react.lazy"),Fd=Symbol.iterator;function f_(e){return e===null||typeof e!="object"?null:(e=Fd&&e[Fd]||e["@@iterator"],typeof e=="function"?e:null)}var Sh={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},wh=Object.assign,Th={};function ps(e,t,a){this.props=e,this.context=t,this.refs=Th,this.updater=a||Sh}ps.prototype.isReactComponent={};ps.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ps.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Eh(){}Eh.prototype=ps.prototype;function Tf(e,t,a){this.props=e,this.context=t,this.refs=Th,this.updater=a||Sh}var Ef=Tf.prototype=new Eh;Ef.constructor=Tf;wh(Ef,ps.prototype);Ef.isPureReactComponent=!0;var Wd=Array.isArray,ke={H:null,A:null,T:null,S:null,V:null},Ah=Object.prototype.hasOwnProperty;function Af(e,t,a,n,r,s){return a=s.ref,{$$typeof:wf,type:e,key:t,ref:a!==void 0?a:null,props:s}}function d_(e,t){return Af(e.type,t,void 0,void 0,void 0,e.props)}function Rf(e){return typeof e=="object"&&e!==null&&e.$$typeof===wf}function p_(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(a){return t[a]})}var ep=/\/+/g;function mu(e,t){return typeof e=="object"&&e!==null&&e.key!=null?p_(""+e.key):t.toString(36)}function tp(){}function m_(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(tp,tp):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function Er(e,t,a,n,r){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(s){case"bigint":case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case wf:case a_:l=!0;break;case xh:return l=e._init,Er(l(e._payload),t,a,n,r)}}if(l)return r=r(e),l=n===""?"."+mu(e,0):n,Wd(r)?(a="",l!=null&&(a=l.replace(ep,"$&/")+"/"),Er(r,t,a,"",function(u){return u})):r!=null&&(Rf(r)&&(r=d_(r,a+(r.key==null||e&&e.key===r.key?"":(""+r.key).replace(ep,"$&/")+"/")+l)),t.push(r)),1;l=0;var i=n===""?".":n+":";if(Wd(e))for(var o=0;o<e.length;o++)n=e[o],s=i+mu(n,o),l+=Er(n,t,a,s,r);else if(o=f_(e),typeof o=="function")for(e=o.call(e),o=0;!(n=e.next()).done;)n=n.value,s=i+mu(n,o++),l+=Er(n,t,a,s,r);else if(s==="object"){if(typeof e.then=="function")return Er(m_(e),t,a,n,r);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return l}function si(e,t,a){if(e==null)return e;var n=[],r=0;return Er(e,n,"","",function(s){return t.call(a,s,r++)}),n}function h_(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(a){(e._status===0||e._status===-1)&&(e._status=1,e._result=a)},function(a){(e._status===0||e._status===-1)&&(e._status=2,e._result=a)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ap=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function g_(){}ne.Children={map:si,forEach:function(e,t,a){si(e,function(){t.apply(this,arguments)},a)},count:function(e){var t=0;return si(e,function(){t++}),t},toArray:function(e){return si(e,function(t){return t})||[]},only:function(e){if(!Rf(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ne.Component=ps;ne.Fragment=n_;ne.Profiler=s_;ne.PureComponent=Tf;ne.StrictMode=r_;ne.Suspense=u_;ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ke;ne.__COMPILER_RUNTIME={__proto__:null,c:function(e){return ke.H.useMemoCache(e)}};ne.cache=function(e){return function(){return e.apply(null,arguments)}};ne.cloneElement=function(e,t,a){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var n=wh({},e.props),r=e.key,s=void 0;if(t!=null)for(l in t.ref!==void 0&&(s=void 0),t.key!==void 0&&(r=""+t.key),t)!Ah.call(t,l)||l==="key"||l==="__self"||l==="__source"||l==="ref"&&t.ref===void 0||(n[l]=t[l]);var l=arguments.length-2;if(l===1)n.children=a;else if(1<l){for(var i=Array(l),o=0;o<l;o++)i[o]=arguments[o+2];n.children=i}return Af(e.type,r,void 0,void 0,s,n)};ne.createContext=function(e){return e={$$typeof:i_,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:l_,_context:e},e};ne.createElement=function(e,t,a){var n,r={},s=null;if(t!=null)for(n in t.key!==void 0&&(s=""+t.key),t)Ah.call(t,n)&&n!=="key"&&n!=="__self"&&n!=="__source"&&(r[n]=t[n]);var l=arguments.length-2;if(l===1)r.children=a;else if(1<l){for(var i=Array(l),o=0;o<l;o++)i[o]=arguments[o+2];r.children=i}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)r[n]===void 0&&(r[n]=l[n]);return Af(e,s,void 0,void 0,null,r)};ne.createRef=function(){return{current:null}};ne.forwardRef=function(e){return{$$typeof:o_,render:e}};ne.isValidElement=Rf;ne.lazy=function(e){return{$$typeof:xh,_payload:{_status:-1,_result:e},_init:h_}};ne.memo=function(e,t){return{$$typeof:c_,type:e,compare:t===void 0?null:t}};ne.startTransition=function(e){var t=ke.T,a={};ke.T=a;try{var n=e(),r=ke.S;r!==null&&r(a,n),typeof n=="object"&&n!==null&&typeof n.then=="function"&&n.then(g_,ap)}catch(s){ap(s)}finally{ke.T=t}};ne.unstable_useCacheRefresh=function(){return ke.H.useCacheRefresh()};ne.use=function(e){return ke.H.use(e)};ne.useActionState=function(e,t,a){return ke.H.useActionState(e,t,a)};ne.useCallback=function(e,t){return ke.H.useCallback(e,t)};ne.useContext=function(e){return ke.H.useContext(e)};ne.useDebugValue=function(){};ne.useDeferredValue=function(e,t){return ke.H.useDeferredValue(e,t)};ne.useEffect=function(e,t,a){var n=ke.H;if(typeof a=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return n.useEffect(e,t)};ne.useId=function(){return ke.H.useId()};ne.useImperativeHandle=function(e,t,a){return ke.H.useImperativeHandle(e,t,a)};ne.useInsertionEffect=function(e,t){return ke.H.useInsertionEffect(e,t)};ne.useLayoutEffect=function(e,t){return ke.H.useLayoutEffect(e,t)};ne.useMemo=function(e,t){return ke.H.useMemo(e,t)};ne.useOptimistic=function(e,t){return ke.H.useOptimistic(e,t)};ne.useReducer=function(e,t,a){return ke.H.useReducer(e,t,a)};ne.useRef=function(e){return ke.H.useRef(e)};ne.useState=function(e){return ke.H.useState(e)};ne.useSyncExternalStore=function(e,t,a){return ke.H.useSyncExternalStore(e,t,a)};ne.useTransition=function(){return ke.H.useTransition()};ne.version="19.1.0";_h.exports=ne;var x=_h.exports;const np=yh(x);var Rh={exports:{}},Bo={},Nh={exports:{}},kh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(U,Y){var H=U.length;U.push(Y);e:for(;0<H;){var re=H-1>>>1,K=U[re];if(0<r(K,Y))U[re]=Y,U[H]=K,H=re;else break e}}function a(U){return U.length===0?null:U[0]}function n(U){if(U.length===0)return null;var Y=U[0],H=U.pop();if(H!==Y){U[0]=H;e:for(var re=0,K=U.length,ee=K>>>1;re<ee;){var He=2*(re+1)-1,Be=U[He],nt=He+1,Yt=U[nt];if(0>r(Be,H))nt<K&&0>r(Yt,Be)?(U[re]=Yt,U[nt]=H,re=nt):(U[re]=Be,U[He]=H,re=He);else if(nt<K&&0>r(Yt,H))U[re]=Yt,U[nt]=H,re=nt;else break e}}return Y}function r(U,Y){var H=U.sortIndex-Y.sortIndex;return H!==0?H:U.id-Y.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var l=Date,i=l.now();e.unstable_now=function(){return l.now()-i}}var o=[],u=[],c=1,f=null,m=3,h=!1,S=!1,_=!1,v=!1,d=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;function g(U){for(var Y=a(u);Y!==null;){if(Y.callback===null)n(u);else if(Y.startTime<=U)n(u),Y.sortIndex=Y.expirationTime,t(o,Y);else break;Y=a(u)}}function w(U){if(_=!1,g(U),!S)if(a(o)!==null)S=!0,E||(E=!0,ve());else{var Y=a(u);Y!==null&&Ue(w,Y.startTime-U)}}var E=!1,N=-1,R=5,j=-1;function $(){return v?!0:!(e.unstable_now()-j<R)}function me(){if(v=!1,E){var U=e.unstable_now();j=U;var Y=!0;try{e:{S=!1,_&&(_=!1,p(N),N=-1),h=!0;var H=m;try{t:{for(g(U),f=a(o);f!==null&&!(f.expirationTime>U&&$());){var re=f.callback;if(typeof re=="function"){f.callback=null,m=f.priorityLevel;var K=re(f.expirationTime<=U);if(U=e.unstable_now(),typeof K=="function"){f.callback=K,g(U),Y=!0;break t}f===a(o)&&n(o),g(U)}else n(o);f=a(o)}if(f!==null)Y=!0;else{var ee=a(u);ee!==null&&Ue(w,ee.startTime-U),Y=!1}}break e}finally{f=null,m=H,h=!1}Y=void 0}}finally{Y?ve():E=!1}}}var ve;if(typeof y=="function")ve=function(){y(me)};else if(typeof MessageChannel<"u"){var Qe=new MessageChannel,Oe=Qe.port2;Qe.port1.onmessage=me,ve=function(){Oe.postMessage(null)}}else ve=function(){d(me,0)};function Ue(U,Y){N=d(function(){U(e.unstable_now())},Y)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(U){U.callback=null},e.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<U?Math.floor(1e3/U):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_next=function(U){switch(m){case 1:case 2:case 3:var Y=3;break;default:Y=m}var H=m;m=Y;try{return U()}finally{m=H}},e.unstable_requestPaint=function(){v=!0},e.unstable_runWithPriority=function(U,Y){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var H=m;m=U;try{return Y()}finally{m=H}},e.unstable_scheduleCallback=function(U,Y,H){var re=e.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?re+H:re):H=re,U){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=H+K,U={id:c++,callback:Y,priorityLevel:U,startTime:H,expirationTime:K,sortIndex:-1},H>re?(U.sortIndex=H,t(u,U),a(o)===null&&U===a(u)&&(_?(p(N),N=-1):_=!0,Ue(w,H-re))):(U.sortIndex=K,t(o,U),S||h||(S=!0,E||(E=!0,ve()))),U},e.unstable_shouldYield=$,e.unstable_wrapCallback=function(U){var Y=m;return function(){var H=m;m=Y;try{return U.apply(this,arguments)}finally{m=H}}}})(kh);Nh.exports=kh;var y_=Nh.exports,Ch={exports:{}},Tt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v_=x;function Oh(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function fn(){}var St={d:{f:fn,r:function(){throw Error(Oh(522))},D:fn,C:fn,L:fn,m:fn,X:fn,S:fn,M:fn},p:0,findDOMNode:null},b_=Symbol.for("react.portal");function __(e,t,a){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:b_,key:n==null?null:""+n,children:e,containerInfo:t,implementation:a}}var Zs=v_.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function $o(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}Tt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=St;Tt.createPortal=function(e,t){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(Oh(299));return __(e,t,null,a)};Tt.flushSync=function(e){var t=Zs.T,a=St.p;try{if(Zs.T=null,St.p=2,e)return e()}finally{Zs.T=t,St.p=a,St.d.f()}};Tt.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,St.d.C(e,t))};Tt.prefetchDNS=function(e){typeof e=="string"&&St.d.D(e)};Tt.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var a=t.as,n=$o(a,t.crossOrigin),r=typeof t.integrity=="string"?t.integrity:void 0,s=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;a==="style"?St.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:n,integrity:r,fetchPriority:s}):a==="script"&&St.d.X(e,{crossOrigin:n,integrity:r,fetchPriority:s,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};Tt.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var a=$o(t.as,t.crossOrigin);St.d.M(e,{crossOrigin:a,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&St.d.M(e)};Tt.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var a=t.as,n=$o(a,t.crossOrigin);St.d.L(e,a,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};Tt.preloadModule=function(e,t){if(typeof e=="string")if(t){var a=$o(t.as,t.crossOrigin);St.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:a,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else St.d.m(e)};Tt.requestFormReset=function(e){St.d.r(e)};Tt.unstable_batchedUpdates=function(e,t){return e(t)};Tt.useFormState=function(e,t,a){return Zs.H.useFormState(e,t,a)};Tt.useFormStatus=function(){return Zs.H.useHostTransitionStatus()};Tt.version="19.1.0";function Mh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Mh)}catch(e){console.error(e)}}Mh(),Ch.exports=Tt;var x_=Ch.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var at=y_,jh=x,S_=x_;function k(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Dh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function zl(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function Uh(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function rp(e){if(zl(e)!==e)throw Error(k(188))}function w_(e){var t=e.alternate;if(!t){if(t=zl(e),t===null)throw Error(k(188));return t!==e?null:e}for(var a=e,n=t;;){var r=a.return;if(r===null)break;var s=r.alternate;if(s===null){if(n=r.return,n!==null){a=n;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===a)return rp(r),e;if(s===n)return rp(r),t;s=s.sibling}throw Error(k(188))}if(a.return!==n.return)a=r,n=s;else{for(var l=!1,i=r.child;i;){if(i===a){l=!0,a=r,n=s;break}if(i===n){l=!0,n=r,a=s;break}i=i.sibling}if(!l){for(i=s.child;i;){if(i===a){l=!0,a=s,n=r;break}if(i===n){l=!0,n=s,a=r;break}i=i.sibling}if(!l)throw Error(k(189))}}if(a.alternate!==n)throw Error(k(190))}if(a.tag!==3)throw Error(k(188));return a.stateNode.current===a?e:t}function zh(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=zh(e),t!==null)return t;e=e.sibling}return null}var Re=Object.assign,T_=Symbol.for("react.element"),li=Symbol.for("react.transitional.element"),qs=Symbol.for("react.portal"),Cr=Symbol.for("react.fragment"),Ih=Symbol.for("react.strict_mode"),oc=Symbol.for("react.profiler"),E_=Symbol.for("react.provider"),Lh=Symbol.for("react.consumer"),Za=Symbol.for("react.context"),Nf=Symbol.for("react.forward_ref"),uc=Symbol.for("react.suspense"),cc=Symbol.for("react.suspense_list"),kf=Symbol.for("react.memo"),mn=Symbol.for("react.lazy"),fc=Symbol.for("react.activity"),A_=Symbol.for("react.memo_cache_sentinel"),sp=Symbol.iterator;function Ns(e){return e===null||typeof e!="object"?null:(e=sp&&e[sp]||e["@@iterator"],typeof e=="function"?e:null)}var R_=Symbol.for("react.client.reference");function dc(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===R_?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Cr:return"Fragment";case oc:return"Profiler";case Ih:return"StrictMode";case uc:return"Suspense";case cc:return"SuspenseList";case fc:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case qs:return"Portal";case Za:return(e.displayName||"Context")+".Provider";case Lh:return(e._context.displayName||"Context")+".Consumer";case Nf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case kf:return t=e.displayName||null,t!==null?t:dc(e.type)||"Memo";case mn:t=e._payload,e=e._init;try{return dc(e(t))}catch{}}return null}var Hs=Array.isArray,F=jh.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye=S_.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Fn={pending:!1,data:null,method:null,action:null},pc=[],Or=-1;function ja(e){return{current:e}}function ot(e){0>Or||(e.current=pc[Or],pc[Or]=null,Or--)}function Ce(e,t){Or++,pc[Or]=e.current,e.current=t}var Aa=ja(null),ll=ja(null),An=ja(null),qi=ja(null);function Hi(e,t){switch(Ce(An,t),Ce(ll,e),Ce(Aa,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?cm(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=cm(t),e=tv(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ot(Aa),Ce(Aa,e)}function Jr(){ot(Aa),ot(ll),ot(An)}function mc(e){e.memoizedState!==null&&Ce(qi,e);var t=Aa.current,a=tv(t,e.type);t!==a&&(Ce(ll,e),Ce(Aa,a))}function Bi(e){ll.current===e&&(ot(Aa),ot(ll)),qi.current===e&&(ot(qi),gl._currentValue=Fn)}var hc=Object.prototype.hasOwnProperty,Cf=at.unstable_scheduleCallback,hu=at.unstable_cancelCallback,N_=at.unstable_shouldYield,k_=at.unstable_requestPaint,Ra=at.unstable_now,C_=at.unstable_getCurrentPriorityLevel,qh=at.unstable_ImmediatePriority,Hh=at.unstable_UserBlockingPriority,$i=at.unstable_NormalPriority,O_=at.unstable_LowPriority,Bh=at.unstable_IdlePriority,M_=at.log,j_=at.unstable_setDisableYieldValue,Il=null,Bt=null;function Sn(e){if(typeof M_=="function"&&j_(e),Bt&&typeof Bt.setStrictMode=="function")try{Bt.setStrictMode(Il,e)}catch{}}var $t=Math.clz32?Math.clz32:z_,D_=Math.log,U_=Math.LN2;function z_(e){return e>>>=0,e===0?32:31-(D_(e)/U_|0)|0}var ii=256,oi=4194304;function Kn(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Vo(e,t,a){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,l=e.pingedLanes;e=e.warmLanes;var i=n&134217727;return i!==0?(n=i&~s,n!==0?r=Kn(n):(l&=i,l!==0?r=Kn(l):a||(a=i&~e,a!==0&&(r=Kn(a))))):(i=n&~s,i!==0?r=Kn(i):l!==0?r=Kn(l):a||(a=n&~e,a!==0&&(r=Kn(a)))),r===0?0:t!==0&&t!==r&&!(t&s)&&(s=r&-r,a=t&-t,s>=a||s===32&&(a&4194048)!==0)?t:r}function Ll(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function I_(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $h(){var e=ii;return ii<<=1,!(ii&4194048)&&(ii=256),e}function Vh(){var e=oi;return oi<<=1,!(oi&62914560)&&(oi=4194304),e}function gu(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function ql(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function L_(e,t,a,n,r,s){var l=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var i=e.entanglements,o=e.expirationTimes,u=e.hiddenUpdates;for(a=l&~a;0<a;){var c=31-$t(a),f=1<<c;i[c]=0,o[c]=-1;var m=u[c];if(m!==null)for(u[c]=null,c=0;c<m.length;c++){var h=m[c];h!==null&&(h.lane&=-536870913)}a&=~f}n!==0&&Zh(e,n,0),s!==0&&r===0&&e.tag!==0&&(e.suspendedLanes|=s&~(l&~t))}function Zh(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var n=31-$t(t);e.entangledLanes|=t,e.entanglements[n]=e.entanglements[n]|1073741824|a&4194090}function Ph(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var n=31-$t(a),r=1<<n;r&t|e[n]&t&&(e[n]|=t),a&=~r}}function Of(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Mf(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function Yh(){var e=ye.p;return e!==0?e:(e=window.event,e===void 0?32:fv(e.type))}function q_(e,t){var a=ye.p;try{return ye.p=e,t()}finally{ye.p=a}}var qn=Math.random().toString(36).slice(2),yt="__reactFiber$"+qn,Ot="__reactProps$"+qn,ms="__reactContainer$"+qn,gc="__reactEvents$"+qn,H_="__reactListeners$"+qn,B_="__reactHandles$"+qn,lp="__reactResources$"+qn,Hl="__reactMarker$"+qn;function jf(e){delete e[yt],delete e[Ot],delete e[gc],delete e[H_],delete e[B_]}function Mr(e){var t=e[yt];if(t)return t;for(var a=e.parentNode;a;){if(t=a[ms]||a[yt]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=pm(e);e!==null;){if(a=e[yt])return a;e=pm(e)}return t}e=a,a=e.parentNode}return null}function hs(e){if(e=e[yt]||e[ms]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function Bs(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(k(33))}function $r(e){var t=e[lp];return t||(t=e[lp]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function lt(e){e[Hl]=!0}var Gh=new Set,Kh={};function hr(e,t){Qr(e,t),Qr(e+"Capture",t)}function Qr(e,t){for(Kh[e]=t,e=0;e<t.length;e++)Gh.add(t[e])}var $_=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ip={},op={};function V_(e){return hc.call(op,e)?!0:hc.call(ip,e)?!1:$_.test(e)?op[e]=!0:(ip[e]=!0,!1)}function wi(e,t,a){if(V_(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var n=t.toLowerCase().slice(0,5);if(n!=="data-"&&n!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function ui(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function La(e,t,a,n){if(n===null)e.removeAttribute(a);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+n)}}var yu,up;function Ar(e){if(yu===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);yu=t&&t[1]||"",up=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+yu+e+up}var vu=!1;function bu(e,t){if(!e||vu)return"";vu=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(t){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(h){var m=h}Reflect.construct(e,[],f)}else{try{f.call()}catch(h){m=h}e.call(f.prototype)}}else{try{throw Error()}catch(h){m=h}(f=e())&&typeof f.catch=="function"&&f.catch(function(){})}}catch(h){if(h&&m&&typeof h.stack=="string")return[h.stack,m.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=n.DetermineComponentFrameRoot(),l=s[0],i=s[1];if(l&&i){var o=l.split(`
`),u=i.split(`
`);for(r=n=0;n<o.length&&!o[n].includes("DetermineComponentFrameRoot");)n++;for(;r<u.length&&!u[r].includes("DetermineComponentFrameRoot");)r++;if(n===o.length||r===u.length)for(n=o.length-1,r=u.length-1;1<=n&&0<=r&&o[n]!==u[r];)r--;for(;1<=n&&0<=r;n--,r--)if(o[n]!==u[r]){if(n!==1||r!==1)do if(n--,r--,0>r||o[n]!==u[r]){var c=`
`+o[n].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=n&&0<=r);break}}}finally{vu=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Ar(a):""}function Z_(e){switch(e.tag){case 26:case 27:case 5:return Ar(e.type);case 16:return Ar("Lazy");case 13:return Ar("Suspense");case 19:return Ar("SuspenseList");case 0:case 15:return bu(e.type,!1);case 11:return bu(e.type.render,!1);case 1:return bu(e.type,!0);case 31:return Ar("Activity");default:return""}}function cp(e){try{var t="";do t+=Z_(e),e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Xt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Xh(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function P_(e){var t=Xh(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var r=a.get,s=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(l){n=""+l,s.call(this,l)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return n},setValue:function(l){n=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Vi(e){e._valueTracker||(e._valueTracker=P_(e))}function Jh(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),n="";return e&&(n=Xh(e)?e.checked?"true":"false":e.value),e=n,e!==a?(t.setValue(e),!0):!1}function Zi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Y_=/[\n"\\]/g;function Ft(e){return e.replace(Y_,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function yc(e,t,a,n,r,s,l,i){e.name="",l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?e.type=l:e.removeAttribute("type"),t!=null?l==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Xt(t)):e.value!==""+Xt(t)&&(e.value=""+Xt(t)):l!=="submit"&&l!=="reset"||e.removeAttribute("value"),t!=null?vc(e,l,Xt(t)):a!=null?vc(e,l,Xt(a)):n!=null&&e.removeAttribute("value"),r==null&&s!=null&&(e.defaultChecked=!!s),r!=null&&(e.checked=r&&typeof r!="function"&&typeof r!="symbol"),i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"?e.name=""+Xt(i):e.removeAttribute("name")}function Qh(e,t,a,n,r,s,l,i){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.type=s),t!=null||a!=null){if(!(s!=="submit"&&s!=="reset"||t!=null))return;a=a!=null?""+Xt(a):"",t=t!=null?""+Xt(t):a,i||t===e.value||(e.value=t),e.defaultValue=t}n=n??r,n=typeof n!="function"&&typeof n!="symbol"&&!!n,e.checked=i?e.checked:!!n,e.defaultChecked=!!n,l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"&&(e.name=l)}function vc(e,t,a){t==="number"&&Zi(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Vr(e,t,a,n){if(e=e.options,t){t={};for(var r=0;r<a.length;r++)t["$"+a[r]]=!0;for(a=0;a<e.length;a++)r=t.hasOwnProperty("$"+e[a].value),e[a].selected!==r&&(e[a].selected=r),r&&n&&(e[a].defaultSelected=!0)}else{for(a=""+Xt(a),t=null,r=0;r<e.length;r++){if(e[r].value===a){e[r].selected=!0,n&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function Fh(e,t,a){if(t!=null&&(t=""+Xt(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+Xt(a):""}function Wh(e,t,a,n){if(t==null){if(n!=null){if(a!=null)throw Error(k(92));if(Hs(n)){if(1<n.length)throw Error(k(93));n=n[0]}a=n}a==null&&(a=""),t=a}a=Xt(t),e.defaultValue=a,n=e.textContent,n===a&&n!==""&&n!==null&&(e.value=n)}function Fr(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var G_=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function fp(e,t,a){var n=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?n?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":n?e.setProperty(t,a):typeof a!="number"||a===0||G_.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function eg(e,t,a){if(t!=null&&typeof t!="object")throw Error(k(62));if(e=e.style,a!=null){for(var n in a)!a.hasOwnProperty(n)||t!=null&&t.hasOwnProperty(n)||(n.indexOf("--")===0?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="");for(var r in t)n=t[r],t.hasOwnProperty(r)&&a[r]!==n&&fp(e,r,n)}else for(var s in t)t.hasOwnProperty(s)&&fp(e,s,t[s])}function Df(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var K_=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),X_=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ti(e){return X_.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var bc=null;function Uf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var jr=null,Zr=null;function dp(e){var t=hs(e);if(t&&(e=t.stateNode)){var a=e[Ot]||null;e:switch(e=t.stateNode,t.type){case"input":if(yc(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Ft(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var n=a[t];if(n!==e&&n.form===e.form){var r=n[Ot]||null;if(!r)throw Error(k(90));yc(n,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<a.length;t++)n=a[t],n.form===e.form&&Jh(n)}break e;case"textarea":Fh(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&Vr(e,!!a.multiple,t,!1)}}}var _u=!1;function tg(e,t,a){if(_u)return e(t,a);_u=!0;try{var n=e(t);return n}finally{if(_u=!1,(jr!==null||Zr!==null)&&(Wo(),jr&&(t=jr,e=Zr,Zr=jr=null,dp(t),e)))for(t=0;t<e.length;t++)dp(e[t])}}function il(e,t){var a=e.stateNode;if(a===null)return null;var n=a[Ot]||null;if(n===null)return null;a=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(k(231,t,typeof a));return a}var en=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_c=!1;if(en)try{var ks={};Object.defineProperty(ks,"passive",{get:function(){_c=!0}}),window.addEventListener("test",ks,ks),window.removeEventListener("test",ks,ks)}catch{_c=!1}var wn=null,zf=null,Ei=null;function ag(){if(Ei)return Ei;var e,t=zf,a=t.length,n,r="value"in wn?wn.value:wn.textContent,s=r.length;for(e=0;e<a&&t[e]===r[e];e++);var l=a-e;for(n=1;n<=l&&t[a-n]===r[s-n];n++);return Ei=r.slice(e,1<n?1-n:void 0)}function Ai(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ci(){return!0}function pp(){return!1}function jt(e){function t(a,n,r,s,l){this._reactName=a,this._targetInst=r,this.type=n,this.nativeEvent=s,this.target=l,this.currentTarget=null;for(var i in e)e.hasOwnProperty(i)&&(a=e[i],this[i]=a?a(s):s[i]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ci:pp,this.isPropagationStopped=pp,this}return Re(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ci)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ci)},persist:function(){},isPersistent:ci}),t}var gr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zo=jt(gr),Bl=Re({},gr,{view:0,detail:0}),J_=jt(Bl),xu,Su,Cs,Po=Re({},Bl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:If,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Cs&&(Cs&&e.type==="mousemove"?(xu=e.screenX-Cs.screenX,Su=e.screenY-Cs.screenY):Su=xu=0,Cs=e),xu)},movementY:function(e){return"movementY"in e?e.movementY:Su}}),mp=jt(Po),Q_=Re({},Po,{dataTransfer:0}),F_=jt(Q_),W_=Re({},Bl,{relatedTarget:0}),wu=jt(W_),ex=Re({},gr,{animationName:0,elapsedTime:0,pseudoElement:0}),tx=jt(ex),ax=Re({},gr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),nx=jt(ax),rx=Re({},gr,{data:0}),hp=jt(rx),sx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ix={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ox(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ix[e])?!!t[e]:!1}function If(){return ox}var ux=Re({},Bl,{key:function(e){if(e.key){var t=sx[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ai(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?lx[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:If,charCode:function(e){return e.type==="keypress"?Ai(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ai(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),cx=jt(ux),fx=Re({},Po,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gp=jt(fx),dx=Re({},Bl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:If}),px=jt(dx),mx=Re({},gr,{propertyName:0,elapsedTime:0,pseudoElement:0}),hx=jt(mx),gx=Re({},Po,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),yx=jt(gx),vx=Re({},gr,{newState:0,oldState:0}),bx=jt(vx),_x=[9,13,27,32],Lf=en&&"CompositionEvent"in window,Ps=null;en&&"documentMode"in document&&(Ps=document.documentMode);var xx=en&&"TextEvent"in window&&!Ps,ng=en&&(!Lf||Ps&&8<Ps&&11>=Ps),yp=" ",vp=!1;function rg(e,t){switch(e){case"keyup":return _x.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sg(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Dr=!1;function Sx(e,t){switch(e){case"compositionend":return sg(t);case"keypress":return t.which!==32?null:(vp=!0,yp);case"textInput":return e=t.data,e===yp&&vp?null:e;default:return null}}function wx(e,t){if(Dr)return e==="compositionend"||!Lf&&rg(e,t)?(e=ag(),Ei=zf=wn=null,Dr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ng&&t.locale!=="ko"?null:t.data;default:return null}}var Tx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Tx[e.type]:t==="textarea"}function lg(e,t,a,n){jr?Zr?Zr.push(n):Zr=[n]:jr=n,t=oo(t,"onChange"),0<t.length&&(a=new Zo("onChange","change",null,a,n),e.push({event:a,listeners:t}))}var Ys=null,ol=null;function Ex(e){Fy(e,0)}function Yo(e){var t=Bs(e);if(Jh(t))return e}function _p(e,t){if(e==="change")return t}var ig=!1;if(en){var Tu;if(en){var Eu="oninput"in document;if(!Eu){var xp=document.createElement("div");xp.setAttribute("oninput","return;"),Eu=typeof xp.oninput=="function"}Tu=Eu}else Tu=!1;ig=Tu&&(!document.documentMode||9<document.documentMode)}function Sp(){Ys&&(Ys.detachEvent("onpropertychange",og),ol=Ys=null)}function og(e){if(e.propertyName==="value"&&Yo(ol)){var t=[];lg(t,ol,e,Uf(e)),tg(Ex,t)}}function Ax(e,t,a){e==="focusin"?(Sp(),Ys=t,ol=a,Ys.attachEvent("onpropertychange",og)):e==="focusout"&&Sp()}function Rx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Yo(ol)}function Nx(e,t){if(e==="click")return Yo(t)}function kx(e,t){if(e==="input"||e==="change")return Yo(t)}function Cx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Pt=typeof Object.is=="function"?Object.is:Cx;function ul(e,t){if(Pt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),n=Object.keys(t);if(a.length!==n.length)return!1;for(n=0;n<a.length;n++){var r=a[n];if(!hc.call(t,r)||!Pt(e[r],t[r]))return!1}return!0}function wp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Tp(e,t){var a=wp(e);e=0;for(var n;a;){if(a.nodeType===3){if(n=e+a.textContent.length,e<=t&&n>=t)return{node:a,offset:t-e};e=n}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=wp(a)}}function ug(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ug(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function cg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Zi(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=Zi(e.document)}return t}function qf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Ox=en&&"documentMode"in document&&11>=document.documentMode,Ur=null,xc=null,Gs=null,Sc=!1;function Ep(e,t,a){var n=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Sc||Ur==null||Ur!==Zi(n)||(n=Ur,"selectionStart"in n&&qf(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Gs&&ul(Gs,n)||(Gs=n,n=oo(xc,"onSelect"),0<n.length&&(t=new Zo("onSelect","select",null,t,a),e.push({event:t,listeners:n}),t.target=Ur)))}function Gn(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var zr={animationend:Gn("Animation","AnimationEnd"),animationiteration:Gn("Animation","AnimationIteration"),animationstart:Gn("Animation","AnimationStart"),transitionrun:Gn("Transition","TransitionRun"),transitionstart:Gn("Transition","TransitionStart"),transitioncancel:Gn("Transition","TransitionCancel"),transitionend:Gn("Transition","TransitionEnd")},Au={},fg={};en&&(fg=document.createElement("div").style,"AnimationEvent"in window||(delete zr.animationend.animation,delete zr.animationiteration.animation,delete zr.animationstart.animation),"TransitionEvent"in window||delete zr.transitionend.transition);function yr(e){if(Au[e])return Au[e];if(!zr[e])return e;var t=zr[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in fg)return Au[e]=t[a];return e}var dg=yr("animationend"),pg=yr("animationiteration"),mg=yr("animationstart"),Mx=yr("transitionrun"),jx=yr("transitionstart"),Dx=yr("transitioncancel"),hg=yr("transitionend"),gg=new Map,wc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");wc.push("scrollEnd");function ga(e,t){gg.set(e,t),hr(t,[e])}var Ap=new WeakMap;function Wt(e,t){if(typeof e=="object"&&e!==null){var a=Ap.get(e);return a!==void 0?a:(t={value:e,source:t,stack:cp(t)},Ap.set(e,t),t)}return{value:e,source:t,stack:cp(t)}}var Gt=[],Ir=0,Hf=0;function Go(){for(var e=Ir,t=Hf=Ir=0;t<e;){var a=Gt[t];Gt[t++]=null;var n=Gt[t];Gt[t++]=null;var r=Gt[t];Gt[t++]=null;var s=Gt[t];if(Gt[t++]=null,n!==null&&r!==null){var l=n.pending;l===null?r.next=r:(r.next=l.next,l.next=r),n.pending=r}s!==0&&yg(a,r,s)}}function Ko(e,t,a,n){Gt[Ir++]=e,Gt[Ir++]=t,Gt[Ir++]=a,Gt[Ir++]=n,Hf|=n,e.lanes|=n,e=e.alternate,e!==null&&(e.lanes|=n)}function Bf(e,t,a,n){return Ko(e,t,a,n),Pi(e)}function gs(e,t){return Ko(e,null,null,t),Pi(e)}function yg(e,t,a){e.lanes|=a;var n=e.alternate;n!==null&&(n.lanes|=a);for(var r=!1,s=e.return;s!==null;)s.childLanes|=a,n=s.alternate,n!==null&&(n.childLanes|=a),s.tag===22&&(e=s.stateNode,e===null||e._visibility&1||(r=!0)),e=s,s=s.return;return e.tag===3?(s=e.stateNode,r&&t!==null&&(r=31-$t(a),e=s.hiddenUpdates,n=e[r],n===null?e[r]=[t]:n.push(t),t.lane=a|536870912),s):null}function Pi(e){if(50<nl)throw nl=0,Zc=null,Error(k(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Lr={};function Ux(e,t,a,n){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ht(e,t,a,n){return new Ux(e,t,a,n)}function $f(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ja(e,t){var a=e.alternate;return a===null?(a=Ht(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function vg(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ri(e,t,a,n,r,s){var l=0;if(n=e,typeof e=="function")$f(e)&&(l=1);else if(typeof e=="string")l=I1(e,a,Aa.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case fc:return e=Ht(31,a,t,r),e.elementType=fc,e.lanes=s,e;case Cr:return Wn(a.children,r,s,t);case Ih:l=8,r|=24;break;case oc:return e=Ht(12,a,t,r|2),e.elementType=oc,e.lanes=s,e;case uc:return e=Ht(13,a,t,r),e.elementType=uc,e.lanes=s,e;case cc:return e=Ht(19,a,t,r),e.elementType=cc,e.lanes=s,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case E_:case Za:l=10;break e;case Lh:l=9;break e;case Nf:l=11;break e;case kf:l=14;break e;case mn:l=16,n=null;break e}l=29,a=Error(k(130,e===null?"null":typeof e,"")),n=null}return t=Ht(l,a,t,r),t.elementType=e,t.type=n,t.lanes=s,t}function Wn(e,t,a,n){return e=Ht(7,e,n,t),e.lanes=a,e}function Ru(e,t,a){return e=Ht(6,e,null,t),e.lanes=a,e}function Nu(e,t,a){return t=Ht(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var qr=[],Hr=0,Yi=null,Gi=0,Jt=[],Qt=0,er=null,Pa=1,Ya="";function Xn(e,t){qr[Hr++]=Gi,qr[Hr++]=Yi,Yi=e,Gi=t}function bg(e,t,a){Jt[Qt++]=Pa,Jt[Qt++]=Ya,Jt[Qt++]=er,er=e;var n=Pa;e=Ya;var r=32-$t(n)-1;n&=~(1<<r),a+=1;var s=32-$t(t)+r;if(30<s){var l=r-r%5;s=(n&(1<<l)-1).toString(32),n>>=l,r-=l,Pa=1<<32-$t(t)+r|a<<r|n,Ya=s+e}else Pa=1<<s|a<<r|n,Ya=e}function Vf(e){e.return!==null&&(Xn(e,1),bg(e,1,0))}function Zf(e){for(;e===Yi;)Yi=qr[--Hr],qr[Hr]=null,Gi=qr[--Hr],qr[Hr]=null;for(;e===er;)er=Jt[--Qt],Jt[Qt]=null,Ya=Jt[--Qt],Jt[Qt]=null,Pa=Jt[--Qt],Jt[Qt]=null}var xt=null,ze=null,he=!1,tr=null,Ta=!1,Tc=Error(k(519));function ir(e){var t=Error(k(418,""));throw cl(Wt(t,e)),Tc}function Rp(e){var t=e.stateNode,a=e.type,n=e.memoizedProps;switch(t[yt]=e,t[Ot]=n,a){case"dialog":ie("cancel",t),ie("close",t);break;case"iframe":case"object":case"embed":ie("load",t);break;case"video":case"audio":for(a=0;a<pl.length;a++)ie(pl[a],t);break;case"source":ie("error",t);break;case"img":case"image":case"link":ie("error",t),ie("load",t);break;case"details":ie("toggle",t);break;case"input":ie("invalid",t),Qh(t,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0),Vi(t);break;case"select":ie("invalid",t);break;case"textarea":ie("invalid",t),Wh(t,n.value,n.defaultValue,n.children),Vi(t)}a=n.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||n.suppressHydrationWarning===!0||ev(t.textContent,a)?(n.popover!=null&&(ie("beforetoggle",t),ie("toggle",t)),n.onScroll!=null&&ie("scroll",t),n.onScrollEnd!=null&&ie("scrollend",t),n.onClick!=null&&(t.onclick=au),t=!0):t=!1,t||ir(e)}function Np(e){for(xt=e.return;xt;)switch(xt.tag){case 5:case 13:Ta=!1;return;case 27:case 3:Ta=!0;return;default:xt=xt.return}}function Os(e){if(e!==xt)return!1;if(!he)return Np(e),he=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Jc(e.type,e.memoizedProps)),a=!a),a&&ze&&ir(e),Np(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(k(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(t===0){ze=pa(e.nextSibling);break e}t--}else a!=="$"&&a!=="$!"&&a!=="$?"||t++;e=e.nextSibling}ze=null}}else t===27?(t=ze,Hn(e.type)?(e=Wc,Wc=null,ze=e):ze=t):ze=xt?pa(e.stateNode.nextSibling):null;return!0}function $l(){ze=xt=null,he=!1}function kp(){var e=tr;return e!==null&&(kt===null?kt=e:kt.push.apply(kt,e),tr=null),e}function cl(e){tr===null?tr=[e]:tr.push(e)}var Ec=ja(null),vr=null,Ga=null;function yn(e,t,a){Ce(Ec,t._currentValue),t._currentValue=a}function Qa(e){e._currentValue=Ec.current,ot(Ec)}function Ac(e,t,a){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===a)break;e=e.return}}function Rc(e,t,a,n){var r=e.child;for(r!==null&&(r.return=e);r!==null;){var s=r.dependencies;if(s!==null){var l=r.child;s=s.firstContext;e:for(;s!==null;){var i=s;s=r;for(var o=0;o<t.length;o++)if(i.context===t[o]){s.lanes|=a,i=s.alternate,i!==null&&(i.lanes|=a),Ac(s.return,a,e),n||(l=null);break e}s=i.next}}else if(r.tag===18){if(l=r.return,l===null)throw Error(k(341));l.lanes|=a,s=l.alternate,s!==null&&(s.lanes|=a),Ac(l,a,e),l=null}else l=r.child;if(l!==null)l.return=r;else for(l=r;l!==null;){if(l===e){l=null;break}if(r=l.sibling,r!==null){r.return=l.return,l=r;break}l=l.return}r=l}}function Vl(e,t,a,n){e=null;for(var r=t,s=!1;r!==null;){if(!s){if(r.flags&524288)s=!0;else if(r.flags&262144)break}if(r.tag===10){var l=r.alternate;if(l===null)throw Error(k(387));if(l=l.memoizedProps,l!==null){var i=r.type;Pt(r.pendingProps.value,l.value)||(e!==null?e.push(i):e=[i])}}else if(r===qi.current){if(l=r.alternate,l===null)throw Error(k(387));l.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(e!==null?e.push(gl):e=[gl])}r=r.return}e!==null&&Rc(t,e,a,n),t.flags|=262144}function Ki(e){for(e=e.firstContext;e!==null;){if(!Pt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function or(e){vr=e,Ga=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function vt(e){return _g(vr,e)}function fi(e,t){return vr===null&&or(e),_g(e,t)}function _g(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},Ga===null){if(e===null)throw Error(k(308));Ga=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Ga=Ga.next=t;return a}var zx=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},Ix=at.unstable_scheduleCallback,Lx=at.unstable_NormalPriority,et={$$typeof:Za,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Pf(){return{controller:new zx,data:new Map,refCount:0}}function Zl(e){e.refCount--,e.refCount===0&&Ix(Lx,function(){e.controller.abort()})}var Ks=null,Nc=0,Wr=0,Pr=null;function qx(e,t){if(Ks===null){var a=Ks=[];Nc=0,Wr=md(),Pr={status:"pending",value:void 0,then:function(n){a.push(n)}}}return Nc++,t.then(Cp,Cp),t}function Cp(){if(--Nc===0&&Ks!==null){Pr!==null&&(Pr.status="fulfilled");var e=Ks;Ks=null,Wr=0,Pr=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Hx(e,t){var a=[],n={status:"pending",value:null,reason:null,then:function(r){a.push(r)}};return e.then(function(){n.status="fulfilled",n.value=t;for(var r=0;r<a.length;r++)(0,a[r])(t)},function(r){for(n.status="rejected",n.reason=r,r=0;r<a.length;r++)(0,a[r])(void 0)}),n}var Op=F.S;F.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&qx(e,t),Op!==null&&Op(e,t)};var ar=ja(null);function Yf(){var e=ar.current;return e!==null?e:Ae.pooledCache}function Ni(e,t){t===null?Ce(ar,ar.current):Ce(ar,t.pool)}function xg(){var e=Yf();return e===null?null:{parent:et._currentValue,pool:e}}var Pl=Error(k(460)),Sg=Error(k(474)),Xo=Error(k(542)),kc={then:function(){}};function Mp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function di(){}function wg(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(di,di),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Dp(e),e;default:if(typeof t.status=="string")t.then(di,di);else{if(e=Ae,e!==null&&100<e.shellSuspendCounter)throw Error(k(482));e=t,e.status="pending",e.then(function(n){if(t.status==="pending"){var r=t;r.status="fulfilled",r.value=n}},function(n){if(t.status==="pending"){var r=t;r.status="rejected",r.reason=n}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Dp(e),e}throw Xs=t,Pl}}var Xs=null;function jp(){if(Xs===null)throw Error(k(459));var e=Xs;return Xs=null,e}function Dp(e){if(e===Pl||e===Xo)throw Error(k(483))}var hn=!1;function Gf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Cc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Rn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Nn(e,t,a){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,xe&2){var r=n.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),n.pending=t,t=Pi(e),yg(e,null,a),t}return Ko(e,n,t,a),Pi(e)}function Js(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,Ph(e,a)}}function ku(e,t){var a=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,a===n)){var r=null,s=null;if(a=a.firstBaseUpdate,a!==null){do{var l={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};s===null?r=s=l:s=s.next=l,a=a.next}while(a!==null);s===null?r=s=t:s=s.next=t}else r=s=t;a={baseState:n.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:n.shared,callbacks:n.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var Oc=!1;function Qs(){if(Oc){var e=Pr;if(e!==null)throw e}}function Fs(e,t,a,n){Oc=!1;var r=e.updateQueue;hn=!1;var s=r.firstBaseUpdate,l=r.lastBaseUpdate,i=r.shared.pending;if(i!==null){r.shared.pending=null;var o=i,u=o.next;o.next=null,l===null?s=u:l.next=u,l=o;var c=e.alternate;c!==null&&(c=c.updateQueue,i=c.lastBaseUpdate,i!==l&&(i===null?c.firstBaseUpdate=u:i.next=u,c.lastBaseUpdate=o))}if(s!==null){var f=r.baseState;l=0,c=u=o=null,i=s;do{var m=i.lane&-536870913,h=m!==i.lane;if(h?(fe&m)===m:(n&m)===m){m!==0&&m===Wr&&(Oc=!0),c!==null&&(c=c.next={lane:0,tag:i.tag,payload:i.payload,callback:null,next:null});e:{var S=e,_=i;m=t;var v=a;switch(_.tag){case 1:if(S=_.payload,typeof S=="function"){f=S.call(v,f,m);break e}f=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=_.payload,m=typeof S=="function"?S.call(v,f,m):S,m==null)break e;f=Re({},f,m);break e;case 2:hn=!0}}m=i.callback,m!==null&&(e.flags|=64,h&&(e.flags|=8192),h=r.callbacks,h===null?r.callbacks=[m]:h.push(m))}else h={lane:m,tag:i.tag,payload:i.payload,callback:i.callback,next:null},c===null?(u=c=h,o=f):c=c.next=h,l|=m;if(i=i.next,i===null){if(i=r.shared.pending,i===null)break;h=i,i=h.next,h.next=null,r.lastBaseUpdate=h,r.shared.pending=null}}while(!0);c===null&&(o=f),r.baseState=o,r.firstBaseUpdate=u,r.lastBaseUpdate=c,s===null&&(r.shared.lanes=0),zn|=l,e.lanes=l,e.memoizedState=f}}function Tg(e,t){if(typeof e!="function")throw Error(k(191,e));e.call(t)}function Eg(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Tg(a[e],t)}var es=ja(null),Xi=ja(0);function Up(e,t){e=nn,Ce(Xi,e),Ce(es,t),nn=e|t.baseLanes}function Mc(){Ce(Xi,nn),Ce(es,es.current)}function Kf(){nn=Xi.current,ot(es),ot(Xi)}var Dn=0,se=null,we=null,Xe=null,Ji=!1,Yr=!1,ur=!1,Qi=0,fl=0,Gr=null,Bx=0;function Ze(){throw Error(k(321))}function Xf(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!Pt(e[a],t[a]))return!1;return!0}function Jf(e,t,a,n,r,s){return Dn=s,se=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,F.H=e===null||e.memoizedState===null?ay:ny,ur=!1,s=a(n,r),ur=!1,Yr&&(s=Rg(t,a,n,r)),Ag(e),s}function Ag(e){F.H=Fi;var t=we!==null&&we.next!==null;if(Dn=0,Xe=we=se=null,Ji=!1,fl=0,Gr=null,t)throw Error(k(300));e===null||it||(e=e.dependencies,e!==null&&Ki(e)&&(it=!0))}function Rg(e,t,a,n){se=e;var r=0;do{if(Yr&&(Gr=null),fl=0,Yr=!1,25<=r)throw Error(k(301));if(r+=1,Xe=we=null,e.updateQueue!=null){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}F.H=Kx,s=t(a,n)}while(Yr);return s}function $x(){var e=F.H,t=e.useState()[0];return t=typeof t.then=="function"?Yl(t):t,e=e.useState()[0],(we!==null?we.memoizedState:null)!==e&&(se.flags|=1024),t}function Qf(){var e=Qi!==0;return Qi=0,e}function Ff(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function Wf(e){if(Ji){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Ji=!1}Dn=0,Xe=we=se=null,Yr=!1,fl=Qi=0,Gr=null}function Rt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xe===null?se.memoizedState=Xe=e:Xe=Xe.next=e,Xe}function Je(){if(we===null){var e=se.alternate;e=e!==null?e.memoizedState:null}else e=we.next;var t=Xe===null?se.memoizedState:Xe.next;if(t!==null)Xe=t,we=e;else{if(e===null)throw se.alternate===null?Error(k(467)):Error(k(310));we=e,e={memoizedState:we.memoizedState,baseState:we.baseState,baseQueue:we.baseQueue,queue:we.queue,next:null},Xe===null?se.memoizedState=Xe=e:Xe=Xe.next=e}return Xe}function ed(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Yl(e){var t=fl;return fl+=1,Gr===null&&(Gr=[]),e=wg(Gr,e,t),t=se,(Xe===null?t.memoizedState:Xe.next)===null&&(t=t.alternate,F.H=t===null||t.memoizedState===null?ay:ny),e}function Jo(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Yl(e);if(e.$$typeof===Za)return vt(e)}throw Error(k(438,String(e)))}function td(e){var t=null,a=se.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var n=se.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(t={data:n.data.map(function(r){return r.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=ed(),se.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),n=0;n<e;n++)a[n]=A_;return t.index++,a}function tn(e,t){return typeof t=="function"?t(e):t}function ki(e){var t=Je();return ad(t,we,e)}function ad(e,t,a){var n=e.queue;if(n===null)throw Error(k(311));n.lastRenderedReducer=a;var r=e.baseQueue,s=n.pending;if(s!==null){if(r!==null){var l=r.next;r.next=s.next,s.next=l}t.baseQueue=r=s,n.pending=null}if(s=e.baseState,r===null)e.memoizedState=s;else{t=r.next;var i=l=null,o=null,u=t,c=!1;do{var f=u.lane&-536870913;if(f!==u.lane?(fe&f)===f:(Dn&f)===f){var m=u.revertLane;if(m===0)o!==null&&(o=o.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),f===Wr&&(c=!0);else if((Dn&m)===m){u=u.next,m===Wr&&(c=!0);continue}else f={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},o===null?(i=o=f,l=s):o=o.next=f,se.lanes|=m,zn|=m;f=u.action,ur&&a(s,f),s=u.hasEagerState?u.eagerState:a(s,f)}else m={lane:f,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},o===null?(i=o=m,l=s):o=o.next=m,se.lanes|=f,zn|=f;u=u.next}while(u!==null&&u!==t);if(o===null?l=s:o.next=i,!Pt(s,e.memoizedState)&&(it=!0,c&&(a=Pr,a!==null)))throw a;e.memoizedState=s,e.baseState=l,e.baseQueue=o,n.lastRenderedState=s}return r===null&&(n.lanes=0),[e.memoizedState,n.dispatch]}function Cu(e){var t=Je(),a=t.queue;if(a===null)throw Error(k(311));a.lastRenderedReducer=e;var n=a.dispatch,r=a.pending,s=t.memoizedState;if(r!==null){a.pending=null;var l=r=r.next;do s=e(s,l.action),l=l.next;while(l!==r);Pt(s,t.memoizedState)||(it=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),a.lastRenderedState=s}return[s,n]}function Ng(e,t,a){var n=se,r=Je(),s=he;if(s){if(a===void 0)throw Error(k(407));a=a()}else a=t();var l=!Pt((we||r).memoizedState,a);l&&(r.memoizedState=a,it=!0),r=r.queue;var i=Og.bind(null,n,r,e);if(Gl(2048,8,i,[e]),r.getSnapshot!==t||l||Xe!==null&&Xe.memoizedState.tag&1){if(n.flags|=2048,ts(9,Qo(),Cg.bind(null,n,r,a,t),null),Ae===null)throw Error(k(349));s||Dn&124||kg(n,t,a)}return a}function kg(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=se.updateQueue,t===null?(t=ed(),se.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function Cg(e,t,a,n){t.value=a,t.getSnapshot=n,Mg(t)&&jg(e)}function Og(e,t,a){return a(function(){Mg(t)&&jg(e)})}function Mg(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!Pt(e,a)}catch{return!0}}function jg(e){var t=gs(e,2);t!==null&&Zt(t,e,2)}function jc(e){var t=Rt();if(typeof e=="function"){var a=e;if(e=a(),ur){Sn(!0);try{a()}finally{Sn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:tn,lastRenderedState:e},t}function Dg(e,t,a,n){return e.baseState=a,ad(e,we,typeof n=="function"?n:tn)}function Vx(e,t,a,n,r){if(Fo(e))throw Error(k(485));if(e=t.action,e!==null){var s={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(l){s.listeners.push(l)}};F.T!==null?a(!0):s.isTransition=!1,n(s),a=t.pending,a===null?(s.next=t.pending=s,Ug(t,s)):(s.next=a.next,t.pending=a.next=s)}}function Ug(e,t){var a=t.action,n=t.payload,r=e.state;if(t.isTransition){var s=F.T,l={};F.T=l;try{var i=a(r,n),o=F.S;o!==null&&o(l,i),zp(e,t,i)}catch(u){Dc(e,t,u)}finally{F.T=s}}else try{s=a(r,n),zp(e,t,s)}catch(u){Dc(e,t,u)}}function zp(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(n){Ip(e,t,n)},function(n){return Dc(e,t,n)}):Ip(e,t,a)}function Ip(e,t,a){t.status="fulfilled",t.value=a,zg(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,Ug(e,a)))}function Dc(e,t,a){var n=e.pending;if(e.pending=null,n!==null){n=n.next;do t.status="rejected",t.reason=a,zg(t),t=t.next;while(t!==n)}e.action=null}function zg(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Ig(e,t){return t}function Lp(e,t){if(he){var a=Ae.formState;if(a!==null){e:{var n=se;if(he){if(ze){t:{for(var r=ze,s=Ta;r.nodeType!==8;){if(!s){r=null;break t}if(r=pa(r.nextSibling),r===null){r=null;break t}}s=r.data,r=s==="F!"||s==="F"?r:null}if(r){ze=pa(r.nextSibling),n=r.data==="F!";break e}}ir(n)}n=!1}n&&(t=a[0])}}return a=Rt(),a.memoizedState=a.baseState=t,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ig,lastRenderedState:t},a.queue=n,a=Wg.bind(null,se,n),n.dispatch=a,n=jc(!1),s=ld.bind(null,se,!1,n.queue),n=Rt(),r={state:t,dispatch:null,action:e,pending:null},n.queue=r,a=Vx.bind(null,se,r,s,a),r.dispatch=a,n.memoizedState=e,[t,a,!1]}function qp(e){var t=Je();return Lg(t,we,e)}function Lg(e,t,a){if(t=ad(e,t,Ig)[0],e=ki(tn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var n=Yl(t)}catch(l){throw l===Pl?Xo:l}else n=t;t=Je();var r=t.queue,s=r.dispatch;return a!==t.memoizedState&&(se.flags|=2048,ts(9,Qo(),Zx.bind(null,r,a),null)),[n,s,e]}function Zx(e,t){e.action=t}function Hp(e){var t=Je(),a=we;if(a!==null)return Lg(t,a,e);Je(),t=t.memoizedState,a=Je();var n=a.queue.dispatch;return a.memoizedState=e,[t,n,!1]}function ts(e,t,a,n){return e={tag:e,create:a,deps:n,inst:t,next:null},t=se.updateQueue,t===null&&(t=ed(),se.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(n=a.next,a.next=e,e.next=n,t.lastEffect=e),e}function Qo(){return{destroy:void 0,resource:void 0}}function qg(){return Je().memoizedState}function Ci(e,t,a,n){var r=Rt();n=n===void 0?null:n,se.flags|=e,r.memoizedState=ts(1|t,Qo(),a,n)}function Gl(e,t,a,n){var r=Je();n=n===void 0?null:n;var s=r.memoizedState.inst;we!==null&&n!==null&&Xf(n,we.memoizedState.deps)?r.memoizedState=ts(t,s,a,n):(se.flags|=e,r.memoizedState=ts(1|t,s,a,n))}function Bp(e,t){Ci(8390656,8,e,t)}function Hg(e,t){Gl(2048,8,e,t)}function Bg(e,t){return Gl(4,2,e,t)}function $g(e,t){return Gl(4,4,e,t)}function Vg(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Zg(e,t,a){a=a!=null?a.concat([e]):null,Gl(4,4,Vg.bind(null,t,e),a)}function nd(){}function Pg(e,t){var a=Je();t=t===void 0?null:t;var n=a.memoizedState;return t!==null&&Xf(t,n[1])?n[0]:(a.memoizedState=[e,t],e)}function Yg(e,t){var a=Je();t=t===void 0?null:t;var n=a.memoizedState;if(t!==null&&Xf(t,n[1]))return n[0];if(n=e(),ur){Sn(!0);try{e()}finally{Sn(!1)}}return a.memoizedState=[n,t],n}function rd(e,t,a){return a===void 0||Dn&1073741824?e.memoizedState=t:(e.memoizedState=a,e=zy(),se.lanes|=e,zn|=e,a)}function Gg(e,t,a,n){return Pt(a,t)?a:es.current!==null?(e=rd(e,a,n),Pt(e,t)||(it=!0),e):Dn&42?(e=zy(),se.lanes|=e,zn|=e,t):(it=!0,e.memoizedState=a)}function Kg(e,t,a,n,r){var s=ye.p;ye.p=s!==0&&8>s?s:8;var l=F.T,i={};F.T=i,ld(e,!1,t,a);try{var o=r(),u=F.S;if(u!==null&&u(i,o),o!==null&&typeof o=="object"&&typeof o.then=="function"){var c=Hx(o,n);Ws(e,t,c,Vt(e))}else Ws(e,t,n,Vt(e))}catch(f){Ws(e,t,{then:function(){},status:"rejected",reason:f},Vt())}finally{ye.p=s,F.T=l}}function Px(){}function Uc(e,t,a,n){if(e.tag!==5)throw Error(k(476));var r=Xg(e).queue;Kg(e,r,t,Fn,a===null?Px:function(){return Jg(e),a(n)})}function Xg(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Fn,baseState:Fn,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:tn,lastRenderedState:Fn},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:tn,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Jg(e){var t=Xg(e).next.queue;Ws(e,t,{},Vt())}function sd(){return vt(gl)}function Qg(){return Je().memoizedState}function Fg(){return Je().memoizedState}function Yx(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=Vt();e=Rn(a);var n=Nn(t,e,a);n!==null&&(Zt(n,t,a),Js(n,t,a)),t={cache:Pf()},e.payload=t;return}t=t.return}}function Gx(e,t,a){var n=Vt();a={lane:n,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Fo(e)?ey(t,a):(a=Bf(e,t,a,n),a!==null&&(Zt(a,e,n),ty(a,t,n)))}function Wg(e,t,a){var n=Vt();Ws(e,t,a,n)}function Ws(e,t,a,n){var r={lane:n,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Fo(e))ey(t,r);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var l=t.lastRenderedState,i=s(l,a);if(r.hasEagerState=!0,r.eagerState=i,Pt(i,l))return Ko(e,t,r,0),Ae===null&&Go(),!1}catch{}finally{}if(a=Bf(e,t,r,n),a!==null)return Zt(a,e,n),ty(a,t,n),!0}return!1}function ld(e,t,a,n){if(n={lane:2,revertLane:md(),action:n,hasEagerState:!1,eagerState:null,next:null},Fo(e)){if(t)throw Error(k(479))}else t=Bf(e,a,n,2),t!==null&&Zt(t,e,2)}function Fo(e){var t=e.alternate;return e===se||t!==null&&t===se}function ey(e,t){Yr=Ji=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function ty(e,t,a){if(a&4194048){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,Ph(e,a)}}var Fi={readContext:vt,use:Jo,useCallback:Ze,useContext:Ze,useEffect:Ze,useImperativeHandle:Ze,useLayoutEffect:Ze,useInsertionEffect:Ze,useMemo:Ze,useReducer:Ze,useRef:Ze,useState:Ze,useDebugValue:Ze,useDeferredValue:Ze,useTransition:Ze,useSyncExternalStore:Ze,useId:Ze,useHostTransitionStatus:Ze,useFormState:Ze,useActionState:Ze,useOptimistic:Ze,useMemoCache:Ze,useCacheRefresh:Ze},ay={readContext:vt,use:Jo,useCallback:function(e,t){return Rt().memoizedState=[e,t===void 0?null:t],e},useContext:vt,useEffect:Bp,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,Ci(4194308,4,Vg.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Ci(4194308,4,e,t)},useInsertionEffect:function(e,t){Ci(4,2,e,t)},useMemo:function(e,t){var a=Rt();t=t===void 0?null:t;var n=e();if(ur){Sn(!0);try{e()}finally{Sn(!1)}}return a.memoizedState=[n,t],n},useReducer:function(e,t,a){var n=Rt();if(a!==void 0){var r=a(t);if(ur){Sn(!0);try{a(t)}finally{Sn(!1)}}}else r=t;return n.memoizedState=n.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},n.queue=e,e=e.dispatch=Gx.bind(null,se,e),[n.memoizedState,e]},useRef:function(e){var t=Rt();return e={current:e},t.memoizedState=e},useState:function(e){e=jc(e);var t=e.queue,a=Wg.bind(null,se,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:nd,useDeferredValue:function(e,t){var a=Rt();return rd(a,e,t)},useTransition:function(){var e=jc(!1);return e=Kg.bind(null,se,e.queue,!0,!1),Rt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var n=se,r=Rt();if(he){if(a===void 0)throw Error(k(407));a=a()}else{if(a=t(),Ae===null)throw Error(k(349));fe&124||kg(n,t,a)}r.memoizedState=a;var s={value:a,getSnapshot:t};return r.queue=s,Bp(Og.bind(null,n,s,e),[e]),n.flags|=2048,ts(9,Qo(),Cg.bind(null,n,s,a,t),null),a},useId:function(){var e=Rt(),t=Ae.identifierPrefix;if(he){var a=Ya,n=Pa;a=(n&~(1<<32-$t(n)-1)).toString(32)+a,t="«"+t+"R"+a,a=Qi++,0<a&&(t+="H"+a.toString(32)),t+="»"}else a=Bx++,t="«"+t+"r"+a.toString(32)+"»";return e.memoizedState=t},useHostTransitionStatus:sd,useFormState:Lp,useActionState:Lp,useOptimistic:function(e){var t=Rt();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=ld.bind(null,se,!0,a),a.dispatch=t,[e,t]},useMemoCache:td,useCacheRefresh:function(){return Rt().memoizedState=Yx.bind(null,se)}},ny={readContext:vt,use:Jo,useCallback:Pg,useContext:vt,useEffect:Hg,useImperativeHandle:Zg,useInsertionEffect:Bg,useLayoutEffect:$g,useMemo:Yg,useReducer:ki,useRef:qg,useState:function(){return ki(tn)},useDebugValue:nd,useDeferredValue:function(e,t){var a=Je();return Gg(a,we.memoizedState,e,t)},useTransition:function(){var e=ki(tn)[0],t=Je().memoizedState;return[typeof e=="boolean"?e:Yl(e),t]},useSyncExternalStore:Ng,useId:Qg,useHostTransitionStatus:sd,useFormState:qp,useActionState:qp,useOptimistic:function(e,t){var a=Je();return Dg(a,we,e,t)},useMemoCache:td,useCacheRefresh:Fg},Kx={readContext:vt,use:Jo,useCallback:Pg,useContext:vt,useEffect:Hg,useImperativeHandle:Zg,useInsertionEffect:Bg,useLayoutEffect:$g,useMemo:Yg,useReducer:Cu,useRef:qg,useState:function(){return Cu(tn)},useDebugValue:nd,useDeferredValue:function(e,t){var a=Je();return we===null?rd(a,e,t):Gg(a,we.memoizedState,e,t)},useTransition:function(){var e=Cu(tn)[0],t=Je().memoizedState;return[typeof e=="boolean"?e:Yl(e),t]},useSyncExternalStore:Ng,useId:Qg,useHostTransitionStatus:sd,useFormState:Hp,useActionState:Hp,useOptimistic:function(e,t){var a=Je();return we!==null?Dg(a,we,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:td,useCacheRefresh:Fg},Kr=null,dl=0;function pi(e){var t=dl;return dl+=1,Kr===null&&(Kr=[]),wg(Kr,e,t)}function Ms(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function mi(e,t){throw t.$$typeof===T_?Error(k(525)):(e=Object.prototype.toString.call(t),Error(k(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function $p(e){var t=e._init;return t(e._payload)}function ry(e){function t(d,p){if(e){var y=d.deletions;y===null?(d.deletions=[p],d.flags|=16):y.push(p)}}function a(d,p){if(!e)return null;for(;p!==null;)t(d,p),p=p.sibling;return null}function n(d){for(var p=new Map;d!==null;)d.key!==null?p.set(d.key,d):p.set(d.index,d),d=d.sibling;return p}function r(d,p){return d=Ja(d,p),d.index=0,d.sibling=null,d}function s(d,p,y){return d.index=y,e?(y=d.alternate,y!==null?(y=y.index,y<p?(d.flags|=67108866,p):y):(d.flags|=67108866,p)):(d.flags|=1048576,p)}function l(d){return e&&d.alternate===null&&(d.flags|=67108866),d}function i(d,p,y,g){return p===null||p.tag!==6?(p=Ru(y,d.mode,g),p.return=d,p):(p=r(p,y),p.return=d,p)}function o(d,p,y,g){var w=y.type;return w===Cr?c(d,p,y.props.children,g,y.key):p!==null&&(p.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===mn&&$p(w)===p.type)?(p=r(p,y.props),Ms(p,y),p.return=d,p):(p=Ri(y.type,y.key,y.props,null,d.mode,g),Ms(p,y),p.return=d,p)}function u(d,p,y,g){return p===null||p.tag!==4||p.stateNode.containerInfo!==y.containerInfo||p.stateNode.implementation!==y.implementation?(p=Nu(y,d.mode,g),p.return=d,p):(p=r(p,y.children||[]),p.return=d,p)}function c(d,p,y,g,w){return p===null||p.tag!==7?(p=Wn(y,d.mode,g,w),p.return=d,p):(p=r(p,y),p.return=d,p)}function f(d,p,y){if(typeof p=="string"&&p!==""||typeof p=="number"||typeof p=="bigint")return p=Ru(""+p,d.mode,y),p.return=d,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case li:return y=Ri(p.type,p.key,p.props,null,d.mode,y),Ms(y,p),y.return=d,y;case qs:return p=Nu(p,d.mode,y),p.return=d,p;case mn:var g=p._init;return p=g(p._payload),f(d,p,y)}if(Hs(p)||Ns(p))return p=Wn(p,d.mode,y,null),p.return=d,p;if(typeof p.then=="function")return f(d,pi(p),y);if(p.$$typeof===Za)return f(d,fi(d,p),y);mi(d,p)}return null}function m(d,p,y,g){var w=p!==null?p.key:null;if(typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint")return w!==null?null:i(d,p,""+y,g);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case li:return y.key===w?o(d,p,y,g):null;case qs:return y.key===w?u(d,p,y,g):null;case mn:return w=y._init,y=w(y._payload),m(d,p,y,g)}if(Hs(y)||Ns(y))return w!==null?null:c(d,p,y,g,null);if(typeof y.then=="function")return m(d,p,pi(y),g);if(y.$$typeof===Za)return m(d,p,fi(d,y),g);mi(d,y)}return null}function h(d,p,y,g,w){if(typeof g=="string"&&g!==""||typeof g=="number"||typeof g=="bigint")return d=d.get(y)||null,i(p,d,""+g,w);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case li:return d=d.get(g.key===null?y:g.key)||null,o(p,d,g,w);case qs:return d=d.get(g.key===null?y:g.key)||null,u(p,d,g,w);case mn:var E=g._init;return g=E(g._payload),h(d,p,y,g,w)}if(Hs(g)||Ns(g))return d=d.get(y)||null,c(p,d,g,w,null);if(typeof g.then=="function")return h(d,p,y,pi(g),w);if(g.$$typeof===Za)return h(d,p,y,fi(p,g),w);mi(p,g)}return null}function S(d,p,y,g){for(var w=null,E=null,N=p,R=p=0,j=null;N!==null&&R<y.length;R++){N.index>R?(j=N,N=null):j=N.sibling;var $=m(d,N,y[R],g);if($===null){N===null&&(N=j);break}e&&N&&$.alternate===null&&t(d,N),p=s($,p,R),E===null?w=$:E.sibling=$,E=$,N=j}if(R===y.length)return a(d,N),he&&Xn(d,R),w;if(N===null){for(;R<y.length;R++)N=f(d,y[R],g),N!==null&&(p=s(N,p,R),E===null?w=N:E.sibling=N,E=N);return he&&Xn(d,R),w}for(N=n(N);R<y.length;R++)j=h(N,d,R,y[R],g),j!==null&&(e&&j.alternate!==null&&N.delete(j.key===null?R:j.key),p=s(j,p,R),E===null?w=j:E.sibling=j,E=j);return e&&N.forEach(function(me){return t(d,me)}),he&&Xn(d,R),w}function _(d,p,y,g){if(y==null)throw Error(k(151));for(var w=null,E=null,N=p,R=p=0,j=null,$=y.next();N!==null&&!$.done;R++,$=y.next()){N.index>R?(j=N,N=null):j=N.sibling;var me=m(d,N,$.value,g);if(me===null){N===null&&(N=j);break}e&&N&&me.alternate===null&&t(d,N),p=s(me,p,R),E===null?w=me:E.sibling=me,E=me,N=j}if($.done)return a(d,N),he&&Xn(d,R),w;if(N===null){for(;!$.done;R++,$=y.next())$=f(d,$.value,g),$!==null&&(p=s($,p,R),E===null?w=$:E.sibling=$,E=$);return he&&Xn(d,R),w}for(N=n(N);!$.done;R++,$=y.next())$=h(N,d,R,$.value,g),$!==null&&(e&&$.alternate!==null&&N.delete($.key===null?R:$.key),p=s($,p,R),E===null?w=$:E.sibling=$,E=$);return e&&N.forEach(function(ve){return t(d,ve)}),he&&Xn(d,R),w}function v(d,p,y,g){if(typeof y=="object"&&y!==null&&y.type===Cr&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case li:e:{for(var w=y.key;p!==null;){if(p.key===w){if(w=y.type,w===Cr){if(p.tag===7){a(d,p.sibling),g=r(p,y.props.children),g.return=d,d=g;break e}}else if(p.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===mn&&$p(w)===p.type){a(d,p.sibling),g=r(p,y.props),Ms(g,y),g.return=d,d=g;break e}a(d,p);break}else t(d,p);p=p.sibling}y.type===Cr?(g=Wn(y.props.children,d.mode,g,y.key),g.return=d,d=g):(g=Ri(y.type,y.key,y.props,null,d.mode,g),Ms(g,y),g.return=d,d=g)}return l(d);case qs:e:{for(w=y.key;p!==null;){if(p.key===w)if(p.tag===4&&p.stateNode.containerInfo===y.containerInfo&&p.stateNode.implementation===y.implementation){a(d,p.sibling),g=r(p,y.children||[]),g.return=d,d=g;break e}else{a(d,p);break}else t(d,p);p=p.sibling}g=Nu(y,d.mode,g),g.return=d,d=g}return l(d);case mn:return w=y._init,y=w(y._payload),v(d,p,y,g)}if(Hs(y))return S(d,p,y,g);if(Ns(y)){if(w=Ns(y),typeof w!="function")throw Error(k(150));return y=w.call(y),_(d,p,y,g)}if(typeof y.then=="function")return v(d,p,pi(y),g);if(y.$$typeof===Za)return v(d,p,fi(d,y),g);mi(d,y)}return typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint"?(y=""+y,p!==null&&p.tag===6?(a(d,p.sibling),g=r(p,y),g.return=d,d=g):(a(d,p),g=Ru(y,d.mode,g),g.return=d,d=g),l(d)):a(d,p)}return function(d,p,y,g){try{dl=0;var w=v(d,p,y,g);return Kr=null,w}catch(N){if(N===Pl||N===Xo)throw N;var E=Ht(29,N,null,d.mode);return E.lanes=g,E.return=d,E}finally{}}}var as=ry(!0),sy=ry(!1),ra=ja(null),Na=null;function vn(e){var t=e.alternate;Ce(tt,tt.current&1),Ce(ra,e),Na===null&&(t===null||es.current!==null||t.memoizedState!==null)&&(Na=e)}function ly(e){if(e.tag===22){if(Ce(tt,tt.current),Ce(ra,e),Na===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(Na=e)}}else bn()}function bn(){Ce(tt,tt.current),Ce(ra,ra.current)}function Ka(e){ot(ra),Na===e&&(Na=null),ot(tt)}var tt=ja(0);function Wi(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Fc(a)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Ou(e,t,a,n){t=e.memoizedState,a=a(n,t),a=a==null?t:Re({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var zc={enqueueSetState:function(e,t,a){e=e._reactInternals;var n=Vt(),r=Rn(n);r.payload=t,a!=null&&(r.callback=a),t=Nn(e,r,n),t!==null&&(Zt(t,e,n),Js(t,e,n))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var n=Vt(),r=Rn(n);r.tag=1,r.payload=t,a!=null&&(r.callback=a),t=Nn(e,r,n),t!==null&&(Zt(t,e,n),Js(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=Vt(),n=Rn(a);n.tag=2,t!=null&&(n.callback=t),t=Nn(e,n,a),t!==null&&(Zt(t,e,a),Js(t,e,a))}};function Vp(e,t,a,n,r,s,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,l):t.prototype&&t.prototype.isPureReactComponent?!ul(a,n)||!ul(r,s):!0}function Zp(e,t,a,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,n),t.state!==e&&zc.enqueueReplaceState(t,t.state,null)}function cr(e,t){var a=t;if("ref"in t){a={};for(var n in t)n!=="ref"&&(a[n]=t[n])}if(e=e.defaultProps){a===t&&(a=Re({},a));for(var r in e)a[r]===void 0&&(a[r]=e[r])}return a}var eo=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function iy(e){eo(e)}function oy(e){console.error(e)}function uy(e){eo(e)}function to(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Pp(e,t,a){try{var n=e.onCaughtError;n(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Ic(e,t,a){return a=Rn(a),a.tag=3,a.payload={element:null},a.callback=function(){to(e,t)},a}function cy(e){return e=Rn(e),e.tag=3,e}function fy(e,t,a,n){var r=a.type.getDerivedStateFromError;if(typeof r=="function"){var s=n.value;e.payload=function(){return r(s)},e.callback=function(){Pp(t,a,n)}}var l=a.stateNode;l!==null&&typeof l.componentDidCatch=="function"&&(e.callback=function(){Pp(t,a,n),typeof r!="function"&&(kn===null?kn=new Set([this]):kn.add(this));var i=n.stack;this.componentDidCatch(n.value,{componentStack:i!==null?i:""})})}function Xx(e,t,a,n,r){if(a.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(t=a.alternate,t!==null&&Vl(t,a,r,!0),a=ra.current,a!==null){switch(a.tag){case 13:return Na===null?Pc():a.alternate===null&&Ie===0&&(Ie=3),a.flags&=-257,a.flags|=65536,a.lanes=r,n===kc?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([n]):t.add(n),$u(e,n,r)),!1;case 22:return a.flags|=65536,n===kc?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([n])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([n]):a.add(n)),$u(e,n,r)),!1}throw Error(k(435,a.tag))}return $u(e,n,r),Pc(),!1}if(he)return t=ra.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=r,n!==Tc&&(e=Error(k(422),{cause:n}),cl(Wt(e,a)))):(n!==Tc&&(t=Error(k(423),{cause:n}),cl(Wt(t,a))),e=e.current.alternate,e.flags|=65536,r&=-r,e.lanes|=r,n=Wt(n,a),r=Ic(e.stateNode,n,r),ku(e,r),Ie!==4&&(Ie=2)),!1;var s=Error(k(520),{cause:n});if(s=Wt(s,a),al===null?al=[s]:al.push(s),Ie!==4&&(Ie=2),t===null)return!0;n=Wt(n,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=r&-r,a.lanes|=e,e=Ic(a.stateNode,n,e),ku(a,e),!1;case 1:if(t=a.type,s=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(kn===null||!kn.has(s))))return a.flags|=65536,r&=-r,a.lanes|=r,r=cy(r),fy(r,e,a,n),ku(a,r),!1}a=a.return}while(a!==null);return!1}var dy=Error(k(461)),it=!1;function ct(e,t,a,n){t.child=e===null?sy(t,null,a,n):as(t,e.child,a,n)}function Yp(e,t,a,n,r){a=a.render;var s=t.ref;if("ref"in n){var l={};for(var i in n)i!=="ref"&&(l[i]=n[i])}else l=n;return or(t),n=Jf(e,t,a,l,s,r),i=Qf(),e!==null&&!it?(Ff(e,t,r),an(e,t,r)):(he&&i&&Vf(t),t.flags|=1,ct(e,t,n,r),t.child)}function Gp(e,t,a,n,r){if(e===null){var s=a.type;return typeof s=="function"&&!$f(s)&&s.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=s,py(e,t,s,n,r)):(e=Ri(a.type,null,n,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!id(e,r)){var l=s.memoizedProps;if(a=a.compare,a=a!==null?a:ul,a(l,n)&&e.ref===t.ref)return an(e,t,r)}return t.flags|=1,e=Ja(s,n),e.ref=t.ref,e.return=t,t.child=e}function py(e,t,a,n,r){if(e!==null){var s=e.memoizedProps;if(ul(s,n)&&e.ref===t.ref)if(it=!1,t.pendingProps=n=s,id(e,r))e.flags&131072&&(it=!0);else return t.lanes=e.lanes,an(e,t,r)}return Lc(e,t,a,n,r)}function my(e,t,a){var n=t.pendingProps,r=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden"){if(t.flags&128){if(n=s!==null?s.baseLanes|a:a,e!==null){for(r=t.child=e.child,s=0;r!==null;)s=s|r.lanes|r.childLanes,r=r.sibling;t.childLanes=s&~n}else t.childLanes=0,t.child=null;return Kp(e,t,n,a)}if(a&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ni(t,s!==null?s.cachePool:null),s!==null?Up(t,s):Mc(),ly(t);else return t.lanes=t.childLanes=536870912,Kp(e,t,s!==null?s.baseLanes|a:a,a)}else s!==null?(Ni(t,s.cachePool),Up(t,s),bn(),t.memoizedState=null):(e!==null&&Ni(t,null),Mc(),bn());return ct(e,t,r,a),t.child}function Kp(e,t,a,n){var r=Yf();return r=r===null?null:{parent:et._currentValue,pool:r},t.memoizedState={baseLanes:a,cachePool:r},e!==null&&Ni(t,null),Mc(),ly(t),e!==null&&Vl(e,t,n,!0),null}function Oi(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(k(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function Lc(e,t,a,n,r){return or(t),a=Jf(e,t,a,n,void 0,r),n=Qf(),e!==null&&!it?(Ff(e,t,r),an(e,t,r)):(he&&n&&Vf(t),t.flags|=1,ct(e,t,a,r),t.child)}function Xp(e,t,a,n,r,s){return or(t),t.updateQueue=null,a=Rg(t,n,a,r),Ag(e),n=Qf(),e!==null&&!it?(Ff(e,t,s),an(e,t,s)):(he&&n&&Vf(t),t.flags|=1,ct(e,t,a,s),t.child)}function Jp(e,t,a,n,r){if(or(t),t.stateNode===null){var s=Lr,l=a.contextType;typeof l=="object"&&l!==null&&(s=vt(l)),s=new a(n,s),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=zc,t.stateNode=s,s._reactInternals=t,s=t.stateNode,s.props=n,s.state=t.memoizedState,s.refs={},Gf(t),l=a.contextType,s.context=typeof l=="object"&&l!==null?vt(l):Lr,s.state=t.memoizedState,l=a.getDerivedStateFromProps,typeof l=="function"&&(Ou(t,a,l,n),s.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(l=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),l!==s.state&&zc.enqueueReplaceState(s,s.state,null),Fs(t,n,s,r),Qs(),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!0}else if(e===null){s=t.stateNode;var i=t.memoizedProps,o=cr(a,i);s.props=o;var u=s.context,c=a.contextType;l=Lr,typeof c=="object"&&c!==null&&(l=vt(c));var f=a.getDerivedStateFromProps;c=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function",i=t.pendingProps!==i,c||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(i||u!==l)&&Zp(t,s,n,l),hn=!1;var m=t.memoizedState;s.state=m,Fs(t,n,s,r),Qs(),u=t.memoizedState,i||m!==u||hn?(typeof f=="function"&&(Ou(t,a,f,n),u=t.memoizedState),(o=hn||Vp(t,a,o,n,m,u,l))?(c||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=u),s.props=n,s.state=u,s.context=l,n=o):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,Cc(e,t),l=t.memoizedProps,c=cr(a,l),s.props=c,f=t.pendingProps,m=s.context,u=a.contextType,o=Lr,typeof u=="object"&&u!==null&&(o=vt(u)),i=a.getDerivedStateFromProps,(u=typeof i=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==f||m!==o)&&Zp(t,s,n,o),hn=!1,m=t.memoizedState,s.state=m,Fs(t,n,s,r),Qs();var h=t.memoizedState;l!==f||m!==h||hn||e!==null&&e.dependencies!==null&&Ki(e.dependencies)?(typeof i=="function"&&(Ou(t,a,i,n),h=t.memoizedState),(c=hn||Vp(t,a,c,n,m,h,o)||e!==null&&e.dependencies!==null&&Ki(e.dependencies))?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,h,o),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,h,o)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=h),s.props=n,s.state=h,s.context=o,n=c):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),n=!1)}return s=n,Oi(e,t),n=(t.flags&128)!==0,s||n?(s=t.stateNode,a=n&&typeof a.getDerivedStateFromError!="function"?null:s.render(),t.flags|=1,e!==null&&n?(t.child=as(t,e.child,null,r),t.child=as(t,null,a,r)):ct(e,t,a,r),t.memoizedState=s.state,e=t.child):e=an(e,t,r),e}function Qp(e,t,a,n){return $l(),t.flags|=256,ct(e,t,a,n),t.child}var Mu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ju(e){return{baseLanes:e,cachePool:xg()}}function Du(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=ta),e}function hy(e,t,a){var n=t.pendingProps,r=!1,s=(t.flags&128)!==0,l;if((l=s)||(l=e!==null&&e.memoizedState===null?!1:(tt.current&2)!==0),l&&(r=!0,t.flags&=-129),l=(t.flags&32)!==0,t.flags&=-33,e===null){if(he){if(r?vn(t):bn(),he){var i=ze,o;if(o=i){e:{for(o=i,i=Ta;o.nodeType!==8;){if(!i){i=null;break e}if(o=pa(o.nextSibling),o===null){i=null;break e}}i=o}i!==null?(t.memoizedState={dehydrated:i,treeContext:er!==null?{id:Pa,overflow:Ya}:null,retryLane:536870912,hydrationErrors:null},o=Ht(18,null,null,0),o.stateNode=i,o.return=t,t.child=o,xt=t,ze=null,o=!0):o=!1}o||ir(t)}if(i=t.memoizedState,i!==null&&(i=i.dehydrated,i!==null))return Fc(i)?t.lanes=32:t.lanes=536870912,null;Ka(t)}return i=n.children,n=n.fallback,r?(bn(),r=t.mode,i=ao({mode:"hidden",children:i},r),n=Wn(n,r,a,null),i.return=t,n.return=t,i.sibling=n,t.child=i,r=t.child,r.memoizedState=ju(a),r.childLanes=Du(e,l,a),t.memoizedState=Mu,n):(vn(t),qc(t,i))}if(o=e.memoizedState,o!==null&&(i=o.dehydrated,i!==null)){if(s)t.flags&256?(vn(t),t.flags&=-257,t=Uu(e,t,a)):t.memoizedState!==null?(bn(),t.child=e.child,t.flags|=128,t=null):(bn(),r=n.fallback,i=t.mode,n=ao({mode:"visible",children:n.children},i),r=Wn(r,i,a,null),r.flags|=2,n.return=t,r.return=t,n.sibling=r,t.child=n,as(t,e.child,null,a),n=t.child,n.memoizedState=ju(a),n.childLanes=Du(e,l,a),t.memoizedState=Mu,t=r);else if(vn(t),Fc(i)){if(l=i.nextSibling&&i.nextSibling.dataset,l)var u=l.dgst;l=u,n=Error(k(419)),n.stack="",n.digest=l,cl({value:n,source:null,stack:null}),t=Uu(e,t,a)}else if(it||Vl(e,t,a,!1),l=(a&e.childLanes)!==0,it||l){if(l=Ae,l!==null&&(n=a&-a,n=n&42?1:Of(n),n=n&(l.suspendedLanes|a)?0:n,n!==0&&n!==o.retryLane))throw o.retryLane=n,gs(e,n),Zt(l,e,n),dy;i.data==="$?"||Pc(),t=Uu(e,t,a)}else i.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=o.treeContext,ze=pa(i.nextSibling),xt=t,he=!0,tr=null,Ta=!1,e!==null&&(Jt[Qt++]=Pa,Jt[Qt++]=Ya,Jt[Qt++]=er,Pa=e.id,Ya=e.overflow,er=t),t=qc(t,n.children),t.flags|=4096);return t}return r?(bn(),r=n.fallback,i=t.mode,o=e.child,u=o.sibling,n=Ja(o,{mode:"hidden",children:n.children}),n.subtreeFlags=o.subtreeFlags&65011712,u!==null?r=Ja(u,r):(r=Wn(r,i,a,null),r.flags|=2),r.return=t,n.return=t,n.sibling=r,t.child=n,n=r,r=t.child,i=e.child.memoizedState,i===null?i=ju(a):(o=i.cachePool,o!==null?(u=et._currentValue,o=o.parent!==u?{parent:u,pool:u}:o):o=xg(),i={baseLanes:i.baseLanes|a,cachePool:o}),r.memoizedState=i,r.childLanes=Du(e,l,a),t.memoizedState=Mu,n):(vn(t),a=e.child,e=a.sibling,a=Ja(a,{mode:"visible",children:n.children}),a.return=t,a.sibling=null,e!==null&&(l=t.deletions,l===null?(t.deletions=[e],t.flags|=16):l.push(e)),t.child=a,t.memoizedState=null,a)}function qc(e,t){return t=ao({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function ao(e,t){return e=Ht(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Uu(e,t,a){return as(t,e.child,null,a),e=qc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Fp(e,t,a){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Ac(e.return,t,a)}function zu(e,t,a,n,r){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:a,tailMode:r}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=a,s.tailMode=r)}function gy(e,t,a){var n=t.pendingProps,r=n.revealOrder,s=n.tail;if(ct(e,t,n.children,a),n=tt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Fp(e,a,t);else if(e.tag===19)Fp(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}switch(Ce(tt,n),r){case"forwards":for(a=t.child,r=null;a!==null;)e=a.alternate,e!==null&&Wi(e)===null&&(r=a),a=a.sibling;a=r,a===null?(r=t.child,t.child=null):(r=a.sibling,a.sibling=null),zu(t,!1,r,a,s);break;case"backwards":for(a=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&Wi(e)===null){t.child=r;break}e=r.sibling,r.sibling=a,a=r,r=e}zu(t,!0,a,null,s);break;case"together":zu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function an(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),zn|=t.lanes,!(a&t.childLanes))if(e!==null){if(Vl(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(k(153));if(t.child!==null){for(e=t.child,a=Ja(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=Ja(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function id(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&Ki(e)))}function Jx(e,t,a){switch(t.tag){case 3:Hi(t,t.stateNode.containerInfo),yn(t,et,e.memoizedState.cache),$l();break;case 27:case 5:mc(t);break;case 4:Hi(t,t.stateNode.containerInfo);break;case 10:yn(t,t.type,t.memoizedProps.value);break;case 13:var n=t.memoizedState;if(n!==null)return n.dehydrated!==null?(vn(t),t.flags|=128,null):a&t.child.childLanes?hy(e,t,a):(vn(t),e=an(e,t,a),e!==null?e.sibling:null);vn(t);break;case 19:var r=(e.flags&128)!==0;if(n=(a&t.childLanes)!==0,n||(Vl(e,t,a,!1),n=(a&t.childLanes)!==0),r){if(n)return gy(e,t,a);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Ce(tt,tt.current),n)break;return null;case 22:case 23:return t.lanes=0,my(e,t,a);case 24:yn(t,et,e.memoizedState.cache)}return an(e,t,a)}function yy(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)it=!0;else{if(!id(e,a)&&!(t.flags&128))return it=!1,Jx(e,t,a);it=!!(e.flags&131072)}else it=!1,he&&t.flags&1048576&&bg(t,Gi,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var n=t.elementType,r=n._init;if(n=r(n._payload),t.type=n,typeof n=="function")$f(n)?(e=cr(n,e),t.tag=1,t=Jp(null,t,n,e,a)):(t.tag=0,t=Lc(null,t,n,e,a));else{if(n!=null){if(r=n.$$typeof,r===Nf){t.tag=11,t=Yp(null,t,n,e,a);break e}else if(r===kf){t.tag=14,t=Gp(null,t,n,e,a);break e}}throw t=dc(n)||n,Error(k(306,t,""))}}return t;case 0:return Lc(e,t,t.type,t.pendingProps,a);case 1:return n=t.type,r=cr(n,t.pendingProps),Jp(e,t,n,r,a);case 3:e:{if(Hi(t,t.stateNode.containerInfo),e===null)throw Error(k(387));n=t.pendingProps;var s=t.memoizedState;r=s.element,Cc(e,t),Fs(t,n,null,a);var l=t.memoizedState;if(n=l.cache,yn(t,et,n),n!==s.cache&&Rc(t,[et],a,!0),Qs(),n=l.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:l.cache},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){t=Qp(e,t,n,a);break e}else if(n!==r){r=Wt(Error(k(424)),t),cl(r),t=Qp(e,t,n,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ze=pa(e.firstChild),xt=t,he=!0,tr=null,Ta=!0,a=sy(t,null,n,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if($l(),n===r){t=an(e,t,a);break e}ct(e,t,n,a)}t=t.child}return t;case 26:return Oi(e,t),e===null?(a=hm(t.type,null,t.pendingProps,null))?t.memoizedState=a:he||(a=t.type,e=t.pendingProps,n=uo(An.current).createElement(a),n[yt]=t,n[Ot]=e,dt(n,a,e),lt(n),t.stateNode=n):t.memoizedState=hm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return mc(t),e===null&&he&&(n=t.stateNode=nv(t.type,t.pendingProps,An.current),xt=t,Ta=!0,r=ze,Hn(t.type)?(Wc=r,ze=pa(n.firstChild)):ze=r),ct(e,t,t.pendingProps.children,a),Oi(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&he&&((r=n=ze)&&(n=T1(n,t.type,t.pendingProps,Ta),n!==null?(t.stateNode=n,xt=t,ze=pa(n.firstChild),Ta=!1,r=!0):r=!1),r||ir(t)),mc(t),r=t.type,s=t.pendingProps,l=e!==null?e.memoizedProps:null,n=s.children,Jc(r,s)?n=null:l!==null&&Jc(r,l)&&(t.flags|=32),t.memoizedState!==null&&(r=Jf(e,t,$x,null,null,a),gl._currentValue=r),Oi(e,t),ct(e,t,n,a),t.child;case 6:return e===null&&he&&((e=a=ze)&&(a=E1(a,t.pendingProps,Ta),a!==null?(t.stateNode=a,xt=t,ze=null,e=!0):e=!1),e||ir(t)),null;case 13:return hy(e,t,a);case 4:return Hi(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=as(t,null,n,a):ct(e,t,n,a),t.child;case 11:return Yp(e,t,t.type,t.pendingProps,a);case 7:return ct(e,t,t.pendingProps,a),t.child;case 8:return ct(e,t,t.pendingProps.children,a),t.child;case 12:return ct(e,t,t.pendingProps.children,a),t.child;case 10:return n=t.pendingProps,yn(t,t.type,n.value),ct(e,t,n.children,a),t.child;case 9:return r=t.type._context,n=t.pendingProps.children,or(t),r=vt(r),n=n(r),t.flags|=1,ct(e,t,n,a),t.child;case 14:return Gp(e,t,t.type,t.pendingProps,a);case 15:return py(e,t,t.type,t.pendingProps,a);case 19:return gy(e,t,a);case 31:return n=t.pendingProps,a=t.mode,n={mode:n.mode,children:n.children},e===null?(a=ao(n,a),a.ref=t.ref,t.child=a,a.return=t,t=a):(a=Ja(e.child,n),a.ref=t.ref,t.child=a,a.return=t,t=a),t;case 22:return my(e,t,a);case 24:return or(t),n=vt(et),e===null?(r=Yf(),r===null&&(r=Ae,s=Pf(),r.pooledCache=s,s.refCount++,s!==null&&(r.pooledCacheLanes|=a),r=s),t.memoizedState={parent:n,cache:r},Gf(t),yn(t,et,r)):(e.lanes&a&&(Cc(e,t),Fs(t,null,null,a),Qs()),r=e.memoizedState,s=t.memoizedState,r.parent!==n?(r={parent:n,cache:n},t.memoizedState=r,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=r),yn(t,et,n)):(n=s.cache,yn(t,et,n),n!==r.cache&&Rc(t,[et],a,!0))),ct(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(k(156,t.tag))}function qa(e){e.flags|=4}function Wp(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!lv(t)){if(t=ra.current,t!==null&&((fe&4194048)===fe?Na!==null:(fe&62914560)!==fe&&!(fe&536870912)||t!==Na))throw Xs=kc,Sg;e.flags|=8192}}function hi(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Vh():536870912,e.lanes|=t,ns|=t)}function js(e,t){if(!he)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var n=null;a!==null;)a.alternate!==null&&(n=a),a=a.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function je(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,n=0;if(t)for(var r=e.child;r!==null;)a|=r.lanes|r.childLanes,n|=r.subtreeFlags&65011712,n|=r.flags&65011712,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)a|=r.lanes|r.childLanes,n|=r.subtreeFlags,n|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=n,e.childLanes=a,t}function Qx(e,t,a){var n=t.pendingProps;switch(Zf(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return je(t),null;case 1:return je(t),null;case 3:return a=t.stateNode,n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Qa(et),Jr(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Os(t)?qa(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,kp())),je(t),null;case 26:return a=t.memoizedState,e===null?(qa(t),a!==null?(je(t),Wp(t,a)):(je(t),t.flags&=-16777217)):a?a!==e.memoizedState?(qa(t),je(t),Wp(t,a)):(je(t),t.flags&=-16777217):(e.memoizedProps!==n&&qa(t),je(t),t.flags&=-16777217),null;case 27:Bi(t),a=An.current;var r=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==n&&qa(t);else{if(!n){if(t.stateNode===null)throw Error(k(166));return je(t),null}e=Aa.current,Os(t)?Rp(t):(e=nv(r,n,a),t.stateNode=e,qa(t))}return je(t),null;case 5:if(Bi(t),a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&qa(t);else{if(!n){if(t.stateNode===null)throw Error(k(166));return je(t),null}if(e=Aa.current,Os(t))Rp(t);else{switch(r=uo(An.current),e){case 1:e=r.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=r.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=r.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=r.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=r.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof n.is=="string"?r.createElement("select",{is:n.is}):r.createElement("select"),n.multiple?e.multiple=!0:n.size&&(e.size=n.size);break;default:e=typeof n.is=="string"?r.createElement(a,{is:n.is}):r.createElement(a)}}e[yt]=t,e[Ot]=n;e:for(r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}t.stateNode=e;e:switch(dt(e,a,n),a){case"button":case"input":case"select":case"textarea":e=!!n.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&qa(t)}}return je(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==n&&qa(t);else{if(typeof n!="string"&&t.stateNode===null)throw Error(k(166));if(e=An.current,Os(t)){if(e=t.stateNode,a=t.memoizedProps,n=null,r=xt,r!==null)switch(r.tag){case 27:case 5:n=r.memoizedProps}e[yt]=t,e=!!(e.nodeValue===a||n!==null&&n.suppressHydrationWarning===!0||ev(e.nodeValue,a)),e||ir(t)}else e=uo(e).createTextNode(n),e[yt]=t,t.stateNode=e}return je(t),null;case 13:if(n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(r=Os(t),n!==null&&n.dehydrated!==null){if(e===null){if(!r)throw Error(k(318));if(r=t.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(k(317));r[yt]=t}else $l(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;je(t),r=!1}else r=kp(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r)return t.flags&256?(Ka(t),t):(Ka(t),null)}if(Ka(t),t.flags&128)return t.lanes=a,t;if(a=n!==null,e=e!==null&&e.memoizedState!==null,a){n=t.child,r=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(r=n.alternate.memoizedState.cachePool.pool);var s=null;n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),s!==r&&(n.flags|=2048)}return a!==e&&a&&(t.child.flags|=8192),hi(t,t.updateQueue),je(t),null;case 4:return Jr(),e===null&&hd(t.stateNode.containerInfo),je(t),null;case 10:return Qa(t.type),je(t),null;case 19:if(ot(tt),r=t.memoizedState,r===null)return je(t),null;if(n=(t.flags&128)!==0,s=r.rendering,s===null)if(n)js(r,!1);else{if(Ie!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Wi(e),s!==null){for(t.flags|=128,js(r,!1),e=s.updateQueue,t.updateQueue=e,hi(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)vg(a,e),a=a.sibling;return Ce(tt,tt.current&1|2),t.child}e=e.sibling}r.tail!==null&&Ra()>ro&&(t.flags|=128,n=!0,js(r,!1),t.lanes=4194304)}else{if(!n)if(e=Wi(s),e!==null){if(t.flags|=128,n=!0,e=e.updateQueue,t.updateQueue=e,hi(t,e),js(r,!0),r.tail===null&&r.tailMode==="hidden"&&!s.alternate&&!he)return je(t),null}else 2*Ra()-r.renderingStartTime>ro&&a!==536870912&&(t.flags|=128,n=!0,js(r,!1),t.lanes=4194304);r.isBackwards?(s.sibling=t.child,t.child=s):(e=r.last,e!==null?e.sibling=s:t.child=s,r.last=s)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=Ra(),t.sibling=null,e=tt.current,Ce(tt,n?e&1|2:e&1),t):(je(t),null);case 22:case 23:return Ka(t),Kf(),n=t.memoizedState!==null,e!==null?e.memoizedState!==null!==n&&(t.flags|=8192):n&&(t.flags|=8192),n?a&536870912&&!(t.flags&128)&&(je(t),t.subtreeFlags&6&&(t.flags|=8192)):je(t),a=t.updateQueue,a!==null&&hi(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),n=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),n!==a&&(t.flags|=2048),e!==null&&ot(ar),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Qa(et),je(t),null;case 25:return null;case 30:return null}throw Error(k(156,t.tag))}function Fx(e,t){switch(Zf(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Qa(et),Jr(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Bi(t),null;case 13:if(Ka(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(k(340));$l()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ot(tt),null;case 4:return Jr(),null;case 10:return Qa(t.type),null;case 22:case 23:return Ka(t),Kf(),e!==null&&ot(ar),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Qa(et),null;case 25:return null;default:return null}}function vy(e,t){switch(Zf(t),t.tag){case 3:Qa(et),Jr();break;case 26:case 27:case 5:Bi(t);break;case 4:Jr();break;case 13:Ka(t);break;case 19:ot(tt);break;case 10:Qa(t.type);break;case 22:case 23:Ka(t),Kf(),e!==null&&ot(ar);break;case 24:Qa(et)}}function Kl(e,t){try{var a=t.updateQueue,n=a!==null?a.lastEffect:null;if(n!==null){var r=n.next;a=r;do{if((a.tag&e)===e){n=void 0;var s=a.create,l=a.inst;n=s(),l.destroy=n}a=a.next}while(a!==r)}}catch(i){Te(t,t.return,i)}}function Un(e,t,a){try{var n=t.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var s=r.next;n=s;do{if((n.tag&e)===e){var l=n.inst,i=l.destroy;if(i!==void 0){l.destroy=void 0,r=t;var o=a,u=i;try{u()}catch(c){Te(r,o,c)}}}n=n.next}while(n!==s)}}catch(c){Te(t,t.return,c)}}function by(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{Eg(t,a)}catch(n){Te(e,e.return,n)}}}function _y(e,t,a){a.props=cr(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(n){Te(e,t,n)}}function el(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var n=e.stateNode;break;case 30:n=e.stateNode;break;default:n=e.stateNode}typeof a=="function"?e.refCleanup=a(n):a.current=n}}catch(r){Te(e,t,r)}}function Ea(e,t){var a=e.ref,n=e.refCleanup;if(a!==null)if(typeof n=="function")try{n()}catch(r){Te(e,t,r)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(r){Te(e,t,r)}else a.current=null}function xy(e){var t=e.type,a=e.memoizedProps,n=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break e;case"img":a.src?n.src=a.src:a.srcSet&&(n.srcset=a.srcSet)}}catch(r){Te(e,e.return,r)}}function Iu(e,t,a){try{var n=e.stateNode;b1(n,e.type,a,t),n[Ot]=t}catch(r){Te(e,e.return,r)}}function Sy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Hn(e.type)||e.tag===4}function Lu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Sy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Hn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Hc(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=au));else if(n!==4&&(n===27&&Hn(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(Hc(e,t,a),e=e.sibling;e!==null;)Hc(e,t,a),e=e.sibling}function no(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(n!==4&&(n===27&&Hn(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(no(e,t,a),e=e.sibling;e!==null;)no(e,t,a),e=e.sibling}function wy(e){var t=e.stateNode,a=e.memoizedProps;try{for(var n=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);dt(t,n,a),t[yt]=e,t[Ot]=a}catch(s){Te(e,e.return,s)}}var Va=!1,Pe=!1,qu=!1,em=typeof WeakSet=="function"?WeakSet:Set,st=null;function Wx(e,t){if(e=e.containerInfo,Kc=mo,e=cg(e),qf(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var n=a.getSelection&&a.getSelection();if(n&&n.rangeCount!==0){a=n.anchorNode;var r=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{a.nodeType,s.nodeType}catch{a=null;break e}var l=0,i=-1,o=-1,u=0,c=0,f=e,m=null;t:for(;;){for(var h;f!==a||r!==0&&f.nodeType!==3||(i=l+r),f!==s||n!==0&&f.nodeType!==3||(o=l+n),f.nodeType===3&&(l+=f.nodeValue.length),(h=f.firstChild)!==null;)m=f,f=h;for(;;){if(f===e)break t;if(m===a&&++u===r&&(i=l),m===s&&++c===n&&(o=l),(h=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=h}a=i===-1||o===-1?null:{start:i,end:o}}else a=null}a=a||{start:0,end:0}}else a=null;for(Xc={focusedElem:e,selectionRange:a},mo=!1,st=t;st!==null;)if(t=st,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,st=e;else for(;st!==null;){switch(t=st,s=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if(e&1024&&s!==null){e=void 0,a=t,r=s.memoizedProps,s=s.memoizedState,n=a.stateNode;try{var S=cr(a.type,r,a.elementType===a.type);e=n.getSnapshotBeforeUpdate(S,s),n.__reactInternalSnapshotBeforeUpdate=e}catch(_){Te(a,a.return,_)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)Qc(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Qc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(k(163))}if(e=t.sibling,e!==null){e.return=t.return,st=e;break}st=t.return}}function Ty(e,t,a){var n=a.flags;switch(a.tag){case 0:case 11:case 15:dn(e,a),n&4&&Kl(5,a);break;case 1:if(dn(e,a),n&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(l){Te(a,a.return,l)}else{var r=cr(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(l){Te(a,a.return,l)}}n&64&&by(a),n&512&&el(a,a.return);break;case 3:if(dn(e,a),n&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Eg(e,t)}catch(l){Te(a,a.return,l)}}break;case 27:t===null&&n&4&&wy(a);case 26:case 5:dn(e,a),t===null&&n&4&&xy(a),n&512&&el(a,a.return);break;case 12:dn(e,a);break;case 13:dn(e,a),n&4&&Ry(e,a),n&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=o1.bind(null,a),A1(e,a))));break;case 22:if(n=a.memoizedState!==null||Va,!n){t=t!==null&&t.memoizedState!==null||Pe,r=Va;var s=Pe;Va=n,(Pe=t)&&!s?pn(e,a,(a.subtreeFlags&8772)!==0):dn(e,a),Va=r,Pe=s}break;case 30:break;default:dn(e,a)}}function Ey(e){var t=e.alternate;t!==null&&(e.alternate=null,Ey(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&jf(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ne=null,Nt=!1;function Ha(e,t,a){for(a=a.child;a!==null;)Ay(e,t,a),a=a.sibling}function Ay(e,t,a){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(Il,a)}catch{}switch(a.tag){case 26:Pe||Ea(a,t),Ha(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Pe||Ea(a,t);var n=Ne,r=Nt;Hn(a.type)&&(Ne=a.stateNode,Nt=!1),Ha(e,t,a),rl(a.stateNode),Ne=n,Nt=r;break;case 5:Pe||Ea(a,t);case 6:if(n=Ne,r=Nt,Ne=null,Ha(e,t,a),Ne=n,Nt=r,Ne!==null)if(Nt)try{(Ne.nodeType===9?Ne.body:Ne.nodeName==="HTML"?Ne.ownerDocument.body:Ne).removeChild(a.stateNode)}catch(s){Te(a,t,s)}else try{Ne.removeChild(a.stateNode)}catch(s){Te(a,t,s)}break;case 18:Ne!==null&&(Nt?(e=Ne,dm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),bl(e)):dm(Ne,a.stateNode));break;case 4:n=Ne,r=Nt,Ne=a.stateNode.containerInfo,Nt=!0,Ha(e,t,a),Ne=n,Nt=r;break;case 0:case 11:case 14:case 15:Pe||Un(2,a,t),Pe||Un(4,a,t),Ha(e,t,a);break;case 1:Pe||(Ea(a,t),n=a.stateNode,typeof n.componentWillUnmount=="function"&&_y(a,t,n)),Ha(e,t,a);break;case 21:Ha(e,t,a);break;case 22:Pe=(n=Pe)||a.memoizedState!==null,Ha(e,t,a),Pe=n;break;default:Ha(e,t,a)}}function Ry(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{bl(e)}catch(a){Te(t,t.return,a)}}function e1(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new em),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new em),t;default:throw Error(k(435,e.tag))}}function Hu(e,t){var a=e1(e);t.forEach(function(n){var r=u1.bind(null,e,n);a.has(n)||(a.add(n),n.then(r,r))})}function zt(e,t){var a=t.deletions;if(a!==null)for(var n=0;n<a.length;n++){var r=a[n],s=e,l=t,i=l;e:for(;i!==null;){switch(i.tag){case 27:if(Hn(i.type)){Ne=i.stateNode,Nt=!1;break e}break;case 5:Ne=i.stateNode,Nt=!1;break e;case 3:case 4:Ne=i.stateNode.containerInfo,Nt=!0;break e}i=i.return}if(Ne===null)throw Error(k(160));Ay(s,l,r),Ne=null,Nt=!1,s=r.alternate,s!==null&&(s.return=null),r.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)Ny(t,e),t=t.sibling}var da=null;function Ny(e,t){var a=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:zt(t,e),It(e),n&4&&(Un(3,e,e.return),Kl(3,e),Un(5,e,e.return));break;case 1:zt(t,e),It(e),n&512&&(Pe||a===null||Ea(a,a.return)),n&64&&Va&&(e=e.updateQueue,e!==null&&(n=e.callbacks,n!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?n:a.concat(n))));break;case 26:var r=da;if(zt(t,e),It(e),n&512&&(Pe||a===null||Ea(a,a.return)),n&4){var s=a!==null?a.memoizedState:null;if(n=e.memoizedState,a===null)if(n===null)if(e.stateNode===null){e:{n=e.type,a=e.memoizedProps,r=r.ownerDocument||r;t:switch(n){case"title":s=r.getElementsByTagName("title")[0],(!s||s[Hl]||s[yt]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=r.createElement(n),r.head.insertBefore(s,r.querySelector("head > title"))),dt(s,n,a),s[yt]=e,lt(s),n=s;break e;case"link":var l=ym("link","href",r).get(n+(a.href||""));if(l){for(var i=0;i<l.length;i++)if(s=l[i],s.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&s.getAttribute("rel")===(a.rel==null?null:a.rel)&&s.getAttribute("title")===(a.title==null?null:a.title)&&s.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){l.splice(i,1);break t}}s=r.createElement(n),dt(s,n,a),r.head.appendChild(s);break;case"meta":if(l=ym("meta","content",r).get(n+(a.content||""))){for(i=0;i<l.length;i++)if(s=l[i],s.getAttribute("content")===(a.content==null?null:""+a.content)&&s.getAttribute("name")===(a.name==null?null:a.name)&&s.getAttribute("property")===(a.property==null?null:a.property)&&s.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&s.getAttribute("charset")===(a.charSet==null?null:a.charSet)){l.splice(i,1);break t}}s=r.createElement(n),dt(s,n,a),r.head.appendChild(s);break;default:throw Error(k(468,n))}s[yt]=e,lt(s),n=s}e.stateNode=n}else vm(r,e.type,e.stateNode);else e.stateNode=gm(r,n,e.memoizedProps);else s!==n?(s===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):s.count--,n===null?vm(r,e.type,e.stateNode):gm(r,n,e.memoizedProps)):n===null&&e.stateNode!==null&&Iu(e,e.memoizedProps,a.memoizedProps)}break;case 27:zt(t,e),It(e),n&512&&(Pe||a===null||Ea(a,a.return)),a!==null&&n&4&&Iu(e,e.memoizedProps,a.memoizedProps);break;case 5:if(zt(t,e),It(e),n&512&&(Pe||a===null||Ea(a,a.return)),e.flags&32){r=e.stateNode;try{Fr(r,"")}catch(h){Te(e,e.return,h)}}n&4&&e.stateNode!=null&&(r=e.memoizedProps,Iu(e,r,a!==null?a.memoizedProps:r)),n&1024&&(qu=!0);break;case 6:if(zt(t,e),It(e),n&4){if(e.stateNode===null)throw Error(k(162));n=e.memoizedProps,a=e.stateNode;try{a.nodeValue=n}catch(h){Te(e,e.return,h)}}break;case 3:if(Di=null,r=da,da=co(t.containerInfo),zt(t,e),da=r,It(e),n&4&&a!==null&&a.memoizedState.isDehydrated)try{bl(t.containerInfo)}catch(h){Te(e,e.return,h)}qu&&(qu=!1,ky(e));break;case 4:n=da,da=co(e.stateNode.containerInfo),zt(t,e),It(e),da=n;break;case 12:zt(t,e),It(e);break;case 13:zt(t,e),It(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(dd=Ra()),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Hu(e,n)));break;case 22:r=e.memoizedState!==null;var o=a!==null&&a.memoizedState!==null,u=Va,c=Pe;if(Va=u||r,Pe=c||o,zt(t,e),Pe=c,Va=u,It(e),n&8192)e:for(t=e.stateNode,t._visibility=r?t._visibility&-2:t._visibility|1,r&&(a===null||o||Va||Pe||Jn(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){o=a=t;try{if(s=o.stateNode,r)l=s.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none";else{i=o.stateNode;var f=o.memoizedProps.style,m=f!=null&&f.hasOwnProperty("display")?f.display:null;i.style.display=m==null||typeof m=="boolean"?"":(""+m).trim()}}catch(h){Te(o,o.return,h)}}}else if(t.tag===6){if(a===null){o=t;try{o.stateNode.nodeValue=r?"":o.memoizedProps}catch(h){Te(o,o.return,h)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}n&4&&(n=e.updateQueue,n!==null&&(a=n.retryQueue,a!==null&&(n.retryQueue=null,Hu(e,a))));break;case 19:zt(t,e),It(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Hu(e,n)));break;case 30:break;case 21:break;default:zt(t,e),It(e)}}function It(e){var t=e.flags;if(t&2){try{for(var a,n=e.return;n!==null;){if(Sy(n)){a=n;break}n=n.return}if(a==null)throw Error(k(160));switch(a.tag){case 27:var r=a.stateNode,s=Lu(e);no(e,s,r);break;case 5:var l=a.stateNode;a.flags&32&&(Fr(l,""),a.flags&=-33);var i=Lu(e);no(e,i,l);break;case 3:case 4:var o=a.stateNode.containerInfo,u=Lu(e);Hc(e,u,o);break;default:throw Error(k(161))}}catch(c){Te(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ky(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;ky(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function dn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Ty(e,t.alternate,t),t=t.sibling}function Jn(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Un(4,t,t.return),Jn(t);break;case 1:Ea(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&_y(t,t.return,a),Jn(t);break;case 27:rl(t.stateNode);case 26:case 5:Ea(t,t.return),Jn(t);break;case 22:t.memoizedState===null&&Jn(t);break;case 30:Jn(t);break;default:Jn(t)}e=e.sibling}}function pn(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var n=t.alternate,r=e,s=t,l=s.flags;switch(s.tag){case 0:case 11:case 15:pn(r,s,a),Kl(4,s);break;case 1:if(pn(r,s,a),n=s,r=n.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(u){Te(n,n.return,u)}if(n=s,r=n.updateQueue,r!==null){var i=n.stateNode;try{var o=r.shared.hiddenCallbacks;if(o!==null)for(r.shared.hiddenCallbacks=null,r=0;r<o.length;r++)Tg(o[r],i)}catch(u){Te(n,n.return,u)}}a&&l&64&&by(s),el(s,s.return);break;case 27:wy(s);case 26:case 5:pn(r,s,a),a&&n===null&&l&4&&xy(s),el(s,s.return);break;case 12:pn(r,s,a);break;case 13:pn(r,s,a),a&&l&4&&Ry(r,s);break;case 22:s.memoizedState===null&&pn(r,s,a),el(s,s.return);break;case 30:break;default:pn(r,s,a)}t=t.sibling}}function od(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Zl(a))}function ud(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Zl(e))}function wa(e,t,a,n){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Cy(e,t,a,n),t=t.sibling}function Cy(e,t,a,n){var r=t.flags;switch(t.tag){case 0:case 11:case 15:wa(e,t,a,n),r&2048&&Kl(9,t);break;case 1:wa(e,t,a,n);break;case 3:wa(e,t,a,n),r&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Zl(e)));break;case 12:if(r&2048){wa(e,t,a,n),e=t.stateNode;try{var s=t.memoizedProps,l=s.id,i=s.onPostCommit;typeof i=="function"&&i(l,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(o){Te(t,t.return,o)}}else wa(e,t,a,n);break;case 13:wa(e,t,a,n);break;case 23:break;case 22:s=t.stateNode,l=t.alternate,t.memoizedState!==null?s._visibility&2?wa(e,t,a,n):tl(e,t):s._visibility&2?wa(e,t,a,n):(s._visibility|=2,Rr(e,t,a,n,(t.subtreeFlags&10256)!==0)),r&2048&&od(l,t);break;case 24:wa(e,t,a,n),r&2048&&ud(t.alternate,t);break;default:wa(e,t,a,n)}}function Rr(e,t,a,n,r){for(r=r&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var s=e,l=t,i=a,o=n,u=l.flags;switch(l.tag){case 0:case 11:case 15:Rr(s,l,i,o,r),Kl(8,l);break;case 23:break;case 22:var c=l.stateNode;l.memoizedState!==null?c._visibility&2?Rr(s,l,i,o,r):tl(s,l):(c._visibility|=2,Rr(s,l,i,o,r)),r&&u&2048&&od(l.alternate,l);break;case 24:Rr(s,l,i,o,r),r&&u&2048&&ud(l.alternate,l);break;default:Rr(s,l,i,o,r)}t=t.sibling}}function tl(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,n=t,r=n.flags;switch(n.tag){case 22:tl(a,n),r&2048&&od(n.alternate,n);break;case 24:tl(a,n),r&2048&&ud(n.alternate,n);break;default:tl(a,n)}t=t.sibling}}var $s=8192;function wr(e){if(e.subtreeFlags&$s)for(e=e.child;e!==null;)Oy(e),e=e.sibling}function Oy(e){switch(e.tag){case 26:wr(e),e.flags&$s&&e.memoizedState!==null&&q1(da,e.memoizedState,e.memoizedProps);break;case 5:wr(e);break;case 3:case 4:var t=da;da=co(e.stateNode.containerInfo),wr(e),da=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=$s,$s=16777216,wr(e),$s=t):wr(e));break;default:wr(e)}}function My(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Ds(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];st=n,Dy(n,e)}My(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)jy(e),e=e.sibling}function jy(e){switch(e.tag){case 0:case 11:case 15:Ds(e),e.flags&2048&&Un(9,e,e.return);break;case 3:Ds(e);break;case 12:Ds(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Mi(e)):Ds(e);break;default:Ds(e)}}function Mi(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];st=n,Dy(n,e)}My(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Un(8,t,t.return),Mi(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,Mi(t));break;default:Mi(t)}e=e.sibling}}function Dy(e,t){for(;st!==null;){var a=st;switch(a.tag){case 0:case 11:case 15:Un(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var n=a.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:Zl(a.memoizedState.cache)}if(n=a.child,n!==null)n.return=a,st=n;else e:for(a=e;st!==null;){n=st;var r=n.sibling,s=n.return;if(Ey(n),n===a){st=null;break e}if(r!==null){r.return=s,st=r;break e}st=s}}}var t1={getCacheForType:function(e){var t=vt(et),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a}},a1=typeof WeakMap=="function"?WeakMap:Map,xe=0,Ae=null,oe=null,fe=0,be=0,qt=null,Tn=!1,ys=!1,cd=!1,nn=0,Ie=0,zn=0,nr=0,fd=0,ta=0,ns=0,al=null,kt=null,Bc=!1,dd=0,ro=1/0,so=null,kn=null,ft=0,Cn=null,rs=null,Xr=0,$c=0,Vc=null,Uy=null,nl=0,Zc=null;function Vt(){if(xe&2&&fe!==0)return fe&-fe;if(F.T!==null){var e=Wr;return e!==0?e:md()}return Yh()}function zy(){ta===0&&(ta=!(fe&536870912)||he?$h():536870912);var e=ra.current;return e!==null&&(e.flags|=32),ta}function Zt(e,t,a){(e===Ae&&(be===2||be===9)||e.cancelPendingCommit!==null)&&(ss(e,0),En(e,fe,ta,!1)),ql(e,a),(!(xe&2)||e!==Ae)&&(e===Ae&&(!(xe&2)&&(nr|=a),Ie===4&&En(e,fe,ta,!1)),Da(e))}function Iy(e,t,a){if(xe&6)throw Error(k(327));var n=!a&&(t&124)===0&&(t&e.expiredLanes)===0||Ll(e,t),r=n?s1(e,t):Bu(e,t,!0),s=n;do{if(r===0){ys&&!n&&En(e,t,0,!1);break}else{if(a=e.current.alternate,s&&!n1(a)){r=Bu(e,t,!1),s=!1;continue}if(r===2){if(s=t,e.errorRecoveryDisabledLanes&s)var l=0;else l=e.pendingLanes&-536870913,l=l!==0?l:l&536870912?536870912:0;if(l!==0){t=l;e:{var i=e;r=al;var o=i.current.memoizedState.isDehydrated;if(o&&(ss(i,l).flags|=256),l=Bu(i,l,!1),l!==2){if(cd&&!o){i.errorRecoveryDisabledLanes|=s,nr|=s,r=4;break e}s=kt,kt=r,s!==null&&(kt===null?kt=s:kt.push.apply(kt,s))}r=l}if(s=!1,r!==2)continue}}if(r===1){ss(e,0),En(e,t,0,!0);break}e:{switch(n=e,s=r,s){case 0:case 1:throw Error(k(345));case 4:if((t&4194048)!==t)break;case 6:En(n,t,ta,!Tn);break e;case 2:kt=null;break;case 3:case 5:break;default:throw Error(k(329))}if((t&62914560)===t&&(r=dd+300-Ra(),10<r)){if(En(n,t,ta,!Tn),Vo(n,0,!0)!==0)break e;n.timeoutHandle=av(tm.bind(null,n,a,kt,so,Bc,t,ta,nr,ns,Tn,s,2,-0,0),r);break e}tm(n,a,kt,so,Bc,t,ta,nr,ns,Tn,s,0,-0,0)}}break}while(!0);Da(e)}function tm(e,t,a,n,r,s,l,i,o,u,c,f,m,h){if(e.timeoutHandle=-1,f=t.subtreeFlags,(f&8192||(f&16785408)===16785408)&&(hl={stylesheets:null,count:0,unsuspend:L1},Oy(t),f=H1(),f!==null)){e.cancelPendingCommit=f(nm.bind(null,e,t,s,a,n,r,l,i,o,c,1,m,h)),En(e,s,l,!u);return}nm(e,t,s,a,n,r,l,i,o)}function n1(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var n=0;n<a.length;n++){var r=a[n],s=r.getSnapshot;r=r.value;try{if(!Pt(s(),r))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function En(e,t,a,n){t&=~fd,t&=~nr,e.suspendedLanes|=t,e.pingedLanes&=~t,n&&(e.warmLanes|=t),n=e.expirationTimes;for(var r=t;0<r;){var s=31-$t(r),l=1<<s;n[s]=-1,r&=~l}a!==0&&Zh(e,a,t)}function Wo(){return xe&6?!0:(Xl(0),!1)}function pd(){if(oe!==null){if(be===0)var e=oe.return;else e=oe,Ga=vr=null,Wf(e),Kr=null,dl=0,e=oe;for(;e!==null;)vy(e.alternate,e),e=e.return;oe=null}}function ss(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,x1(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),pd(),Ae=e,oe=a=Ja(e.current,null),fe=t,be=0,qt=null,Tn=!1,ys=Ll(e,t),cd=!1,ns=ta=fd=nr=zn=Ie=0,kt=al=null,Bc=!1,t&8&&(t|=t&32);var n=e.entangledLanes;if(n!==0)for(e=e.entanglements,n&=t;0<n;){var r=31-$t(n),s=1<<r;t|=e[r],n&=~s}return nn=t,Go(),a}function Ly(e,t){se=null,F.H=Fi,t===Pl||t===Xo?(t=jp(),be=3):t===Sg?(t=jp(),be=4):be=t===dy?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,qt=t,oe===null&&(Ie=1,to(e,Wt(t,e.current)))}function qy(){var e=F.H;return F.H=Fi,e===null?Fi:e}function Hy(){var e=F.A;return F.A=t1,e}function Pc(){Ie=4,Tn||(fe&4194048)!==fe&&ra.current!==null||(ys=!0),!(zn&134217727)&&!(nr&134217727)||Ae===null||En(Ae,fe,ta,!1)}function Bu(e,t,a){var n=xe;xe|=2;var r=qy(),s=Hy();(Ae!==e||fe!==t)&&(so=null,ss(e,t)),t=!1;var l=Ie;e:do try{if(be!==0&&oe!==null){var i=oe,o=qt;switch(be){case 8:pd(),l=6;break e;case 3:case 2:case 9:case 6:ra.current===null&&(t=!0);var u=be;if(be=0,qt=null,Br(e,i,o,u),a&&ys){l=0;break e}break;default:u=be,be=0,qt=null,Br(e,i,o,u)}}r1(),l=Ie;break}catch(c){Ly(e,c)}while(!0);return t&&e.shellSuspendCounter++,Ga=vr=null,xe=n,F.H=r,F.A=s,oe===null&&(Ae=null,fe=0,Go()),l}function r1(){for(;oe!==null;)By(oe)}function s1(e,t){var a=xe;xe|=2;var n=qy(),r=Hy();Ae!==e||fe!==t?(so=null,ro=Ra()+500,ss(e,t)):ys=Ll(e,t);e:do try{if(be!==0&&oe!==null){t=oe;var s=qt;t:switch(be){case 1:be=0,qt=null,Br(e,t,s,1);break;case 2:case 9:if(Mp(s)){be=0,qt=null,am(t);break}t=function(){be!==2&&be!==9||Ae!==e||(be=7),Da(e)},s.then(t,t);break e;case 3:be=7;break e;case 4:be=5;break e;case 7:Mp(s)?(be=0,qt=null,am(t)):(be=0,qt=null,Br(e,t,s,7));break;case 5:var l=null;switch(oe.tag){case 26:l=oe.memoizedState;case 5:case 27:var i=oe;if(!l||lv(l)){be=0,qt=null;var o=i.sibling;if(o!==null)oe=o;else{var u=i.return;u!==null?(oe=u,eu(u)):oe=null}break t}}be=0,qt=null,Br(e,t,s,5);break;case 6:be=0,qt=null,Br(e,t,s,6);break;case 8:pd(),Ie=6;break e;default:throw Error(k(462))}}l1();break}catch(c){Ly(e,c)}while(!0);return Ga=vr=null,F.H=n,F.A=r,xe=a,oe!==null?0:(Ae=null,fe=0,Go(),Ie)}function l1(){for(;oe!==null&&!N_();)By(oe)}function By(e){var t=yy(e.alternate,e,nn);e.memoizedProps=e.pendingProps,t===null?eu(e):oe=t}function am(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Xp(a,t,t.pendingProps,t.type,void 0,fe);break;case 11:t=Xp(a,t,t.pendingProps,t.type.render,t.ref,fe);break;case 5:Wf(t);default:vy(a,t),t=oe=vg(t,nn),t=yy(a,t,nn)}e.memoizedProps=e.pendingProps,t===null?eu(e):oe=t}function Br(e,t,a,n){Ga=vr=null,Wf(t),Kr=null,dl=0;var r=t.return;try{if(Xx(e,r,t,a,fe)){Ie=1,to(e,Wt(a,e.current)),oe=null;return}}catch(s){if(r!==null)throw oe=r,s;Ie=1,to(e,Wt(a,e.current)),oe=null;return}t.flags&32768?(he||n===1?e=!0:ys||fe&536870912?e=!1:(Tn=e=!0,(n===2||n===9||n===3||n===6)&&(n=ra.current,n!==null&&n.tag===13&&(n.flags|=16384))),$y(t,e)):eu(t)}function eu(e){var t=e;do{if(t.flags&32768){$y(t,Tn);return}e=t.return;var a=Qx(t.alternate,t,nn);if(a!==null){oe=a;return}if(t=t.sibling,t!==null){oe=t;return}oe=t=e}while(t!==null);Ie===0&&(Ie=5)}function $y(e,t){do{var a=Fx(e.alternate,e);if(a!==null){a.flags&=32767,oe=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){oe=e;return}oe=e=a}while(e!==null);Ie=6,oe=null}function nm(e,t,a,n,r,s,l,i,o){e.cancelPendingCommit=null;do tu();while(ft!==0);if(xe&6)throw Error(k(327));if(t!==null){if(t===e.current)throw Error(k(177));if(s=t.lanes|t.childLanes,s|=Hf,L_(e,a,s,l,i,o),e===Ae&&(oe=Ae=null,fe=0),rs=t,Cn=e,Xr=a,$c=s,Vc=r,Uy=n,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,c1($i,function(){return Gy(),null})):(e.callbackNode=null,e.callbackPriority=0),n=(t.flags&13878)!==0,t.subtreeFlags&13878||n){n=F.T,F.T=null,r=ye.p,ye.p=2,l=xe,xe|=4;try{Wx(e,t,a)}finally{xe=l,ye.p=r,F.T=n}}ft=1,Vy(),Zy(),Py()}}function Vy(){if(ft===1){ft=0;var e=Cn,t=rs,a=(t.flags&13878)!==0;if(t.subtreeFlags&13878||a){a=F.T,F.T=null;var n=ye.p;ye.p=2;var r=xe;xe|=4;try{Ny(t,e);var s=Xc,l=cg(e.containerInfo),i=s.focusedElem,o=s.selectionRange;if(l!==i&&i&&i.ownerDocument&&ug(i.ownerDocument.documentElement,i)){if(o!==null&&qf(i)){var u=o.start,c=o.end;if(c===void 0&&(c=u),"selectionStart"in i)i.selectionStart=u,i.selectionEnd=Math.min(c,i.value.length);else{var f=i.ownerDocument||document,m=f&&f.defaultView||window;if(m.getSelection){var h=m.getSelection(),S=i.textContent.length,_=Math.min(o.start,S),v=o.end===void 0?_:Math.min(o.end,S);!h.extend&&_>v&&(l=v,v=_,_=l);var d=Tp(i,_),p=Tp(i,v);if(d&&p&&(h.rangeCount!==1||h.anchorNode!==d.node||h.anchorOffset!==d.offset||h.focusNode!==p.node||h.focusOffset!==p.offset)){var y=f.createRange();y.setStart(d.node,d.offset),h.removeAllRanges(),_>v?(h.addRange(y),h.extend(p.node,p.offset)):(y.setEnd(p.node,p.offset),h.addRange(y))}}}}for(f=[],h=i;h=h.parentNode;)h.nodeType===1&&f.push({element:h,left:h.scrollLeft,top:h.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<f.length;i++){var g=f[i];g.element.scrollLeft=g.left,g.element.scrollTop=g.top}}mo=!!Kc,Xc=Kc=null}finally{xe=r,ye.p=n,F.T=a}}e.current=t,ft=2}}function Zy(){if(ft===2){ft=0;var e=Cn,t=rs,a=(t.flags&8772)!==0;if(t.subtreeFlags&8772||a){a=F.T,F.T=null;var n=ye.p;ye.p=2;var r=xe;xe|=4;try{Ty(e,t.alternate,t)}finally{xe=r,ye.p=n,F.T=a}}ft=3}}function Py(){if(ft===4||ft===3){ft=0,k_();var e=Cn,t=rs,a=Xr,n=Uy;t.subtreeFlags&10256||t.flags&10256?ft=5:(ft=0,rs=Cn=null,Yy(e,e.pendingLanes));var r=e.pendingLanes;if(r===0&&(kn=null),Mf(a),t=t.stateNode,Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(Il,t,void 0,(t.current.flags&128)===128)}catch{}if(n!==null){t=F.T,r=ye.p,ye.p=2,F.T=null;try{for(var s=e.onRecoverableError,l=0;l<n.length;l++){var i=n[l];s(i.value,{componentStack:i.stack})}}finally{F.T=t,ye.p=r}}Xr&3&&tu(),Da(e),r=e.pendingLanes,a&4194090&&r&42?e===Zc?nl++:(nl=0,Zc=e):nl=0,Xl(0)}}function Yy(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Zl(t)))}function tu(e){return Vy(),Zy(),Py(),Gy()}function Gy(){if(ft!==5)return!1;var e=Cn,t=$c;$c=0;var a=Mf(Xr),n=F.T,r=ye.p;try{ye.p=32>a?32:a,F.T=null,a=Vc,Vc=null;var s=Cn,l=Xr;if(ft=0,rs=Cn=null,Xr=0,xe&6)throw Error(k(331));var i=xe;if(xe|=4,jy(s.current),Cy(s,s.current,l,a),xe=i,Xl(0,!1),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(Il,s)}catch{}return!0}finally{ye.p=r,F.T=n,Yy(e,t)}}function rm(e,t,a){t=Wt(a,t),t=Ic(e.stateNode,t,2),e=Nn(e,t,2),e!==null&&(ql(e,2),Da(e))}function Te(e,t,a){if(e.tag===3)rm(e,e,a);else for(;t!==null;){if(t.tag===3){rm(t,e,a);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(kn===null||!kn.has(n))){e=Wt(a,e),a=cy(2),n=Nn(t,a,2),n!==null&&(fy(a,n,t,e),ql(n,2),Da(n));break}}t=t.return}}function $u(e,t,a){var n=e.pingCache;if(n===null){n=e.pingCache=new a1;var r=new Set;n.set(t,r)}else r=n.get(t),r===void 0&&(r=new Set,n.set(t,r));r.has(a)||(cd=!0,r.add(a),e=i1.bind(null,e,t,a),t.then(e,e))}function i1(e,t,a){var n=e.pingCache;n!==null&&n.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Ae===e&&(fe&a)===a&&(Ie===4||Ie===3&&(fe&62914560)===fe&&300>Ra()-dd?!(xe&2)&&ss(e,0):fd|=a,ns===fe&&(ns=0)),Da(e)}function Ky(e,t){t===0&&(t=Vh()),e=gs(e,t),e!==null&&(ql(e,t),Da(e))}function o1(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),Ky(e,a)}function u1(e,t){var a=0;switch(e.tag){case 13:var n=e.stateNode,r=e.memoizedState;r!==null&&(a=r.retryLane);break;case 19:n=e.stateNode;break;case 22:n=e.stateNode._retryCache;break;default:throw Error(k(314))}n!==null&&n.delete(t),Ky(e,a)}function c1(e,t){return Cf(e,t)}var lo=null,Nr=null,Yc=!1,io=!1,Vu=!1,rr=0;function Da(e){e!==Nr&&e.next===null&&(Nr===null?lo=Nr=e:Nr=Nr.next=e),io=!0,Yc||(Yc=!0,d1())}function Xl(e,t){if(!Vu&&io){Vu=!0;do for(var a=!1,n=lo;n!==null;){if(e!==0){var r=n.pendingLanes;if(r===0)var s=0;else{var l=n.suspendedLanes,i=n.pingedLanes;s=(1<<31-$t(42|e)+1)-1,s&=r&~(l&~i),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(a=!0,sm(n,s))}else s=fe,s=Vo(n,n===Ae?s:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),!(s&3)||Ll(n,s)||(a=!0,sm(n,s));n=n.next}while(a);Vu=!1}}function f1(){Xy()}function Xy(){io=Yc=!1;var e=0;rr!==0&&(_1()&&(e=rr),rr=0);for(var t=Ra(),a=null,n=lo;n!==null;){var r=n.next,s=Jy(n,t);s===0?(n.next=null,a===null?lo=r:a.next=r,r===null&&(Nr=a)):(a=n,(e!==0||s&3)&&(io=!0)),n=r}Xl(e)}function Jy(e,t){for(var a=e.suspendedLanes,n=e.pingedLanes,r=e.expirationTimes,s=e.pendingLanes&-62914561;0<s;){var l=31-$t(s),i=1<<l,o=r[l];o===-1?(!(i&a)||i&n)&&(r[l]=I_(i,t)):o<=t&&(e.expiredLanes|=i),s&=~i}if(t=Ae,a=fe,a=Vo(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n=e.callbackNode,a===0||e===t&&(be===2||be===9)||e.cancelPendingCommit!==null)return n!==null&&n!==null&&hu(n),e.callbackNode=null,e.callbackPriority=0;if(!(a&3)||Ll(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(n!==null&&hu(n),Mf(a)){case 2:case 8:a=Hh;break;case 32:a=$i;break;case 268435456:a=Bh;break;default:a=$i}return n=Qy.bind(null,e),a=Cf(a,n),e.callbackPriority=t,e.callbackNode=a,t}return n!==null&&n!==null&&hu(n),e.callbackPriority=2,e.callbackNode=null,2}function Qy(e,t){if(ft!==0&&ft!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(tu()&&e.callbackNode!==a)return null;var n=fe;return n=Vo(e,e===Ae?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n===0?null:(Iy(e,n,t),Jy(e,Ra()),e.callbackNode!=null&&e.callbackNode===a?Qy.bind(null,e):null)}function sm(e,t){if(tu())return null;Iy(e,t,!0)}function d1(){S1(function(){xe&6?Cf(qh,f1):Xy()})}function md(){return rr===0&&(rr=$h()),rr}function lm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ti(""+e)}function im(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function p1(e,t,a,n,r){if(t==="submit"&&a&&a.stateNode===r){var s=lm((r[Ot]||null).action),l=n.submitter;l&&(t=(t=l[Ot]||null)?lm(t.formAction):l.getAttribute("formAction"),t!==null&&(s=t,l=null));var i=new Zo("action","action",null,n,r);e.push({event:i,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(rr!==0){var o=l?im(r,l):new FormData(r);Uc(a,{pending:!0,data:o,method:r.method,action:s},null,o)}}else typeof s=="function"&&(i.preventDefault(),o=l?im(r,l):new FormData(r),Uc(a,{pending:!0,data:o,method:r.method,action:s},s,o))},currentTarget:r}]})}}for(var Zu=0;Zu<wc.length;Zu++){var Pu=wc[Zu],m1=Pu.toLowerCase(),h1=Pu[0].toUpperCase()+Pu.slice(1);ga(m1,"on"+h1)}ga(dg,"onAnimationEnd");ga(pg,"onAnimationIteration");ga(mg,"onAnimationStart");ga("dblclick","onDoubleClick");ga("focusin","onFocus");ga("focusout","onBlur");ga(Mx,"onTransitionRun");ga(jx,"onTransitionStart");ga(Dx,"onTransitionCancel");ga(hg,"onTransitionEnd");Qr("onMouseEnter",["mouseout","mouseover"]);Qr("onMouseLeave",["mouseout","mouseover"]);Qr("onPointerEnter",["pointerout","pointerover"]);Qr("onPointerLeave",["pointerout","pointerover"]);hr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));hr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));hr("onBeforeInput",["compositionend","keypress","textInput","paste"]);hr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));hr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));hr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),g1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(pl));function Fy(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var n=e[a],r=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var l=n.length-1;0<=l;l--){var i=n[l],o=i.instance,u=i.currentTarget;if(i=i.listener,o!==s&&r.isPropagationStopped())break e;s=i,r.currentTarget=u;try{s(r)}catch(c){eo(c)}r.currentTarget=null,s=o}else for(l=0;l<n.length;l++){if(i=n[l],o=i.instance,u=i.currentTarget,i=i.listener,o!==s&&r.isPropagationStopped())break e;s=i,r.currentTarget=u;try{s(r)}catch(c){eo(c)}r.currentTarget=null,s=o}}}}function ie(e,t){var a=t[gc];a===void 0&&(a=t[gc]=new Set);var n=e+"__bubble";a.has(n)||(Wy(t,e,2,!1),a.add(n))}function Yu(e,t,a){var n=0;t&&(n|=4),Wy(a,e,n,t)}var gi="_reactListening"+Math.random().toString(36).slice(2);function hd(e){if(!e[gi]){e[gi]=!0,Gh.forEach(function(a){a!=="selectionchange"&&(g1.has(a)||Yu(a,!1,e),Yu(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[gi]||(t[gi]=!0,Yu("selectionchange",!1,t))}}function Wy(e,t,a,n){switch(fv(t)){case 2:var r=V1;break;case 8:r=Z1;break;default:r=bd}a=r.bind(null,t,a,e),r=void 0,!_c||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),n?r!==void 0?e.addEventListener(t,a,{capture:!0,passive:r}):e.addEventListener(t,a,!0):r!==void 0?e.addEventListener(t,a,{passive:r}):e.addEventListener(t,a,!1)}function Gu(e,t,a,n,r){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var l=n.tag;if(l===3||l===4){var i=n.stateNode.containerInfo;if(i===r)break;if(l===4)for(l=n.return;l!==null;){var o=l.tag;if((o===3||o===4)&&l.stateNode.containerInfo===r)return;l=l.return}for(;i!==null;){if(l=Mr(i),l===null)return;if(o=l.tag,o===5||o===6||o===26||o===27){n=s=l;continue e}i=i.parentNode}}n=n.return}tg(function(){var u=s,c=Uf(a),f=[];e:{var m=gg.get(e);if(m!==void 0){var h=Zo,S=e;switch(e){case"keypress":if(Ai(a)===0)break e;case"keydown":case"keyup":h=cx;break;case"focusin":S="focus",h=wu;break;case"focusout":S="blur",h=wu;break;case"beforeblur":case"afterblur":h=wu;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=mp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=F_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=px;break;case dg:case pg:case mg:h=tx;break;case hg:h=hx;break;case"scroll":case"scrollend":h=J_;break;case"wheel":h=yx;break;case"copy":case"cut":case"paste":h=nx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=gp;break;case"toggle":case"beforetoggle":h=bx}var _=(t&4)!==0,v=!_&&(e==="scroll"||e==="scrollend"),d=_?m!==null?m+"Capture":null:m;_=[];for(var p=u,y;p!==null;){var g=p;if(y=g.stateNode,g=g.tag,g!==5&&g!==26&&g!==27||y===null||d===null||(g=il(p,d),g!=null&&_.push(ml(p,g,y))),v)break;p=p.return}0<_.length&&(m=new h(m,S,null,a,c),f.push({event:m,listeners:_}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",m&&a!==bc&&(S=a.relatedTarget||a.fromElement)&&(Mr(S)||S[ms]))break e;if((h||m)&&(m=c.window===c?c:(m=c.ownerDocument)?m.defaultView||m.parentWindow:window,h?(S=a.relatedTarget||a.toElement,h=u,S=S?Mr(S):null,S!==null&&(v=zl(S),_=S.tag,S!==v||_!==5&&_!==27&&_!==6)&&(S=null)):(h=null,S=u),h!==S)){if(_=mp,g="onMouseLeave",d="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(_=gp,g="onPointerLeave",d="onPointerEnter",p="pointer"),v=h==null?m:Bs(h),y=S==null?m:Bs(S),m=new _(g,p+"leave",h,a,c),m.target=v,m.relatedTarget=y,g=null,Mr(c)===u&&(_=new _(d,p+"enter",S,a,c),_.target=y,_.relatedTarget=v,g=_),v=g,h&&S)t:{for(_=h,d=S,p=0,y=_;y;y=Tr(y))p++;for(y=0,g=d;g;g=Tr(g))y++;for(;0<p-y;)_=Tr(_),p--;for(;0<y-p;)d=Tr(d),y--;for(;p--;){if(_===d||d!==null&&_===d.alternate)break t;_=Tr(_),d=Tr(d)}_=null}else _=null;h!==null&&om(f,m,h,_,!1),S!==null&&v!==null&&om(f,v,S,_,!0)}}e:{if(m=u?Bs(u):window,h=m.nodeName&&m.nodeName.toLowerCase(),h==="select"||h==="input"&&m.type==="file")var w=_p;else if(bp(m))if(ig)w=kx;else{w=Rx;var E=Ax}else h=m.nodeName,!h||h.toLowerCase()!=="input"||m.type!=="checkbox"&&m.type!=="radio"?u&&Df(u.elementType)&&(w=_p):w=Nx;if(w&&(w=w(e,u))){lg(f,w,a,c);break e}E&&E(e,m,u),e==="focusout"&&u&&m.type==="number"&&u.memoizedProps.value!=null&&vc(m,"number",m.value)}switch(E=u?Bs(u):window,e){case"focusin":(bp(E)||E.contentEditable==="true")&&(Ur=E,xc=u,Gs=null);break;case"focusout":Gs=xc=Ur=null;break;case"mousedown":Sc=!0;break;case"contextmenu":case"mouseup":case"dragend":Sc=!1,Ep(f,a,c);break;case"selectionchange":if(Ox)break;case"keydown":case"keyup":Ep(f,a,c)}var N;if(Lf)e:{switch(e){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else Dr?rg(e,a)&&(R="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(R="onCompositionStart");R&&(ng&&a.locale!=="ko"&&(Dr||R!=="onCompositionStart"?R==="onCompositionEnd"&&Dr&&(N=ag()):(wn=c,zf="value"in wn?wn.value:wn.textContent,Dr=!0)),E=oo(u,R),0<E.length&&(R=new hp(R,e,null,a,c),f.push({event:R,listeners:E}),N?R.data=N:(N=sg(a),N!==null&&(R.data=N)))),(N=xx?Sx(e,a):wx(e,a))&&(R=oo(u,"onBeforeInput"),0<R.length&&(E=new hp("onBeforeInput","beforeinput",null,a,c),f.push({event:E,listeners:R}),E.data=N)),p1(f,e,u,a,c)}Fy(f,t)})}function ml(e,t,a){return{instance:e,listener:t,currentTarget:a}}function oo(e,t){for(var a=t+"Capture",n=[];e!==null;){var r=e,s=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||s===null||(r=il(e,a),r!=null&&n.unshift(ml(e,r,s)),r=il(e,t),r!=null&&n.push(ml(e,r,s))),e.tag===3)return n;e=e.return}return[]}function Tr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function om(e,t,a,n,r){for(var s=t._reactName,l=[];a!==null&&a!==n;){var i=a,o=i.alternate,u=i.stateNode;if(i=i.tag,o!==null&&o===n)break;i!==5&&i!==26&&i!==27||u===null||(o=u,r?(u=il(a,s),u!=null&&l.unshift(ml(a,u,o))):r||(u=il(a,s),u!=null&&l.push(ml(a,u,o)))),a=a.return}l.length!==0&&e.push({event:t,listeners:l})}var y1=/\r\n?/g,v1=/\u0000|\uFFFD/g;function um(e){return(typeof e=="string"?e:""+e).replace(y1,`
`).replace(v1,"")}function ev(e,t){return t=um(t),um(e)===t}function au(){}function Se(e,t,a,n,r,s){switch(a){case"children":typeof n=="string"?t==="body"||t==="textarea"&&n===""||Fr(e,n):(typeof n=="number"||typeof n=="bigint")&&t!=="body"&&Fr(e,""+n);break;case"className":ui(e,"class",n);break;case"tabIndex":ui(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":ui(e,a,n);break;case"style":eg(e,n,s);break;case"data":if(t!=="object"){ui(e,"data",n);break}case"src":case"href":if(n===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(n==null||typeof n=="function"||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=Ti(""+n),e.setAttribute(a,n);break;case"action":case"formAction":if(typeof n=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(a==="formAction"?(t!=="input"&&Se(e,t,"name",r.name,r,null),Se(e,t,"formEncType",r.formEncType,r,null),Se(e,t,"formMethod",r.formMethod,r,null),Se(e,t,"formTarget",r.formTarget,r,null)):(Se(e,t,"encType",r.encType,r,null),Se(e,t,"method",r.method,r,null),Se(e,t,"target",r.target,r,null)));if(n==null||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=Ti(""+n),e.setAttribute(a,n);break;case"onClick":n!=null&&(e.onclick=au);break;case"onScroll":n!=null&&ie("scroll",e);break;case"onScrollEnd":n!=null&&ie("scrollend",e);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(k(61));if(a=n.__html,a!=null){if(r.children!=null)throw Error(k(60));e.innerHTML=a}}break;case"multiple":e.multiple=n&&typeof n!="function"&&typeof n!="symbol";break;case"muted":e.muted=n&&typeof n!="function"&&typeof n!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(n==null||typeof n=="function"||typeof n=="boolean"||typeof n=="symbol"){e.removeAttribute("xlink:href");break}a=Ti(""+n),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""+n):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":n===!0?e.setAttribute(a,""):n!==!1&&n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,n):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":n!=null&&typeof n!="function"&&typeof n!="symbol"&&!isNaN(n)&&1<=n?e.setAttribute(a,n):e.removeAttribute(a);break;case"rowSpan":case"start":n==null||typeof n=="function"||typeof n=="symbol"||isNaN(n)?e.removeAttribute(a):e.setAttribute(a,n);break;case"popover":ie("beforetoggle",e),ie("toggle",e),wi(e,"popover",n);break;case"xlinkActuate":La(e,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":La(e,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":La(e,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":La(e,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":La(e,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":La(e,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":La(e,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":La(e,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":La(e,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":wi(e,"is",n);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=K_.get(a)||a,wi(e,a,n))}}function Gc(e,t,a,n,r,s){switch(a){case"style":eg(e,n,s);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(k(61));if(a=n.__html,a!=null){if(r.children!=null)throw Error(k(60));e.innerHTML=a}}break;case"children":typeof n=="string"?Fr(e,n):(typeof n=="number"||typeof n=="bigint")&&Fr(e,""+n);break;case"onScroll":n!=null&&ie("scroll",e);break;case"onScrollEnd":n!=null&&ie("scrollend",e);break;case"onClick":n!=null&&(e.onclick=au);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Kh.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(r=a.endsWith("Capture"),t=a.slice(2,r?a.length-7:void 0),s=e[Ot]||null,s=s!=null?s[a]:null,typeof s=="function"&&e.removeEventListener(t,s,r),typeof n=="function")){typeof s!="function"&&s!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,n,r);break e}a in e?e[a]=n:n===!0?e.setAttribute(a,""):wi(e,a,n)}}}function dt(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ie("error",e),ie("load",e);var n=!1,r=!1,s;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];if(l!=null)switch(s){case"src":n=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(k(137,t));default:Se(e,t,s,l,a,null)}}r&&Se(e,t,"srcSet",a.srcSet,a,null),n&&Se(e,t,"src",a.src,a,null);return;case"input":ie("invalid",e);var i=s=l=r=null,o=null,u=null;for(n in a)if(a.hasOwnProperty(n)){var c=a[n];if(c!=null)switch(n){case"name":r=c;break;case"type":l=c;break;case"checked":o=c;break;case"defaultChecked":u=c;break;case"value":s=c;break;case"defaultValue":i=c;break;case"children":case"dangerouslySetInnerHTML":if(c!=null)throw Error(k(137,t));break;default:Se(e,t,n,c,a,null)}}Qh(e,s,i,o,u,l,r,!1),Vi(e);return;case"select":ie("invalid",e),n=l=s=null;for(r in a)if(a.hasOwnProperty(r)&&(i=a[r],i!=null))switch(r){case"value":s=i;break;case"defaultValue":l=i;break;case"multiple":n=i;default:Se(e,t,r,i,a,null)}t=s,a=l,e.multiple=!!n,t!=null?Vr(e,!!n,t,!1):a!=null&&Vr(e,!!n,a,!0);return;case"textarea":ie("invalid",e),s=r=n=null;for(l in a)if(a.hasOwnProperty(l)&&(i=a[l],i!=null))switch(l){case"value":n=i;break;case"defaultValue":r=i;break;case"children":s=i;break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(k(91));break;default:Se(e,t,l,i,a,null)}Wh(e,n,r,s),Vi(e);return;case"option":for(o in a)if(a.hasOwnProperty(o)&&(n=a[o],n!=null))switch(o){case"selected":e.selected=n&&typeof n!="function"&&typeof n!="symbol";break;default:Se(e,t,o,n,a,null)}return;case"dialog":ie("beforetoggle",e),ie("toggle",e),ie("cancel",e),ie("close",e);break;case"iframe":case"object":ie("load",e);break;case"video":case"audio":for(n=0;n<pl.length;n++)ie(pl[n],e);break;case"image":ie("error",e),ie("load",e);break;case"details":ie("toggle",e);break;case"embed":case"source":case"link":ie("error",e),ie("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in a)if(a.hasOwnProperty(u)&&(n=a[u],n!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(k(137,t));default:Se(e,t,u,n,a,null)}return;default:if(Df(t)){for(c in a)a.hasOwnProperty(c)&&(n=a[c],n!==void 0&&Gc(e,t,c,n,a,void 0));return}}for(i in a)a.hasOwnProperty(i)&&(n=a[i],n!=null&&Se(e,t,i,n,a,null))}function b1(e,t,a,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,s=null,l=null,i=null,o=null,u=null,c=null;for(h in a){var f=a[h];if(a.hasOwnProperty(h)&&f!=null)switch(h){case"checked":break;case"value":break;case"defaultValue":o=f;default:n.hasOwnProperty(h)||Se(e,t,h,null,n,f)}}for(var m in n){var h=n[m];if(f=a[m],n.hasOwnProperty(m)&&(h!=null||f!=null))switch(m){case"type":s=h;break;case"name":r=h;break;case"checked":u=h;break;case"defaultChecked":c=h;break;case"value":l=h;break;case"defaultValue":i=h;break;case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(k(137,t));break;default:h!==f&&Se(e,t,m,h,n,f)}}yc(e,l,i,o,u,c,s,r);return;case"select":h=l=i=m=null;for(s in a)if(o=a[s],a.hasOwnProperty(s)&&o!=null)switch(s){case"value":break;case"multiple":h=o;default:n.hasOwnProperty(s)||Se(e,t,s,null,n,o)}for(r in n)if(s=n[r],o=a[r],n.hasOwnProperty(r)&&(s!=null||o!=null))switch(r){case"value":m=s;break;case"defaultValue":i=s;break;case"multiple":l=s;default:s!==o&&Se(e,t,r,s,n,o)}t=i,a=l,n=h,m!=null?Vr(e,!!a,m,!1):!!n!=!!a&&(t!=null?Vr(e,!!a,t,!0):Vr(e,!!a,a?[]:"",!1));return;case"textarea":h=m=null;for(i in a)if(r=a[i],a.hasOwnProperty(i)&&r!=null&&!n.hasOwnProperty(i))switch(i){case"value":break;case"children":break;default:Se(e,t,i,null,n,r)}for(l in n)if(r=n[l],s=a[l],n.hasOwnProperty(l)&&(r!=null||s!=null))switch(l){case"value":m=r;break;case"defaultValue":h=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(k(91));break;default:r!==s&&Se(e,t,l,r,n,s)}Fh(e,m,h);return;case"option":for(var S in a)if(m=a[S],a.hasOwnProperty(S)&&m!=null&&!n.hasOwnProperty(S))switch(S){case"selected":e.selected=!1;break;default:Se(e,t,S,null,n,m)}for(o in n)if(m=n[o],h=a[o],n.hasOwnProperty(o)&&m!==h&&(m!=null||h!=null))switch(o){case"selected":e.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:Se(e,t,o,m,n,h)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _ in a)m=a[_],a.hasOwnProperty(_)&&m!=null&&!n.hasOwnProperty(_)&&Se(e,t,_,null,n,m);for(u in n)if(m=n[u],h=a[u],n.hasOwnProperty(u)&&m!==h&&(m!=null||h!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(k(137,t));break;default:Se(e,t,u,m,n,h)}return;default:if(Df(t)){for(var v in a)m=a[v],a.hasOwnProperty(v)&&m!==void 0&&!n.hasOwnProperty(v)&&Gc(e,t,v,void 0,n,m);for(c in n)m=n[c],h=a[c],!n.hasOwnProperty(c)||m===h||m===void 0&&h===void 0||Gc(e,t,c,m,n,h);return}}for(var d in a)m=a[d],a.hasOwnProperty(d)&&m!=null&&!n.hasOwnProperty(d)&&Se(e,t,d,null,n,m);for(f in n)m=n[f],h=a[f],!n.hasOwnProperty(f)||m===h||m==null&&h==null||Se(e,t,f,m,n,h)}var Kc=null,Xc=null;function uo(e){return e.nodeType===9?e:e.ownerDocument}function cm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function tv(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Jc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ku=null;function _1(){var e=window.event;return e&&e.type==="popstate"?e===Ku?!1:(Ku=e,!0):(Ku=null,!1)}var av=typeof setTimeout=="function"?setTimeout:void 0,x1=typeof clearTimeout=="function"?clearTimeout:void 0,fm=typeof Promise=="function"?Promise:void 0,S1=typeof queueMicrotask=="function"?queueMicrotask:typeof fm<"u"?function(e){return fm.resolve(null).then(e).catch(w1)}:av;function w1(e){setTimeout(function(){throw e})}function Hn(e){return e==="head"}function dm(e,t){var a=t,n=0,r=0;do{var s=a.nextSibling;if(e.removeChild(a),s&&s.nodeType===8)if(a=s.data,a==="/$"){if(0<n&&8>n){a=n;var l=e.ownerDocument;if(a&1&&rl(l.documentElement),a&2&&rl(l.body),a&4)for(a=l.head,rl(a),l=a.firstChild;l;){var i=l.nextSibling,o=l.nodeName;l[Hl]||o==="SCRIPT"||o==="STYLE"||o==="LINK"&&l.rel.toLowerCase()==="stylesheet"||a.removeChild(l),l=i}}if(r===0){e.removeChild(s),bl(t);return}r--}else a==="$"||a==="$?"||a==="$!"?r++:n=a.charCodeAt(0)-48;else n=0;a=s}while(a);bl(t)}function Qc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Qc(a),jf(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function T1(e,t,a,n){for(;e.nodeType===1;){var r=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!n&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(n){if(!e[Hl])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(s=e.getAttribute("rel"),s==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(s!==r.rel||e.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||e.getAttribute("title")!==(r.title==null?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(s=e.getAttribute("src"),(s!==(r.src==null?null:r.src)||e.getAttribute("type")!==(r.type==null?null:r.type)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var s=r.name==null?null:""+r.name;if(r.type==="hidden"&&e.getAttribute("name")===s)return e}else return e;if(e=pa(e.nextSibling),e===null)break}return null}function E1(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=pa(e.nextSibling),e===null))return null;return e}function Fc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function A1(e,t){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")t();else{var n=function(){t(),a.removeEventListener("DOMContentLoaded",n)};a.addEventListener("DOMContentLoaded",n),e._reactRetry=n}}function pa(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var Wc=null;function pm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(t===0)return e;t--}else a==="/$"&&t++}e=e.previousSibling}return null}function nv(e,t,a){switch(t=uo(a),e){case"html":if(e=t.documentElement,!e)throw Error(k(452));return e;case"head":if(e=t.head,!e)throw Error(k(453));return e;case"body":if(e=t.body,!e)throw Error(k(454));return e;default:throw Error(k(451))}}function rl(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);jf(e)}var sa=new Map,mm=new Set;function co(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ln=ye.d;ye.d={f:R1,r:N1,D:k1,C:C1,L:O1,m:M1,X:D1,S:j1,M:U1};function R1(){var e=ln.f(),t=Wo();return e||t}function N1(e){var t=hs(e);t!==null&&t.tag===5&&t.type==="form"?Jg(t):ln.r(e)}var vs=typeof document>"u"?null:document;function rv(e,t,a){var n=vs;if(n&&typeof t=="string"&&t){var r=Ft(t);r='link[rel="'+e+'"][href="'+r+'"]',typeof a=="string"&&(r+='[crossorigin="'+a+'"]'),mm.has(r)||(mm.add(r),e={rel:e,crossOrigin:a,href:t},n.querySelector(r)===null&&(t=n.createElement("link"),dt(t,"link",e),lt(t),n.head.appendChild(t)))}}function k1(e){ln.D(e),rv("dns-prefetch",e,null)}function C1(e,t){ln.C(e,t),rv("preconnect",e,t)}function O1(e,t,a){ln.L(e,t,a);var n=vs;if(n&&e&&t){var r='link[rel="preload"][as="'+Ft(t)+'"]';t==="image"&&a&&a.imageSrcSet?(r+='[imagesrcset="'+Ft(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(r+='[imagesizes="'+Ft(a.imageSizes)+'"]')):r+='[href="'+Ft(e)+'"]';var s=r;switch(t){case"style":s=ls(e);break;case"script":s=bs(e)}sa.has(s)||(e=Re({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),sa.set(s,e),n.querySelector(r)!==null||t==="style"&&n.querySelector(Jl(s))||t==="script"&&n.querySelector(Ql(s))||(t=n.createElement("link"),dt(t,"link",e),lt(t),n.head.appendChild(t)))}}function M1(e,t){ln.m(e,t);var a=vs;if(a&&e){var n=t&&typeof t.as=="string"?t.as:"script",r='link[rel="modulepreload"][as="'+Ft(n)+'"][href="'+Ft(e)+'"]',s=r;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=bs(e)}if(!sa.has(s)&&(e=Re({rel:"modulepreload",href:e},t),sa.set(s,e),a.querySelector(r)===null)){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ql(s)))return}n=a.createElement("link"),dt(n,"link",e),lt(n),a.head.appendChild(n)}}}function j1(e,t,a){ln.S(e,t,a);var n=vs;if(n&&e){var r=$r(n).hoistableStyles,s=ls(e);t=t||"default";var l=r.get(s);if(!l){var i={loading:0,preload:null};if(l=n.querySelector(Jl(s)))i.loading=5;else{e=Re({rel:"stylesheet",href:e,"data-precedence":t},a),(a=sa.get(s))&&gd(e,a);var o=l=n.createElement("link");lt(o),dt(o,"link",e),o._p=new Promise(function(u,c){o.onload=u,o.onerror=c}),o.addEventListener("load",function(){i.loading|=1}),o.addEventListener("error",function(){i.loading|=2}),i.loading|=4,ji(l,t,n)}l={type:"stylesheet",instance:l,count:1,state:i},r.set(s,l)}}}function D1(e,t){ln.X(e,t);var a=vs;if(a&&e){var n=$r(a).hoistableScripts,r=bs(e),s=n.get(r);s||(s=a.querySelector(Ql(r)),s||(e=Re({src:e,async:!0},t),(t=sa.get(r))&&yd(e,t),s=a.createElement("script"),lt(s),dt(s,"link",e),a.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},n.set(r,s))}}function U1(e,t){ln.M(e,t);var a=vs;if(a&&e){var n=$r(a).hoistableScripts,r=bs(e),s=n.get(r);s||(s=a.querySelector(Ql(r)),s||(e=Re({src:e,async:!0,type:"module"},t),(t=sa.get(r))&&yd(e,t),s=a.createElement("script"),lt(s),dt(s,"link",e),a.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},n.set(r,s))}}function hm(e,t,a,n){var r=(r=An.current)?co(r):null;if(!r)throw Error(k(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=ls(a.href),a=$r(r).hoistableStyles,n=a.get(t),n||(n={type:"style",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=ls(a.href);var s=$r(r).hoistableStyles,l=s.get(e);if(l||(r=r.ownerDocument||r,l={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(e,l),(s=r.querySelector(Jl(e)))&&!s._p&&(l.instance=s,l.state.loading=5),sa.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},sa.set(e,a),s||z1(r,e,a,l.state))),t&&n===null)throw Error(k(528,""));return l}if(t&&n!==null)throw Error(k(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=bs(a),a=$r(r).hoistableScripts,n=a.get(t),n||(n={type:"script",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(k(444,e))}}function ls(e){return'href="'+Ft(e)+'"'}function Jl(e){return'link[rel="stylesheet"]['+e+"]"}function sv(e){return Re({},e,{"data-precedence":e.precedence,precedence:null})}function z1(e,t,a,n){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?n.loading=1:(t=e.createElement("link"),n.preload=t,t.addEventListener("load",function(){return n.loading|=1}),t.addEventListener("error",function(){return n.loading|=2}),dt(t,"link",a),lt(t),e.head.appendChild(t))}function bs(e){return'[src="'+Ft(e)+'"]'}function Ql(e){return"script[async]"+e}function gm(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var n=e.querySelector('style[data-href~="'+Ft(a.href)+'"]');if(n)return t.instance=n,lt(n),n;var r=Re({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return n=(e.ownerDocument||e).createElement("style"),lt(n),dt(n,"style",r),ji(n,a.precedence,e),t.instance=n;case"stylesheet":r=ls(a.href);var s=e.querySelector(Jl(r));if(s)return t.state.loading|=4,t.instance=s,lt(s),s;n=sv(a),(r=sa.get(r))&&gd(n,r),s=(e.ownerDocument||e).createElement("link"),lt(s);var l=s;return l._p=new Promise(function(i,o){l.onload=i,l.onerror=o}),dt(s,"link",n),t.state.loading|=4,ji(s,a.precedence,e),t.instance=s;case"script":return s=bs(a.src),(r=e.querySelector(Ql(s)))?(t.instance=r,lt(r),r):(n=a,(r=sa.get(s))&&(n=Re({},a),yd(n,r)),e=e.ownerDocument||e,r=e.createElement("script"),lt(r),dt(r,"link",n),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(k(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(n=t.instance,t.state.loading|=4,ji(n,a.precedence,e));return t.instance}function ji(e,t,a){for(var n=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=n.length?n[n.length-1]:null,s=r,l=0;l<n.length;l++){var i=n[l];if(i.dataset.precedence===t)s=i;else if(s!==r)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function gd(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function yd(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Di=null;function ym(e,t,a){if(Di===null){var n=new Map,r=Di=new Map;r.set(a,n)}else r=Di,n=r.get(a),n||(n=new Map,r.set(a,n));if(n.has(e))return n;for(n.set(e,null),a=a.getElementsByTagName(e),r=0;r<a.length;r++){var s=a[r];if(!(s[Hl]||s[yt]||e==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var l=s.getAttribute(t)||"";l=e+l;var i=n.get(l);i?i.push(s):n.set(l,[s])}}return n}function vm(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function I1(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function lv(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}var hl=null;function L1(){}function q1(e,t,a){if(hl===null)throw Error(k(475));var n=hl;if(t.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&!(t.state.loading&4)){if(t.instance===null){var r=ls(a.href),s=e.querySelector(Jl(r));if(s){e=s._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(n.count++,n=fo.bind(n),e.then(n,n)),t.state.loading|=4,t.instance=s,lt(s);return}s=e.ownerDocument||e,a=sv(a),(r=sa.get(r))&&gd(a,r),s=s.createElement("link"),lt(s);var l=s;l._p=new Promise(function(i,o){l.onload=i,l.onerror=o}),dt(s,"link",a),t.instance=s}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(t,e),(e=t.state.preload)&&!(t.state.loading&3)&&(n.count++,t=fo.bind(n),e.addEventListener("load",t),e.addEventListener("error",t))}}function H1(){if(hl===null)throw Error(k(475));var e=hl;return e.stylesheets&&e.count===0&&ef(e,e.stylesheets),0<e.count?function(t){var a=setTimeout(function(){if(e.stylesheets&&ef(e,e.stylesheets),e.unsuspend){var n=e.unsuspend;e.unsuspend=null,n()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(a)}}:null}function fo(){if(this.count--,this.count===0){if(this.stylesheets)ef(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var po=null;function ef(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,po=new Map,t.forEach(B1,e),po=null,fo.call(e))}function B1(e,t){if(!(t.state.loading&4)){var a=po.get(e);if(a)var n=a.get(null);else{a=new Map,po.set(e,a);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<r.length;s++){var l=r[s];(l.nodeName==="LINK"||l.getAttribute("media")!=="not all")&&(a.set(l.dataset.precedence,l),n=l)}n&&a.set(null,n)}r=t.instance,l=r.getAttribute("data-precedence"),s=a.get(l)||n,s===n&&a.set(null,r),a.set(l,r),this.count++,n=fo.bind(this),r.addEventListener("load",n),r.addEventListener("error",n),s?s.parentNode.insertBefore(r,s.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(r,e.firstChild)),t.state.loading|=4}}var gl={$$typeof:Za,Provider:null,Consumer:null,_currentValue:Fn,_currentValue2:Fn,_threadCount:0};function $1(e,t,a,n,r,s,l,i){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=gu(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gu(0),this.hiddenUpdates=gu(null),this.identifierPrefix=n,this.onUncaughtError=r,this.onCaughtError=s,this.onRecoverableError=l,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=i,this.incompleteTransitions=new Map}function iv(e,t,a,n,r,s,l,i,o,u,c,f){return e=new $1(e,t,a,l,i,o,u,f),t=1,s===!0&&(t|=24),s=Ht(3,null,null,t),e.current=s,s.stateNode=e,t=Pf(),t.refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:n,isDehydrated:a,cache:t},Gf(s),e}function ov(e){return e?(e=Lr,e):Lr}function uv(e,t,a,n,r,s){r=ov(r),n.context===null?n.context=r:n.pendingContext=r,n=Rn(t),n.payload={element:a},s=s===void 0?null:s,s!==null&&(n.callback=s),a=Nn(e,n,t),a!==null&&(Zt(a,e,t),Js(a,e,t))}function bm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function vd(e,t){bm(e,t),(e=e.alternate)&&bm(e,t)}function cv(e){if(e.tag===13){var t=gs(e,67108864);t!==null&&Zt(t,e,67108864),vd(e,67108864)}}var mo=!0;function V1(e,t,a,n){var r=F.T;F.T=null;var s=ye.p;try{ye.p=2,bd(e,t,a,n)}finally{ye.p=s,F.T=r}}function Z1(e,t,a,n){var r=F.T;F.T=null;var s=ye.p;try{ye.p=8,bd(e,t,a,n)}finally{ye.p=s,F.T=r}}function bd(e,t,a,n){if(mo){var r=tf(n);if(r===null)Gu(e,t,n,ho,a),_m(e,n);else if(Y1(r,e,t,a,n))n.stopPropagation();else if(_m(e,n),t&4&&-1<P1.indexOf(e)){for(;r!==null;){var s=hs(r);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var l=Kn(s.pendingLanes);if(l!==0){var i=s;for(i.pendingLanes|=2,i.entangledLanes|=2;l;){var o=1<<31-$t(l);i.entanglements[1]|=o,l&=~o}Da(s),!(xe&6)&&(ro=Ra()+500,Xl(0))}}break;case 13:i=gs(s,2),i!==null&&Zt(i,s,2),Wo(),vd(s,2)}if(s=tf(n),s===null&&Gu(e,t,n,ho,a),s===r)break;r=s}r!==null&&n.stopPropagation()}else Gu(e,t,n,null,a)}}function tf(e){return e=Uf(e),_d(e)}var ho=null;function _d(e){if(ho=null,e=Mr(e),e!==null){var t=zl(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=Uh(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ho=e,null}function fv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(C_()){case qh:return 2;case Hh:return 8;case $i:case O_:return 32;case Bh:return 268435456;default:return 32}default:return 32}}var af=!1,On=null,Mn=null,jn=null,yl=new Map,vl=new Map,_n=[],P1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function _m(e,t){switch(e){case"focusin":case"focusout":On=null;break;case"dragenter":case"dragleave":Mn=null;break;case"mouseover":case"mouseout":jn=null;break;case"pointerover":case"pointerout":yl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":vl.delete(t.pointerId)}}function Us(e,t,a,n,r,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:a,eventSystemFlags:n,nativeEvent:s,targetContainers:[r]},t!==null&&(t=hs(t),t!==null&&cv(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function Y1(e,t,a,n,r){switch(t){case"focusin":return On=Us(On,e,t,a,n,r),!0;case"dragenter":return Mn=Us(Mn,e,t,a,n,r),!0;case"mouseover":return jn=Us(jn,e,t,a,n,r),!0;case"pointerover":var s=r.pointerId;return yl.set(s,Us(yl.get(s)||null,e,t,a,n,r)),!0;case"gotpointercapture":return s=r.pointerId,vl.set(s,Us(vl.get(s)||null,e,t,a,n,r)),!0}return!1}function dv(e){var t=Mr(e.target);if(t!==null){var a=zl(t);if(a!==null){if(t=a.tag,t===13){if(t=Uh(a),t!==null){e.blockedOn=t,q_(e.priority,function(){if(a.tag===13){var n=Vt();n=Of(n);var r=gs(a,n);r!==null&&Zt(r,a,n),vd(a,n)}});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ui(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=tf(e.nativeEvent);if(a===null){a=e.nativeEvent;var n=new a.constructor(a.type,a);bc=n,a.target.dispatchEvent(n),bc=null}else return t=hs(a),t!==null&&cv(t),e.blockedOn=a,!1;t.shift()}return!0}function xm(e,t,a){Ui(e)&&a.delete(t)}function G1(){af=!1,On!==null&&Ui(On)&&(On=null),Mn!==null&&Ui(Mn)&&(Mn=null),jn!==null&&Ui(jn)&&(jn=null),yl.forEach(xm),vl.forEach(xm)}function yi(e,t){e.blockedOn===t&&(e.blockedOn=null,af||(af=!0,at.unstable_scheduleCallback(at.unstable_NormalPriority,G1)))}var vi=null;function Sm(e){vi!==e&&(vi=e,at.unstable_scheduleCallback(at.unstable_NormalPriority,function(){vi===e&&(vi=null);for(var t=0;t<e.length;t+=3){var a=e[t],n=e[t+1],r=e[t+2];if(typeof n!="function"){if(_d(n||a)===null)continue;break}var s=hs(a);s!==null&&(e.splice(t,3),t-=3,Uc(s,{pending:!0,data:r,method:a.method,action:n},n,r))}}))}function bl(e){function t(o){return yi(o,e)}On!==null&&yi(On,e),Mn!==null&&yi(Mn,e),jn!==null&&yi(jn,e),yl.forEach(t),vl.forEach(t);for(var a=0;a<_n.length;a++){var n=_n[a];n.blockedOn===e&&(n.blockedOn=null)}for(;0<_n.length&&(a=_n[0],a.blockedOn===null);)dv(a),a.blockedOn===null&&_n.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(n=0;n<a.length;n+=3){var r=a[n],s=a[n+1],l=r[Ot]||null;if(typeof s=="function")l||Sm(a);else if(l){var i=null;if(s&&s.hasAttribute("formAction")){if(r=s,l=s[Ot]||null)i=l.formAction;else if(_d(r)!==null)continue}else i=l.action;typeof i=="function"?a[n+1]=i:(a.splice(n,3),n-=3),Sm(a)}}}function xd(e){this._internalRoot=e}nu.prototype.render=xd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(k(409));var a=t.current,n=Vt();uv(a,n,e,t,null,null)};nu.prototype.unmount=xd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;uv(e.current,2,null,e,null,null),Wo(),t[ms]=null}};function nu(e){this._internalRoot=e}nu.prototype.unstable_scheduleHydration=function(e){if(e){var t=Yh();e={blockedOn:null,target:e,priority:t};for(var a=0;a<_n.length&&t!==0&&t<_n[a].priority;a++);_n.splice(a,0,e),a===0&&dv(e)}};var wm=jh.version;if(wm!=="19.1.0")throw Error(k(527,wm,"19.1.0"));ye.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(k(188)):(e=Object.keys(e).join(","),Error(k(268,e)));return e=w_(t),e=e!==null?zh(e):null,e=e===null?null:e.stateNode,e};var K1={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bi.isDisabled&&bi.supportsFiber)try{Il=bi.inject(K1),Bt=bi}catch{}}Bo.createRoot=function(e,t){if(!Dh(e))throw Error(k(299));var a=!1,n="",r=iy,s=oy,l=uy,i=null;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onUncaughtError!==void 0&&(r=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(l=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(i=t.unstable_transitionCallbacks)),t=iv(e,1,!1,null,null,a,n,r,s,l,i,null),e[ms]=t.current,hd(e),new xd(t)};Bo.hydrateRoot=function(e,t,a){if(!Dh(e))throw Error(k(299));var n=!1,r="",s=iy,l=oy,i=uy,o=null,u=null;return a!=null&&(a.unstable_strictMode===!0&&(n=!0),a.identifierPrefix!==void 0&&(r=a.identifierPrefix),a.onUncaughtError!==void 0&&(s=a.onUncaughtError),a.onCaughtError!==void 0&&(l=a.onCaughtError),a.onRecoverableError!==void 0&&(i=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(o=a.unstable_transitionCallbacks),a.formState!==void 0&&(u=a.formState)),t=iv(e,1,!0,t,a??null,n,r,s,l,i,o,u),t.context=ov(null),a=t.current,n=Vt(),n=Of(n),r=Rn(n),r.callback=null,Nn(a,r,n),a=n,t.current.lanes=a,ql(t,a),Da(t),e[ms]=t.current,hd(e),new nu(t)};Bo.version="19.1.0";function pv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(pv)}catch(e){console.error(e)}}pv(),Rh.exports=Bo;var X1=Rh.exports,Sd={};Object.defineProperty(Sd,"__esModule",{value:!0});Sd.parse=aS;Sd.serialize=nS;const J1=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,Q1=/^[\u0021-\u003A\u003C-\u007E]*$/,F1=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,W1=/^[\u0020-\u003A\u003D-\u007E]*$/,eS=Object.prototype.toString,tS=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function aS(e,t){const a=new tS,n=e.length;if(n<2)return a;const r=(t==null?void 0:t.decode)||rS;let s=0;do{const l=e.indexOf("=",s);if(l===-1)break;const i=e.indexOf(";",s),o=i===-1?n:i;if(l>o){s=e.lastIndexOf(";",l-1)+1;continue}const u=Tm(e,s,l),c=Em(e,l,u),f=e.slice(u,c);if(a[f]===void 0){let m=Tm(e,l+1,o),h=Em(e,o,m);const S=r(e.slice(m,h));a[f]=S}s=o+1}while(s<n);return a}function Tm(e,t,a){do{const n=e.charCodeAt(t);if(n!==32&&n!==9)return t}while(++t<a);return a}function Em(e,t,a){for(;t>a;){const n=e.charCodeAt(--t);if(n!==32&&n!==9)return t+1}return a}function nS(e,t,a){const n=(a==null?void 0:a.encode)||encodeURIComponent;if(!J1.test(e))throw new TypeError(`argument name is invalid: ${e}`);const r=n(t);if(!Q1.test(r))throw new TypeError(`argument val is invalid: ${t}`);let s=e+"="+r;if(!a)return s;if(a.maxAge!==void 0){if(!Number.isInteger(a.maxAge))throw new TypeError(`option maxAge is invalid: ${a.maxAge}`);s+="; Max-Age="+a.maxAge}if(a.domain){if(!F1.test(a.domain))throw new TypeError(`option domain is invalid: ${a.domain}`);s+="; Domain="+a.domain}if(a.path){if(!W1.test(a.path))throw new TypeError(`option path is invalid: ${a.path}`);s+="; Path="+a.path}if(a.expires){if(!sS(a.expires)||!Number.isFinite(a.expires.valueOf()))throw new TypeError(`option expires is invalid: ${a.expires}`);s+="; Expires="+a.expires.toUTCString()}if(a.httpOnly&&(s+="; HttpOnly"),a.secure&&(s+="; Secure"),a.partitioned&&(s+="; Partitioned"),a.priority)switch(typeof a.priority=="string"?a.priority.toLowerCase():void 0){case"low":s+="; Priority=Low";break;case"medium":s+="; Priority=Medium";break;case"high":s+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${a.priority}`)}if(a.sameSite)switch(typeof a.sameSite=="string"?a.sameSite.toLowerCase():a.sameSite){case!0:case"strict":s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"none":s+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${a.sameSite}`)}return s}function rS(e){if(e.indexOf("%")===-1)return e;try{return decodeURIComponent(e)}catch{return e}}function sS(e){return eS.call(e)==="[object Date]"}var Am="popstate";function lS(e={}){function t(n,r){let{pathname:s,search:l,hash:i}=n.location;return nf("",{pathname:s,search:l,hash:i},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function a(n,r){return typeof r=="string"?r:_l(r)}return oS(t,a,null,e)}function De(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ca(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function iS(){return Math.random().toString(36).substring(2,10)}function Rm(e,t){return{usr:e.state,key:e.key,idx:t}}function nf(e,t,a=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?_s(t):t,state:a,key:t&&t.key||n||iS()}}function _l({pathname:e="/",search:t="",hash:a=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),a&&a!=="#"&&(e+=a.charAt(0)==="#"?a:"#"+a),e}function _s(e){let t={};if(e){let a=e.indexOf("#");a>=0&&(t.hash=e.substring(a),e=e.substring(0,a));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function oS(e,t,a,n={}){let{window:r=document.defaultView,v5Compat:s=!1}=n,l=r.history,i="POP",o=null,u=c();u==null&&(u=0,l.replaceState({...l.state,idx:u},""));function c(){return(l.state||{idx:null}).idx}function f(){i="POP";let v=c(),d=v==null?null:v-u;u=v,o&&o({action:i,location:_.location,delta:d})}function m(v,d){i="PUSH";let p=nf(_.location,v,d);u=c()+1;let y=Rm(p,u),g=_.createHref(p);try{l.pushState(y,"",g)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;r.location.assign(g)}s&&o&&o({action:i,location:_.location,delta:1})}function h(v,d){i="REPLACE";let p=nf(_.location,v,d);u=c();let y=Rm(p,u),g=_.createHref(p);l.replaceState(y,"",g),s&&o&&o({action:i,location:_.location,delta:0})}function S(v){return uS(v)}let _={get action(){return i},get location(){return e(r,l)},listen(v){if(o)throw new Error("A history only accepts one active listener");return r.addEventListener(Am,f),o=v,()=>{r.removeEventListener(Am,f),o=null}},createHref(v){return t(r,v)},createURL:S,encodeLocation(v){let d=S(v);return{pathname:d.pathname,search:d.search,hash:d.hash}},push:m,replace:h,go(v){return l.go(v)}};return _}function uS(e,t=!1){let a="http://localhost";typeof window<"u"&&(a=window.location.origin!=="null"?window.location.origin:window.location.href),De(a,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:_l(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=a+n),new URL(n,a)}function mv(e,t,a="/"){return cS(e,t,a,!1)}function cS(e,t,a,n){let r=typeof t=="string"?_s(t):t,s=rn(r.pathname||"/",a);if(s==null)return null;let l=hv(e);fS(l);let i=null;for(let o=0;i==null&&o<l.length;++o){let u=SS(s);i=_S(l[o],u,n)}return i}function hv(e,t=[],a=[],n=""){let r=(s,l,i)=>{let o={relativePath:i===void 0?s.path||"":i,caseSensitive:s.caseSensitive===!0,childrenIndex:l,route:s};o.relativePath.startsWith("/")&&(De(o.relativePath.startsWith(n),`Absolute route path "${o.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),o.relativePath=o.relativePath.slice(n.length));let u=Fa([n,o.relativePath]),c=a.concat(o);s.children&&s.children.length>0&&(De(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),hv(s.children,t,c,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:vS(u,s.index),routesMeta:c})};return e.forEach((s,l)=>{var i;if(s.path===""||!((i=s.path)!=null&&i.includes("?")))r(s,l);else for(let o of gv(s.path))r(s,l,o)}),t}function gv(e){let t=e.split("/");if(t.length===0)return[];let[a,...n]=t,r=a.endsWith("?"),s=a.replace(/\?$/,"");if(n.length===0)return r?[s,""]:[s];let l=gv(n.join("/")),i=[];return i.push(...l.map(o=>o===""?s:[s,o].join("/"))),r&&i.push(...l),i.map(o=>e.startsWith("/")&&o===""?"/":o)}function fS(e){e.sort((t,a)=>t.score!==a.score?a.score-t.score:bS(t.routesMeta.map(n=>n.childrenIndex),a.routesMeta.map(n=>n.childrenIndex)))}var dS=/^:[\w-]+$/,pS=3,mS=2,hS=1,gS=10,yS=-2,Nm=e=>e==="*";function vS(e,t){let a=e.split("/"),n=a.length;return a.some(Nm)&&(n+=yS),t&&(n+=mS),a.filter(r=>!Nm(r)).reduce((r,s)=>r+(dS.test(s)?pS:s===""?hS:gS),n)}function bS(e,t){return e.length===t.length&&e.slice(0,-1).every((n,r)=>n===t[r])?e[e.length-1]-t[t.length-1]:0}function _S(e,t,a=!1){let{routesMeta:n}=e,r={},s="/",l=[];for(let i=0;i<n.length;++i){let o=n[i],u=i===n.length-1,c=s==="/"?t:t.slice(s.length)||"/",f=go({path:o.relativePath,caseSensitive:o.caseSensitive,end:u},c),m=o.route;if(!f&&u&&a&&!n[n.length-1].route.index&&(f=go({path:o.relativePath,caseSensitive:o.caseSensitive,end:!1},c)),!f)return null;Object.assign(r,f.params),l.push({params:r,pathname:Fa([s,f.pathname]),pathnameBase:AS(Fa([s,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(s=Fa([s,f.pathnameBase]))}return l}function go(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[a,n]=xS(e.path,e.caseSensitive,e.end),r=t.match(a);if(!r)return null;let s=r[0],l=s.replace(/(.)\/+$/,"$1"),i=r.slice(1);return{params:n.reduce((u,{paramName:c,isOptional:f},m)=>{if(c==="*"){let S=i[m]||"";l=s.slice(0,s.length-S.length).replace(/(.)\/+$/,"$1")}const h=i[m];return f&&!h?u[c]=void 0:u[c]=(h||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:l,pattern:e}}function xS(e,t=!1,a=!0){Ca(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,i,o)=>(n.push({paramName:i,isOptional:o!=null}),o?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),r+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?r+="\\/*$":e!==""&&e!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),n]}function SS(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ca(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function rn(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let a=t.endsWith("/")?t.length-1:t.length,n=e.charAt(a);return n&&n!=="/"?null:e.slice(a)||"/"}function wS(e,t="/"){let{pathname:a,search:n="",hash:r=""}=typeof e=="string"?_s(e):e;return{pathname:a?a.startsWith("/")?a:TS(a,t):t,search:RS(n),hash:NS(r)}}function TS(e,t){let a=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(r=>{r===".."?a.length>1&&a.pop():r!=="."&&a.push(r)}),a.length>1?a.join("/"):"/"}function Xu(e,t,a,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${a}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ES(e){return e.filter((t,a)=>a===0||t.route.path&&t.route.path.length>0)}function yv(e){let t=ES(e);return t.map((a,n)=>n===t.length-1?a.pathname:a.pathnameBase)}function vv(e,t,a,n=!1){let r;typeof e=="string"?r=_s(e):(r={...e},De(!r.pathname||!r.pathname.includes("?"),Xu("?","pathname","search",r)),De(!r.pathname||!r.pathname.includes("#"),Xu("#","pathname","hash",r)),De(!r.search||!r.search.includes("#"),Xu("#","search","hash",r)));let s=e===""||r.pathname==="",l=s?"/":r.pathname,i;if(l==null)i=a;else{let f=t.length-1;if(!n&&l.startsWith("..")){let m=l.split("/");for(;m[0]==="..";)m.shift(),f-=1;r.pathname=m.join("/")}i=f>=0?t[f]:"/"}let o=wS(r,i),u=l&&l!=="/"&&l.endsWith("/"),c=(s||l===".")&&a.endsWith("/");return!o.pathname.endsWith("/")&&(u||c)&&(o.pathname+="/"),o}var Fa=e=>e.join("/").replace(/\/\/+/g,"/"),AS=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),RS=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,NS=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function kS(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var bv=["POST","PUT","PATCH","DELETE"];new Set(bv);var CS=["GET",...bv];new Set(CS);var xs=x.createContext(null);xs.displayName="DataRouter";var ru=x.createContext(null);ru.displayName="DataRouterState";var _v=x.createContext({isTransitioning:!1});_v.displayName="ViewTransition";var OS=x.createContext(new Map);OS.displayName="Fetchers";var MS=x.createContext(null);MS.displayName="Await";var Ua=x.createContext(null);Ua.displayName="Navigation";var Fl=x.createContext(null);Fl.displayName="Location";var za=x.createContext({outlet:null,matches:[],isDataRoute:!1});za.displayName="Route";var wd=x.createContext(null);wd.displayName="RouteError";function jS(e,{relative:t}={}){De(Wl(),"useHref() may be used only in the context of a <Router> component.");let{basename:a,navigator:n}=x.useContext(Ua),{hash:r,pathname:s,search:l}=ei(e,{relative:t}),i=s;return a!=="/"&&(i=s==="/"?a:Fa([a,s])),n.createHref({pathname:i,search:l,hash:r})}function Wl(){return x.useContext(Fl)!=null}function Bn(){return De(Wl(),"useLocation() may be used only in the context of a <Router> component."),x.useContext(Fl).location}var xv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Sv(e){x.useContext(Ua).static||x.useLayoutEffect(e)}function Td(){let{isDataRoute:e}=x.useContext(za);return e?GS():DS()}function DS(){De(Wl(),"useNavigate() may be used only in the context of a <Router> component.");let e=x.useContext(xs),{basename:t,navigator:a}=x.useContext(Ua),{matches:n}=x.useContext(za),{pathname:r}=Bn(),s=JSON.stringify(yv(n)),l=x.useRef(!1);return Sv(()=>{l.current=!0}),x.useCallback((o,u={})=>{if(Ca(l.current,xv),!l.current)return;if(typeof o=="number"){a.go(o);return}let c=vv(o,JSON.parse(s),r,u.relative==="path");e==null&&t!=="/"&&(c.pathname=c.pathname==="/"?t:Fa([t,c.pathname])),(u.replace?a.replace:a.push)(c,u.state,u)},[t,a,s,r,e])}x.createContext(null);function US(){let{matches:e}=x.useContext(za),t=e[e.length-1];return t?t.params:{}}function ei(e,{relative:t}={}){let{matches:a}=x.useContext(za),{pathname:n}=Bn(),r=JSON.stringify(yv(a));return x.useMemo(()=>vv(e,JSON.parse(r),n,t==="path"),[e,r,n,t])}function zS(e,t){return wv(e,t)}function wv(e,t,a,n){var d;De(Wl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=x.useContext(Ua),{matches:s}=x.useContext(za),l=s[s.length-1],i=l?l.params:{},o=l?l.pathname:"/",u=l?l.pathnameBase:"/",c=l&&l.route;{let p=c&&c.path||"";Tv(o,!c||p.endsWith("*")||p.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${o}" (under <Route path="${p}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${p}"> to <Route path="${p==="/"?"*":`${p}/*`}">.`)}let f=Bn(),m;if(t){let p=typeof t=="string"?_s(t):t;De(u==="/"||((d=p.pathname)==null?void 0:d.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${p.pathname}" was given in the \`location\` prop.`),m=p}else m=f;let h=m.pathname||"/",S=h;if(u!=="/"){let p=u.replace(/^\//,"").split("/");S="/"+h.replace(/^\//,"").split("/").slice(p.length).join("/")}let _=mv(e,{pathname:S});Ca(c||_!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),Ca(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let v=BS(_&&_.map(p=>Object.assign({},p,{params:Object.assign({},i,p.params),pathname:Fa([u,r.encodeLocation?r.encodeLocation(p.pathname).pathname:p.pathname]),pathnameBase:p.pathnameBase==="/"?u:Fa([u,r.encodeLocation?r.encodeLocation(p.pathnameBase).pathname:p.pathnameBase])})),s,a,n);return t&&v?x.createElement(Fl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},v):v}function IS(){let e=YS(),t=kS(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),a=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},l=null;return console.error("Error handled by React Router default ErrorBoundary:",e),l=x.createElement(x.Fragment,null,x.createElement("p",null,"💿 Hey developer 👋"),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",x.createElement("code",{style:s},"ErrorBoundary")," or"," ",x.createElement("code",{style:s},"errorElement")," prop on your route.")),x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),a?x.createElement("pre",{style:r},a):null,l)}var LS=x.createElement(IS,null),qS=class extends x.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?x.createElement(za.Provider,{value:this.props.routeContext},x.createElement(wd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function HS({routeContext:e,match:t,children:a}){let n=x.useContext(xs);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),x.createElement(za.Provider,{value:e},a)}function BS(e,t=[],a=null,n=null){if(e==null){if(!a)return null;if(a.errors)e=a.matches;else if(t.length===0&&!a.initialized&&a.matches.length>0)e=a.matches;else return null}let r=e,s=a==null?void 0:a.errors;if(s!=null){let o=r.findIndex(u=>u.route.id&&(s==null?void 0:s[u.route.id])!==void 0);De(o>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),r=r.slice(0,Math.min(r.length,o+1))}let l=!1,i=-1;if(a)for(let o=0;o<r.length;o++){let u=r[o];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(i=o),u.route.id){let{loaderData:c,errors:f}=a,m=u.route.loader&&!c.hasOwnProperty(u.route.id)&&(!f||f[u.route.id]===void 0);if(u.route.lazy||m){l=!0,i>=0?r=r.slice(0,i+1):r=[r[0]];break}}}return r.reduceRight((o,u,c)=>{let f,m=!1,h=null,S=null;a&&(f=s&&u.route.id?s[u.route.id]:void 0,h=u.route.errorElement||LS,l&&(i<0&&c===0?(Tv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),m=!0,S=null):i===c&&(m=!0,S=u.route.hydrateFallbackElement||null)));let _=t.concat(r.slice(0,c+1)),v=()=>{let d;return f?d=h:m?d=S:u.route.Component?d=x.createElement(u.route.Component,null):u.route.element?d=u.route.element:d=o,x.createElement(HS,{match:u,routeContext:{outlet:o,matches:_,isDataRoute:a!=null},children:d})};return a&&(u.route.ErrorBoundary||u.route.errorElement||c===0)?x.createElement(qS,{location:a.location,revalidation:a.revalidation,component:h,error:f,children:v(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):v()},null)}function Ed(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $S(e){let t=x.useContext(xs);return De(t,Ed(e)),t}function VS(e){let t=x.useContext(ru);return De(t,Ed(e)),t}function ZS(e){let t=x.useContext(za);return De(t,Ed(e)),t}function Ad(e){let t=ZS(e),a=t.matches[t.matches.length-1];return De(a.route.id,`${e} can only be used on routes that contain a unique "id"`),a.route.id}function PS(){return Ad("useRouteId")}function YS(){var n;let e=x.useContext(wd),t=VS("useRouteError"),a=Ad("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[a]}function GS(){let{router:e}=$S("useNavigate"),t=Ad("useNavigate"),a=x.useRef(!1);return Sv(()=>{a.current=!0}),x.useCallback(async(r,s={})=>{Ca(a.current,xv),a.current&&(typeof r=="number"?e.navigate(r):await e.navigate(r,{fromRouteId:t,...s}))},[e,t])}var km={};function Tv(e,t,a){!t&&!km[e]&&(km[e]=!0,Ca(!1,a))}x.memo(KS);function KS({routes:e,future:t,state:a}){return wv(e,void 0,a,t)}function rf(e){De(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function XS({basename:e="/",children:t=null,location:a,navigationType:n="POP",navigator:r,static:s=!1}){De(!Wl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),i=x.useMemo(()=>({basename:l,navigator:r,static:s,future:{}}),[l,r,s]);typeof a=="string"&&(a=_s(a));let{pathname:o="/",search:u="",hash:c="",state:f=null,key:m="default"}=a,h=x.useMemo(()=>{let S=rn(o,l);return S==null?null:{location:{pathname:S,search:u,hash:c,state:f,key:m},navigationType:n}},[l,o,u,c,f,m,n]);return Ca(h!=null,`<Router basename="${l}"> is not able to match the URL "${o}${u}${c}" because it does not start with the basename, so the <Router> won't render anything.`),h==null?null:x.createElement(Ua.Provider,{value:i},x.createElement(Fl.Provider,{children:t,value:h}))}function JS({children:e,location:t}){return zS(sf(e),t)}function sf(e,t=[]){let a=[];return x.Children.forEach(e,(n,r)=>{if(!x.isValidElement(n))return;let s=[...t,r];if(n.type===x.Fragment){a.push.apply(a,sf(n.props.children,s));return}De(n.type===rf,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),De(!n.props.index||!n.props.children,"An index route cannot have child routes.");let l={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=sf(n.props.children,s)),a.push(l)}),a}var zi="get",Ii="application/x-www-form-urlencoded";function su(e){return e!=null&&typeof e.tagName=="string"}function QS(e){return su(e)&&e.tagName.toLowerCase()==="button"}function FS(e){return su(e)&&e.tagName.toLowerCase()==="form"}function WS(e){return su(e)&&e.tagName.toLowerCase()==="input"}function ew(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function tw(e,t){return e.button===0&&(!t||t==="_self")&&!ew(e)}var _i=null;function aw(){if(_i===null)try{new FormData(document.createElement("form"),0),_i=!1}catch{_i=!0}return _i}var nw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ju(e){return e!=null&&!nw.has(e)?(Ca(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ii}"`),null):e}function rw(e,t){let a,n,r,s,l;if(FS(e)){let i=e.getAttribute("action");n=i?rn(i,t):null,a=e.getAttribute("method")||zi,r=Ju(e.getAttribute("enctype"))||Ii,s=new FormData(e)}else if(QS(e)||WS(e)&&(e.type==="submit"||e.type==="image")){let i=e.form;if(i==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let o=e.getAttribute("formaction")||i.getAttribute("action");if(n=o?rn(o,t):null,a=e.getAttribute("formmethod")||i.getAttribute("method")||zi,r=Ju(e.getAttribute("formenctype"))||Ju(i.getAttribute("enctype"))||Ii,s=new FormData(i,e),!aw()){let{name:u,type:c,value:f}=e;if(c==="image"){let m=u?`${u}.`:"";s.append(`${m}x`,"0"),s.append(`${m}y`,"0")}else u&&s.append(u,f)}}else{if(su(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');a=zi,n=null,r=Ii,l=e}return s&&r==="text/plain"&&(l=s,s=void 0),{action:n,method:a.toLowerCase(),encType:r,formData:s,body:l}}function Rd(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function sw(e,t){if(e.id in t)return t[e.id];try{let a=await import(e.module);return t[e.id]=a,a}catch(a){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(a),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function lw(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function iw(e,t,a){let n=await Promise.all(e.map(async r=>{let s=t.routes[r.route.id];if(s){let l=await sw(s,a);return l.links?l.links():[]}return[]}));return fw(n.flat(1).filter(lw).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function Cm(e,t,a,n,r,s){let l=(o,u)=>a[u]?o.route.id!==a[u].route.id:!0,i=(o,u)=>{var c;return a[u].pathname!==o.pathname||((c=a[u].route.path)==null?void 0:c.endsWith("*"))&&a[u].params["*"]!==o.params["*"]};return s==="assets"?t.filter((o,u)=>l(o,u)||i(o,u)):s==="data"?t.filter((o,u)=>{var f;let c=n.routes[o.route.id];if(!c||!c.hasLoader)return!1;if(l(o,u)||i(o,u))return!0;if(o.route.shouldRevalidate){let m=o.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((f=a[0])==null?void 0:f.params)||{},nextUrl:new URL(e,window.origin),nextParams:o.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function ow(e,t,{includeHydrateFallback:a}={}){return uw(e.map(n=>{let r=t.routes[n.route.id];if(!r)return[];let s=[r.module];return r.clientActionModule&&(s=s.concat(r.clientActionModule)),r.clientLoaderModule&&(s=s.concat(r.clientLoaderModule)),a&&r.hydrateFallbackModule&&(s=s.concat(r.hydrateFallbackModule)),r.imports&&(s=s.concat(r.imports)),s}).flat(1))}function uw(e){return[...new Set(e)]}function cw(e){let t={},a=Object.keys(e).sort();for(let n of a)t[n]=e[n];return t}function fw(e,t){let a=new Set;return new Set(t),e.reduce((n,r)=>{let s=JSON.stringify(cw(r));return a.has(s)||(a.add(s),n.push({key:s,link:r})),n},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var dw=new Set([100,101,204,205]);function pw(e,t){let a=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return a.pathname==="/"?a.pathname="_root.data":t&&rn(a.pathname,t)==="/"?a.pathname=`${t.replace(/\/$/,"")}/_root.data`:a.pathname=`${a.pathname.replace(/\/$/,"")}.data`,a}function Ev(){let e=x.useContext(xs);return Rd(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function mw(){let e=x.useContext(ru);return Rd(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Nd=x.createContext(void 0);Nd.displayName="FrameworkContext";function Av(){let e=x.useContext(Nd);return Rd(e,"You must render this element inside a <HydratedRouter> element"),e}function hw(e,t){let a=x.useContext(Nd),[n,r]=x.useState(!1),[s,l]=x.useState(!1),{onFocus:i,onBlur:o,onMouseEnter:u,onMouseLeave:c,onTouchStart:f}=t,m=x.useRef(null);x.useEffect(()=>{if(e==="render"&&l(!0),e==="viewport"){let _=d=>{d.forEach(p=>{l(p.isIntersecting)})},v=new IntersectionObserver(_,{threshold:.5});return m.current&&v.observe(m.current),()=>{v.disconnect()}}},[e]),x.useEffect(()=>{if(n){let _=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(_)}}},[n]);let h=()=>{r(!0)},S=()=>{r(!1),l(!1)};return a?e!=="intent"?[s,m,{}]:[s,m,{onFocus:zs(i,h),onBlur:zs(o,S),onMouseEnter:zs(u,h),onMouseLeave:zs(c,S),onTouchStart:zs(f,h)}]:[!1,m,{}]}function zs(e,t){return a=>{e&&e(a),a.defaultPrevented||t(a)}}function gw({page:e,...t}){let{router:a}=Ev(),n=x.useMemo(()=>mv(a.routes,e,a.basename),[a.routes,e,a.basename]);return n?x.createElement(vw,{page:e,matches:n,...t}):null}function yw(e){let{manifest:t,routeModules:a}=Av(),[n,r]=x.useState([]);return x.useEffect(()=>{let s=!1;return iw(e,t,a).then(l=>{s||r(l)}),()=>{s=!0}},[e,t,a]),n}function vw({page:e,matches:t,...a}){let n=Bn(),{manifest:r,routeModules:s}=Av(),{basename:l}=Ev(),{loaderData:i,matches:o}=mw(),u=x.useMemo(()=>Cm(e,t,o,r,n,"data"),[e,t,o,r,n]),c=x.useMemo(()=>Cm(e,t,o,r,n,"assets"),[e,t,o,r,n]),f=x.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let S=new Set,_=!1;if(t.forEach(d=>{var y;let p=r.routes[d.route.id];!p||!p.hasLoader||(!u.some(g=>g.route.id===d.route.id)&&d.route.id in i&&((y=s[d.route.id])!=null&&y.shouldRevalidate)||p.hasClientLoader?_=!0:S.add(d.route.id))}),S.size===0)return[];let v=pw(e,l);return _&&S.size>0&&v.searchParams.set("_routes",t.filter(d=>S.has(d.route.id)).map(d=>d.route.id).join(",")),[v.pathname+v.search]},[l,i,n,r,u,t,e,s]),m=x.useMemo(()=>ow(c,r),[c,r]),h=yw(c);return x.createElement(x.Fragment,null,f.map(S=>x.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...a})),m.map(S=>x.createElement("link",{key:S,rel:"modulepreload",href:S,...a})),h.map(({key:S,link:_})=>x.createElement("link",{key:S,..._})))}function bw(...e){return t=>{e.forEach(a=>{typeof a=="function"?a(t):a!=null&&(a.current=t)})}}var Rv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Rv&&(window.__reactRouterVersion="7.6.2")}catch{}function _w({basename:e,children:t,window:a}){let n=x.useRef();n.current==null&&(n.current=lS({window:a,v5Compat:!0}));let r=n.current,[s,l]=x.useState({action:r.action,location:r.location}),i=x.useCallback(o=>{x.startTransition(()=>l(o))},[l]);return x.useLayoutEffect(()=>r.listen(i),[r,i]),x.createElement(XS,{basename:e,children:t,location:s.location,navigationType:s.action,navigator:r})}var Nv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xl=x.forwardRef(function({onClick:t,discover:a="render",prefetch:n="none",relative:r,reloadDocument:s,replace:l,state:i,target:o,to:u,preventScrollReset:c,viewTransition:f,...m},h){let{basename:S}=x.useContext(Ua),_=typeof u=="string"&&Nv.test(u),v,d=!1;if(typeof u=="string"&&_&&(v=u,Rv))try{let j=new URL(window.location.href),$=u.startsWith("//")?new URL(j.protocol+u):new URL(u),me=rn($.pathname,S);$.origin===j.origin&&me!=null?u=me+$.search+$.hash:d=!0}catch{Ca(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let p=jS(u,{relative:r}),[y,g,w]=hw(n,m),E=Tw(u,{replace:l,state:i,target:o,preventScrollReset:c,relative:r,viewTransition:f});function N(j){t&&t(j),j.defaultPrevented||E(j)}let R=x.createElement("a",{...m,...w,href:v||p,onClick:d||s?t:N,ref:bw(h,g),target:o,"data-discover":!_&&a==="render"?"true":void 0});return y&&!_?x.createElement(x.Fragment,null,R,x.createElement(gw,{page:p})):R});xl.displayName="Link";var xw=x.forwardRef(function({"aria-current":t="page",caseSensitive:a=!1,className:n="",end:r=!1,style:s,to:l,viewTransition:i,children:o,...u},c){let f=ei(l,{relative:u.relative}),m=Bn(),h=x.useContext(ru),{navigator:S,basename:_}=x.useContext(Ua),v=h!=null&&kw(f)&&i===!0,d=S.encodeLocation?S.encodeLocation(f).pathname:f.pathname,p=m.pathname,y=h&&h.navigation&&h.navigation.location?h.navigation.location.pathname:null;a||(p=p.toLowerCase(),y=y?y.toLowerCase():null,d=d.toLowerCase()),y&&_&&(y=rn(y,_)||y);const g=d!=="/"&&d.endsWith("/")?d.length-1:d.length;let w=p===d||!r&&p.startsWith(d)&&p.charAt(g)==="/",E=y!=null&&(y===d||!r&&y.startsWith(d)&&y.charAt(d.length)==="/"),N={isActive:w,isPending:E,isTransitioning:v},R=w?t:void 0,j;typeof n=="function"?j=n(N):j=[n,w?"active":null,E?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let $=typeof s=="function"?s(N):s;return x.createElement(xl,{...u,"aria-current":R,className:j,ref:c,style:$,to:l,viewTransition:i},typeof o=="function"?o(N):o)});xw.displayName="NavLink";var Sw=x.forwardRef(({discover:e="render",fetcherKey:t,navigate:a,reloadDocument:n,replace:r,state:s,method:l=zi,action:i,onSubmit:o,relative:u,preventScrollReset:c,viewTransition:f,...m},h)=>{let S=Rw(),_=Nw(i,{relative:u}),v=l.toLowerCase()==="get"?"get":"post",d=typeof i=="string"&&Nv.test(i),p=y=>{if(o&&o(y),y.defaultPrevented)return;y.preventDefault();let g=y.nativeEvent.submitter,w=(g==null?void 0:g.getAttribute("formmethod"))||l;S(g||y.currentTarget,{fetcherKey:t,method:w,navigate:a,replace:r,state:s,relative:u,preventScrollReset:c,viewTransition:f})};return x.createElement("form",{ref:h,method:v,action:_,onSubmit:n?o:p,...m,"data-discover":!d&&e==="render"?"true":void 0})});Sw.displayName="Form";function ww(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function kv(e){let t=x.useContext(xs);return De(t,ww(e)),t}function Tw(e,{target:t,replace:a,state:n,preventScrollReset:r,relative:s,viewTransition:l}={}){let i=Td(),o=Bn(),u=ei(e,{relative:s});return x.useCallback(c=>{if(tw(c,t)){c.preventDefault();let f=a!==void 0?a:_l(o)===_l(u);i(e,{replace:f,state:n,preventScrollReset:r,relative:s,viewTransition:l})}},[o,i,u,a,n,t,e,r,s,l])}var Ew=0,Aw=()=>`__${String(++Ew)}__`;function Rw(){let{router:e}=kv("useSubmit"),{basename:t}=x.useContext(Ua),a=PS();return x.useCallback(async(n,r={})=>{let{action:s,method:l,encType:i,formData:o,body:u}=rw(n,t);if(r.navigate===!1){let c=r.fetcherKey||Aw();await e.fetch(c,a,r.action||s,{preventScrollReset:r.preventScrollReset,formData:o,body:u,formMethod:r.method||l,formEncType:r.encType||i,flushSync:r.flushSync})}else await e.navigate(r.action||s,{preventScrollReset:r.preventScrollReset,formData:o,body:u,formMethod:r.method||l,formEncType:r.encType||i,replace:r.replace,state:r.state,fromRouteId:a,flushSync:r.flushSync,viewTransition:r.viewTransition})},[e,t,a])}function Nw(e,{relative:t}={}){let{basename:a}=x.useContext(Ua),n=x.useContext(za);De(n,"useFormAction must be used inside a RouteContext");let[r]=n.matches.slice(-1),s={...ei(e||".",{relative:t})},l=Bn();if(e==null){s.search=l.search;let i=new URLSearchParams(s.search),o=i.getAll("index");if(o.some(c=>c==="")){i.delete("index"),o.filter(f=>f).forEach(f=>i.append("index",f));let c=i.toString();s.search=c?`?${c}`:""}}return(!e||e===".")&&r.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),a!=="/"&&(s.pathname=s.pathname==="/"?a:Fa([a,s.pathname])),_l(s)}function kw(e,t={}){let a=x.useContext(_v);De(a!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=kv("useViewTransitionState"),r=ei(e,{relative:t.relative});if(!a.isTransitioning)return!1;let s=rn(a.currentLocation.pathname,n)||a.currentLocation.pathname,l=rn(a.nextLocation.pathname,n)||a.nextLocation.pathname;return go(r.pathname,l)!=null||go(r.pathname,s)!=null}[...dw];function Cw({title:e,titleId:t,...a},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 9V4.5M9 9H4.5M9 9 3.75 3.75M9 15v4.5M9 15H4.5M9 15l-5.25 5.25M15 9h4.5M15 9V4.5M15 9l5.25-5.25M15 15h4.5M15 15v4.5m0-4.5 5.25 5.25"}))}const Ow=x.forwardRef(Cw);function Mw({title:e,titleId:t,...a},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 3.75v4.5m0-4.5h4.5m-4.5 0L9 9M3.75 20.25v-4.5m0 4.5h4.5m-4.5 0L9 15M20.25 3.75h-4.5m4.5 0v4.5m0-4.5L15 9m5.25 11.25h-4.5m4.5 0v-4.5m0 4.5L15 15"}))}const jw=x.forwardRef(Mw);function Dw({title:e,titleId:t,...a},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const Uw=x.forwardRef(Dw);function zw({title:e,titleId:t,...a},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))}const Om=x.forwardRef(zw);function Iw({title:e,titleId:t,...a},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const Mm=x.forwardRef(Iw);function Lw({title:e,titleId:t,...a},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25Z"}))}const Cv=x.forwardRef(Lw);function qw({title:e,titleId:t,...a},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const Hw=x.forwardRef(qw);function Bw({title:e,titleId:t,...a},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const lf=x.forwardRef(Bw);function $w({title:e,titleId:t,...a},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const kd=x.forwardRef($w);function Vw({title:e,titleId:t,...a},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const Ov=x.forwardRef(Vw),jm=e=>{let t;const a=new Set,n=(u,c)=>{const f=typeof u=="function"?u(t):u;if(!Object.is(f,t)){const m=t;t=c??(typeof f!="object"||f===null)?f:Object.assign({},t,f),a.forEach(h=>h(t,m))}},r=()=>t,i={setState:n,getState:r,getInitialState:()=>o,subscribe:u=>(a.add(u),()=>a.delete(u))},o=t=e(n,r,i);return i},Zw=e=>e?jm(e):jm,Pw=e=>e;function Yw(e,t=Pw){const a=np.useSyncExternalStore(e.subscribe,()=>t(e.getState()),()=>t(e.getInitialState()));return np.useDebugValue(a),a}const Gw=e=>{const t=Zw(e),a=n=>Yw(t,n);return Object.assign(a,t),a},Mv=e=>Gw;function jv(e,t){let a;try{a=e()}catch{return}return{getItem:r=>{var s;const l=o=>o===null?null:JSON.parse(o,void 0),i=(s=a.getItem(r))!=null?s:null;return i instanceof Promise?i.then(l):l(i)},setItem:(r,s)=>a.setItem(r,JSON.stringify(s,void 0)),removeItem:r=>a.removeItem(r)}}const of=e=>t=>{try{const a=e(t);return a instanceof Promise?a:{then(n){return of(n)(a)},catch(n){return this}}}catch(a){return{then(n){return this},catch(n){return of(n)(a)}}}},Kw=(e,t)=>(a,n,r)=>{let s={storage:jv(()=>localStorage),partialize:_=>_,version:0,merge:(_,v)=>({...v,..._}),...t},l=!1;const i=new Set,o=new Set;let u=s.storage;if(!u)return e((..._)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),a(..._)},n,r);const c=()=>{const _=s.partialize({...n()});return u.setItem(s.name,{state:_,version:s.version})},f=r.setState;r.setState=(_,v)=>{f(_,v),c()};const m=e((..._)=>{a(..._),c()},n,r);r.getInitialState=()=>m;let h;const S=()=>{var _,v;if(!u)return;l=!1,i.forEach(p=>{var y;return p((y=n())!=null?y:m)});const d=((v=s.onRehydrateStorage)==null?void 0:v.call(s,(_=n())!=null?_:m))||void 0;return of(u.getItem.bind(u))(s.name).then(p=>{if(p)if(typeof p.version=="number"&&p.version!==s.version){if(s.migrate){const y=s.migrate(p.state,p.version);return y instanceof Promise?y.then(g=>[!0,g]):[!0,y]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,p.state];return[!1,void 0]}).then(p=>{var y;const[g,w]=p;if(h=s.merge(w,(y=n())!=null?y:m),a(h,!0),g)return c()}).then(()=>{d==null||d(h,void 0),h=n(),l=!0,o.forEach(p=>p(h))}).catch(p=>{d==null||d(void 0,p)})};return r.persist={setOptions:_=>{s={...s,..._},_.storage&&(u=_.storage)},clearStorage:()=>{u==null||u.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>S(),hasHydrated:()=>l,onHydrate:_=>(i.add(_),()=>{i.delete(_)}),onFinishHydration:_=>(o.add(_),()=>{o.delete(_)})},s.skipHydration||S(),h||m},Xw=Kw,Is=[{id:"gpt-4o",name:"GPT-4o",provider:"openai"},{id:"gpt-4o-mini",name:"GPT-4o Mini",provider:"openai"},{id:"gpt-3.5-turbo",name:"GPT-3.5 Turbo",provider:"openai"},{id:"claude-3-5-sonnet-20241022",name:"Claude 3.5 Sonnet",provider:"anthropic"},{id:"claude-3-5-haiku-20241022",name:"Claude 3.5 Haiku",provider:"anthropic"}],Ct=Mv()(Xw((e,t)=>({activePromptId:null,activeVersionId:null,prompts:[],clearChatMessages:null,hasHydrated:!1,setActivePromptId:a=>{if(a){const r=t().prompts.find(s=>s.id===a);if(r&&r.versions.length>0){const s=r.versions[r.versions.length-1];e({activePromptId:a,activeVersionId:s.versionId})}else e({activePromptId:a,activeVersionId:null})}else e({activePromptId:a,activeVersionId:null})},setActiveVersionId:a=>e({activeVersionId:a}),addPrompt:a=>{const n={versionId:crypto.randomUUID(),title:"",content:a,timestamp:Date.now(),playgroundInstances:[{id:crypto.randomUUID(),selectedModel:"gpt-4o",messages:[],isLoading:!1,conversationHistory:null}],responses:{}},r={id:crypto.randomUUID(),versions:[n],inputRows:[{id:crypto.randomUUID(),input:"",images:[],timestamp:Date.now()}],variables:{}};e(s=>({prompts:[...s.prompts,r],activePromptId:r.id,activeVersionId:n.versionId}))},deletePrompt:a=>{e(n=>({prompts:n.prompts.filter(r=>r.id!==a),activePromptId:n.activePromptId===a?null:n.activePromptId}))},deleteVersion:(a,n)=>{e(r=>({prompts:r.prompts.map(s=>{if(s.id!==a||s.versions.length<=1)return s;const l=s.versions.filter(i=>i.versionId!==n);if(r.activeVersionId===n){const i=l[l.length-1];r.activeVersionId=i.versionId}return{...s,versions:l}})}))},updatePrompt:(a,n)=>{const r=crypto.randomUUID(),s=t(),l=s.prompts.find(c=>c.id===a),i=l==null?void 0:l.versions.find(c=>c.versionId===s.activeVersionId),u=((i==null?void 0:i.playgroundInstances)||[{id:crypto.randomUUID(),selectedModel:"gpt-4o",messages:[],isLoading:!1,conversationHistory:null}]).map(c=>({id:crypto.randomUUID(),selectedModel:c.selectedModel,messages:[],isLoading:!1,conversationHistory:null}));e(c=>({prompts:c.prompts.map(f=>f.id===a?{...f,versions:[...f.versions,{versionId:r,title:(i==null?void 0:i.title)||"",content:n,timestamp:Date.now(),playgroundInstances:u,responses:{}}]}:f),activeVersionId:r}))},updatePromptTitle:(a,n,r)=>{e(s=>({prompts:s.prompts.map(l=>l.id===a?{...l,versions:l.versions.map(i=>i.versionId===n?{...i,title:r}:i)}:l)}))},revertPromptVersion:(a,n)=>{e({activePromptId:a,activeVersionId:n})},setClearChatMessages:a=>e({clearChatMessages:a}),saveConversationHistory:(a,n,r,s)=>{const l=s.filter(i=>i.role!=="system").map(i=>{let o=i.content||"";return!o&&i.parts&&i.parts.length>0&&(o=i.parts.filter(u=>u.type==="text"||u.type==="step-start").map(u=>u.type==="text"?u.text||"":(u.type==="step-start","")).join("")),!o&&i.content&&(o=i.content),{...i,content:o}});e(i=>({prompts:i.prompts.map(o=>o.id===a?{...o,versions:o.versions.map(u=>u.versionId===n?{...u,playgroundInstances:u.playgroundInstances.map(c=>c.id===r?{...c,conversationHistory:{messages:l,lastUpdated:Date.now()}}:c)}:u)}:o)}))},getConversationHistory:(a,n,r)=>{var u;const l=t().prompts.find(c=>c.id===a),i=l==null?void 0:l.versions.find(c=>c.versionId===n),o=i==null?void 0:i.playgroundInstances.find(c=>c.id===r);return((u=o==null?void 0:o.conversationHistory)==null?void 0:u.messages)||null},clearConversationHistory:(a,n,r)=>{e(s=>({prompts:s.prompts.map(l=>l.id===a?{...l,versions:l.versions.map(i=>i.versionId===n?{...i,playgroundInstances:i.playgroundInstances.map(o=>o.id===r?{...o,conversationHistory:null}:o)}:i)}:l)}))},addPlaygroundInstance:(a,n)=>{const r={id:crypto.randomUUID(),selectedModel:"gpt-4o",messages:[],isLoading:!1,conversationHistory:null};e(s=>({prompts:s.prompts.map(l=>l.id===a?{...l,versions:l.versions.map(i=>i.versionId===n?{...i,playgroundInstances:[...i.playgroundInstances,r]}:i)}:l)}))},removePlaygroundInstance:(a,n,r)=>{e(s=>({prompts:s.prompts.map(l=>l.id===a?{...l,versions:l.versions.map(i=>i.versionId===n?{...i,playgroundInstances:i.playgroundInstances.filter(o=>o.id!==r)}:i)}:l)}))},updatePlaygroundModel:(a,n,r,s)=>{e(l=>({prompts:l.prompts.map(i=>i.id===a?{...i,versions:i.versions.map(o=>o.versionId===n?{...o,playgroundInstances:o.playgroundInstances.map(u=>u.id===r?{...u,selectedModel:s}:u)}:o)}:i)}))},updatePlaygroundMessages:(a,n,r,s)=>{e(l=>({prompts:l.prompts.map(i=>i.id===a?{...i,versions:i.versions.map(o=>o.versionId===n?{...o,playgroundInstances:o.playgroundInstances.map(u=>u.id===r?{...u,messages:s}:u)}:o)}:i)}))},updatePlaygroundLoading:(a,n,r,s)=>{e(l=>({prompts:l.prompts.map(i=>i.id===a?{...i,versions:i.versions.map(o=>o.versionId===n?{...o,playgroundInstances:o.playgroundInstances.map(u=>u.id===r?{...u,isLoading:s}:u)}:o)}:i)}))},getCurrentPlaygroundInstances:()=>{const a=t();if(!a.activePromptId||!a.activeVersionId)return[];const n=a.prompts.find(s=>s.id===a.activePromptId),r=n==null?void 0:n.versions.find(s=>s.versionId===a.activeVersionId);return(r==null?void 0:r.playgroundInstances)||[]},getTableData:(a,n)=>{if(!a||!n)return[];const s=t().prompts.find(i=>i.id===a),l=s==null?void 0:s.versions.find(i=>i.versionId===n);return((s==null?void 0:s.inputRows)||[]).map(i=>({...i,responses:(l==null?void 0:l.responses[i.id])||{}}))},addTableRow:a=>{const n={id:crypto.randomUUID(),input:"",images:[],timestamp:Date.now()};e(r=>({prompts:r.prompts.map(s=>s.id===a?{...s,inputRows:[n,...s.inputRows||[]]}:s)}))},removeTableRow:(a,n)=>{e(r=>({prompts:r.prompts.map(s=>s.id===a?{...s,inputRows:(s.inputRows||[]).filter(l=>l.id!==n),versions:s.versions.map(l=>({...l,responses:Object.fromEntries(Object.entries(l.responses).filter(([i])=>i!==n))}))}:s)}))},updateTableRowInput:(a,n,r,s=[])=>{e(l=>({prompts:l.prompts.map(i=>i.id===a?{...i,inputRows:(i.inputRows||[]).map(o=>o.id===n?{...o,input:r,images:s}:o)}:i)}))},getTableCellResponse:(a,n,r,s)=>{var u;const i=t().prompts.find(c=>c.id===a),o=i==null?void 0:i.versions.find(c=>c.versionId===n);return((u=o==null?void 0:o.responses[r])==null?void 0:u[s])||null},updateTableCellResponse:(a,n,r,s,l)=>{e(i=>({prompts:i.prompts.map(o=>o.id===a?{...o,versions:o.versions.map(u=>u.versionId===n?{...u,responses:{...u.responses,[r]:{...u.responses[r]||{},[s]:l}}}:u)}:o)}))},getPromptVariables:a=>{const r=t().prompts.find(s=>s.id===a);return(r==null?void 0:r.variables)||{}},updatePromptVariable:(a,n,r)=>{e(s=>({prompts:s.prompts.map(l=>l.id===a?{...l,variables:{...l.variables,[n]:r}}:l)}))},deletePromptVariable:(a,n)=>{e(r=>({prompts:r.prompts.map(s=>s.id===a?{...s,variables:Object.fromEntries(Object.entries(s.variables).filter(([l])=>l!==n))}:s)}))},substituteVariables:(a,n,r)=>{const l=t().getPromptVariables(a);return r.replace(/\{\{(.*?)\}\}/g,(i,o)=>{const u=o.trim();return l[u]||i})}}),{name:"system-prompt-storage",storage:jv(()=>localStorage),onRehydrateStorage:()=>e=>{e&&(e.hasHydrated=!0)}})),sr={getOpenAIKey:()=>typeof window>"u"?"":localStorage.getItem("eggcellent_openai_key")||"",setOpenAIKey:e=>{typeof window>"u"||(e.trim()?localStorage.setItem("eggcellent_openai_key",e.trim()):localStorage.removeItem("eggcellent_openai_key"))},getAnthropicKey:()=>typeof window>"u"?"":localStorage.getItem("eggcellent_anthropic_key")||"",setAnthropicKey:e=>{typeof window>"u"||(e.trim()?localStorage.setItem("eggcellent_anthropic_key",e.trim()):localStorage.removeItem("eggcellent_anthropic_key"))},clearAll:()=>{typeof window>"u"||(localStorage.removeItem("eggcellent_openai_key"),localStorage.removeItem("eggcellent_anthropic_key"))}},Sl=Mv()((e,t)=>({openaiKey:"",anthropicKey:"",setOpenaiKey:a=>{sr.setOpenAIKey(a),e({openaiKey:a})},setAnthropicKey:a=>{sr.setAnthropicKey(a),e({anthropicKey:a})},clearKeys:()=>{sr.clearAll(),e({openaiKey:"",anthropicKey:""})},hasValidKeys:()=>{if(typeof window>"u")return!1;const a=t();return!!(a.openaiKey.trim()||a.anthropicKey.trim())}}));typeof window<"u"&&setTimeout(()=>{const e=sr.getOpenAIKey(),t=sr.getAnthropicKey();(e||t)&&(Sl.getState().setOpenaiKey(e),Sl.getState().setAnthropicKey(t))},100);const Jw=e=>{const t=/\{\{(.*?)\}\}/g,a=e.match(t);return a?a.map(n=>n.replace(/\{\{|\}\}/g,"").trim()).filter((n,r,s)=>s.indexOf(n)===r):[]};function Qw({title:e,titleId:t,...a},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{fillRule:"evenodd",d:"M19.916 4.626a.75.75 0 0 1 .208 1.04l-9 13.5a.75.75 0 0 1-1.154.114l-6-6a.75.75 0 0 1 1.06-1.06l5.353 5.353 8.493-12.74a.75.75 0 0 1 1.04-.207Z",clipRule:"evenodd"}))}const Dv=x.forwardRef(Qw);function Fw({title:e,titleId:t,...a},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003ZM12 8.25a.75.75 0 0 1 .75.75v3.75a.75.75 0 0 1-1.5 0V9a.75.75 0 0 1 .75-.75Zm0 8.25a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z",clipRule:"evenodd"}))}const Ww=x.forwardRef(Fw);function eT({title:e,titleId:t,...a},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{fillRule:"evenodd",d:"M4.5 5.653c0-1.427 1.529-2.33 2.779-1.643l11.54 6.347c1.295.712 1.295 2.573 0 3.286L7.28 19.99c-1.25.687-2.779-.217-2.779-1.643V5.653Z",clipRule:"evenodd"}))}const Dm=x.forwardRef(eT);function tT({isOpen:e,onClose:t}){const{openaiKey:a,anthropicKey:n,setOpenaiKey:r,setAnthropicKey:s,clearKeys:l}=Sl(),[i,o]=x.useState(""),[u,c]=x.useState(""),[f,m]=x.useState(!1),[h,S]=x.useState(!1),[_,v]=x.useState(!1);x.useEffect(()=>{if(e){const w=sr.getOpenAIKey(),E=sr.getAnthropicKey();o(w),c(E),r(w),s(E)}},[e,r,s]);const d=()=>{r(i),s(u),v(!0),setTimeout(()=>{v(!1),t()},1e3)},p=()=>{l(),o(""),c(""),v(!1)},y=i!==a||u!==n,g=i.trim()||u.trim();return e?b.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[b.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:t}),b.jsxs("div",{className:"relative bg-white shadow-xl w-full max-w-md mx-4 p-6",children:[b.jsxs("div",{className:"flex items-center justify-between mb-8",children:[b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsx(Cv,{className:"w-6 h-6 text-blue-600"}),b.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"API Key Settings"})]}),b.jsx("button",{onClick:t,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 transition-colors",children:b.jsx(Ov,{className:"w-5 h-5"})})]}),b.jsx("div",{className:"mb-8 p-4 bg-warning-light border border-warning",children:b.jsxs("div",{className:"flex gap-3",children:[b.jsx(Ww,{className:"w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5"}),b.jsxs("div",{className:"text-sm text-amber-800 leading-relaxed",children:[b.jsx("strong",{children:"Security Notice:"})," API keys are stored locally in your browser. They are not sent to our servers except when making API calls to OpenAI/Anthropic."]})]})}),b.jsxs("div",{className:"space-y-10",children:[b.jsxs("div",{children:[b.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["OpenAI API Key",b.jsx("span",{className:"text-gray-500 font-normal ml-2",children:"(for GPT models)"})]}),b.jsxs("div",{className:"relative",children:[b.jsx("input",{type:f?"text":"password",value:i,onChange:w=>o(w.target.value),placeholder:"sk-...",className:"w-full px-4 py-3 pr-12 border border-neutral focus:ring-2 focus:ring-secondary focus:border-secondary text-sm transition-colors"}),b.jsx("button",{type:"button",onClick:()=>m(!f),className:"absolute right-3 top-1/2 transform -translate-y-1/2 p-1 text-gray-400 hover:text-gray-600",children:f?b.jsx(Om,{className:"w-4 h-4"}):b.jsx(Mm,{className:"w-4 h-4"})})]}),b.jsxs("p",{className:"mt-2 text-xs text-gray-500 leading-relaxed",children:["Get your API key from"," ",b.jsx("a",{href:"https://platform.openai.com/api-keys",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline",children:"OpenAI Platform"})]})]}),b.jsxs("div",{children:[b.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["Anthropic API Key",b.jsx("span",{className:"text-gray-500 font-normal ml-2",children:"(for Claude models)"})]}),b.jsxs("div",{className:"relative",children:[b.jsx("input",{type:h?"text":"password",value:u,onChange:w=>c(w.target.value),placeholder:"sk-ant-...",className:"w-full px-4 py-3 pr-12 border border-neutral focus:ring-2 focus:ring-secondary focus:border-secondary text-sm transition-colors"}),b.jsx("button",{type:"button",onClick:()=>S(!h),className:"absolute right-3 top-1/2 transform -translate-y-1/2 p-1 text-gray-400 hover:text-gray-600",children:h?b.jsx(Om,{className:"w-4 h-4"}):b.jsx(Mm,{className:"w-4 h-4"})})]}),b.jsxs("p",{className:"mt-2 text-xs text-gray-500 leading-relaxed",children:["Get your API key from"," ",b.jsx("a",{href:"https://console.anthropic.com/settings/keys",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline",children:"Anthropic Console"})]})]})]}),b.jsxs("div",{className:"flex justify-between items-center mt-10 pt-6",children:[b.jsx("button",{onClick:p,disabled:!g,className:"px-4 py-2 text-sm text-red-600 hover:text-red-800 hover:bg-red-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors bg-red-50",children:"Clear All Keys"}),b.jsx("button",{onClick:d,disabled:!y,className:`px-5 py-2 text-sm transition-colors flex items-center gap-2 ${_?"bg-green-600 text-white":y?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:_?b.jsxs(b.Fragment,{children:[b.jsx(Dv,{className:"w-4 h-4"}),"Saved!"]}):"Save Keys"})]})]})]}):null}function aT(){const t=Bn().pathname==="/",[a,n]=x.useState(!1),[r,s]=x.useState(!1),[l,i]=x.useState(!1),{hasValidKeys:o}=Sl();return x.useEffect(()=>{i(!0),s(o())},[o]),x.useEffect(()=>{l&&s(o())},[o,l]),b.jsxs(b.Fragment,{children:[b.jsx("header",{className:"w-full pl-6 pt-6",children:b.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center",children:[b.jsx(xl,{to:"/",className:"inline-flex items-center hover:opacity-80 transition-opacity cursor-pointer",children:b.jsx("img",{src:"/image.png",alt:"Eggcellent AI Logo",className:"mr-3",style:{width:"auto",height:"auto",maxWidth:"250px",maxHeight:"250px"}})}),!t&&b.jsx(xl,{to:"/",className:"text-text-secondary px-4 py-2 font-semibold transition-colors hover:text-warning pl-10",children:"All Prompts"})]}),b.jsx("div",{className:"pr-6",children:b.jsxs("button",{onClick:()=>n(!0),className:`flex items-center gap-2 px-4 py-2 text-sm font-medium transition-colors ${l&&r?"bg-success-light text-success-dark border border-success hover:bg-success":"bg-warning-light text-warning-dark border border-warning hover:bg-warning"}`,title:"Configure API Keys",children:[b.jsx(Cv,{className:"w-4 h-4"}),b.jsx("span",{className:"hidden sm:inline",children:l&&r?"API Keys Set":"Setup API Keys"}),b.jsx("span",{className:"sm:hidden",children:"Keys"})]})})]})})}),b.jsx(tT,{isOpen:a,onClose:()=>n(!1)})]})}function nT(){const{prompts:e,deletePrompt:t,addPrompt:a,updatePromptTitle:n}=Ct(),r=Td(),s=u=>{r(`/prompt/${u}`)},l=()=>{const c=`Untitled Prompt ${e.length+1}`;a("You are a helpful assistant."),setTimeout(()=>{const f=Ct.getState();f.activePromptId&&f.activeVersionId&&n(f.activePromptId,f.activeVersionId,c)},0)},i=u=>{if(u.versions.length===0)return"No content";const c=u.versions[u.versions.length-1];return(c==null?void 0:c.content)||"No content"},o=u=>{if(u.versions.length===0)return"Untitled Prompt";const c=u.versions[u.versions.length-1],f=c==null?void 0:c.title;if(f&&f.trim())return f.length>50?f.substring(0,50)+"...":f;const m=(c==null?void 0:c.content)||"Untitled Prompt";return m.length>50?m.substring(0,50)+"...":m};return b.jsxs("div",{className:"flex flex-col h-full",children:[b.jsx("div",{className:"flex-1 overflow-y-auto",children:e.length===0?b.jsx("div",{className:"h-full flex items-center justify-center",children:b.jsxs("div",{className:"text-center py-12",children:[b.jsx("div",{className:"w-24 h-24 mx-auto mb-4 bg-neutral-hover flex items-center justify-center",children:b.jsx(Uw,{className:"w-12 h-12 text-muted","aria-hidden":"true"})}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-xl text-text-secondary mb-2",children:"No prompts yet"}),b.jsx("p",{className:"text-muted mb-6",children:"Create your first prompt to get started with AI conversations"})]}),b.jsx("button",{onClick:l,className:"bg-neutral-dark hover:bg-primary text-white px-6 py-3 font-medium transition-colors",children:"Create First Prompt"})]})]})}):b.jsx("div",{className:"p-4 space-y-4",children:e.map(u=>b.jsx("div",{onClick:()=>s(u.id),className:"bg-surface-card border border-neutral hover:border-secondary transition-all duration-200 cursor-pointer group",children:b.jsxs("div",{className:"p-4",children:[b.jsxs("div",{className:"flex items-start justify-between mb-8",children:[b.jsx("div",{className:"flex-1 min-w-0 flex items-start",children:b.jsx("h3",{className:"text-lg font-semibold text-text-primary line-clamp-1",children:o(u)})}),b.jsxs("div",{className:"flex items-start gap-3",children:[b.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted",children:[b.jsxs("span",{children:[u.versions.length," version",u.versions.length!==1?"s":""]}),b.jsx("span",{children:"•"}),b.jsx("span",{children:u.versions.length>0&&new Date(u.versions[u.versions.length-1].timestamp).toLocaleDateString()})]}),b.jsx("button",{onClick:c=>{c.stopPropagation(),t(u.id)},className:"transition-opacity p-1 hover:bg-error-50","aria-label":"Delete prompt",children:b.jsx(kd,{className:"w-4 h-4 text-error-500","aria-hidden":"true"})})]})]}),b.jsx("p",{className:"text-sm text-text-secondary line-clamp-3 mb-3",children:i(u)})]})},u.id))})}),e.length>0&&b.jsx("div",{className:"w-full flex justify-start p-6 items-start",children:b.jsxs("button",{onClick:l,className:"bg-neutral-dark hover:bg-primary text-white px-4 py-2 font-medium transition-colors flex items-center gap-2",children:[b.jsx(lf,{className:"w-5 h-5"}),"New Prompt"]})})]})}function rT(){const{prompts:e,addPrompt:t,updatePromptTitle:a}=Ct(),n=Td();return x.useEffect(()=>{e.length===0&&(t("You are a helpful assistant."),setTimeout(()=>{const r=Ct.getState();r.activePromptId&&r.activeVersionId&&(a(r.activePromptId,r.activeVersionId,"Welcome Prompt"),n(`/prompt/${r.activePromptId}`))},0))},[e.length,t,a,n]),b.jsx("div",{className:"min-h-screen",children:b.jsx(nT,{})})}function sT({value:e,onChange:t,placeholder:a="Enter your input...",rows:n=3,disabled:r=!1,className:s="",showImageUpload:l=!0,images:i=[],onImagesChange:o}){const[u,c]=x.useState(i);x.useEffect(()=>{c(i)},[i]);const f=v=>new Promise((d,p)=>{const y=new FileReader;y.readAsDataURL(v),y.onload=()=>d(y.result),y.onerror=g=>p(g)}),m=async v=>{const d=v.target.files;if(!d)return;const p=[];for(let g=0;g<d.length;g++){const w=d[g];if(!w.type.startsWith("image/")){alert(`${w.name} is not a valid image file`);continue}if(w.size>5*1024*1024){alert(`${w.name} is too large. Please select images under 5MB.`);continue}try{const E=await f(w),N={id:`img-${Date.now()}-${g}`,name:w.name,base64:E,preview:E};p.push(N)}catch(E){console.error("Error converting image:",E),alert(`Error processing ${w.name}`)}}const y=[...u,...p];c(y),o==null||o(y),t(e,y),v.target.value=""},h=v=>{const d=u.filter(p=>p.id!==v);c(d),o==null||o(d),t(e,d)},S=v=>{t(v.target.value,u)},_=`image-upload-${Math.random().toString(36).substr(2,9)}`;return b.jsxs("div",{className:`space-y-2 ${s}`,children:[l&&u.length>0&&b.jsxs("div",{className:"space-y-2",children:[b.jsx("p",{className:"text-xs font-semibold text-gray-600",children:"Uploaded Images:"}),b.jsx("div",{className:"flex flex-wrap gap-2",children:u.map(v=>b.jsxs("div",{className:"relative group",children:[b.jsx("img",{src:v.preview,alt:v.name,className:"w-12 h-12 object-cover border border-neutral"}),b.jsx("button",{onClick:()=>h(v.id),className:"absolute -top-1 -right-1 bg-red-500 text-white p-1 opacity-0 group-hover:opacity-100 transition-opacity",title:"Remove image",children:b.jsx(kd,{className:"w-2 h-2"})}),b.jsx("p",{className:"text-xs text-gray-500 mt-1 truncate w-12",title:v.name,children:v.name})]},v.id))})]}),b.jsx("textarea",{value:e,onChange:S,placeholder:a,rows:n,disabled:r,className:"w-full p-2 border bg-surface-input border-neutral text-sm resize-none focus:ring-secondary focus:border-secondary"}),l&&b.jsxs("div",{className:"flex space-x-2",children:[b.jsx("input",{type:"file",id:_,multiple:!0,accept:"image/*",onChange:m,className:"hidden",disabled:r}),b.jsxs("label",{htmlFor:_,className:"flex items-center px-2 py-1 text-text-secondary bg-neutral-hover border border-neutral hover:bg-neutral-light focus:outline-none focus:ring-2 focus:ring-secondary cursor-pointer text-xs",children:[b.jsx(Hw,{className:"w-3 h-3 mr-1"}),"Images"]})]})]})}var Uv="vercel.ai.error",lT=Symbol.for(Uv),zv,iT=class Iv extends Error{constructor({name:t,message:a,cause:n}){super(a),this[zv]=!0,this.name=t,this.cause=n}static isInstance(t){return Iv.hasMarker(t,Uv)}static hasMarker(t,a){const n=Symbol.for(a);return t!=null&&typeof t=="object"&&n in t&&typeof t[n]=="boolean"&&t[n]===!0}};zv=lT;var J=iT,Lv="AI_APICallError",qv=`vercel.ai.error.${Lv}`,oT=Symbol.for(qv),Hv,ea=class extends J{constructor({message:e,url:t,requestBodyValues:a,statusCode:n,responseHeaders:r,responseBody:s,cause:l,isRetryable:i=n!=null&&(n===408||n===409||n===429||n>=500),data:o}){super({name:Lv,message:e,cause:l}),this[Hv]=!0,this.url=t,this.requestBodyValues=a,this.statusCode=n,this.responseHeaders=r,this.responseBody=s,this.isRetryable=i,this.data=o}static isInstance(e){return J.hasMarker(e,qv)}};Hv=oT;var Bv="AI_EmptyResponseBodyError",$v=`vercel.ai.error.${Bv}`,uT=Symbol.for($v),Vv,cT=class extends J{constructor({message:e="Empty response body"}={}){super({name:Bv,message:e}),this[Vv]=!0}static isInstance(e){return J.hasMarker(e,$v)}};Vv=uT;function ti(e){return e==null?"unknown error":typeof e=="string"?e:e instanceof Error?e.message:JSON.stringify(e)}var Zv="AI_InvalidArgumentError",Pv=`vercel.ai.error.${Zv}`,fT=Symbol.for(Pv),Yv,Gv=class extends J{constructor({message:t,cause:a,argument:n}){super({name:Zv,message:t,cause:a}),this[Yv]=!0,this.argument=n}static isInstance(t){return J.hasMarker(t,Pv)}};Yv=fT;var Kv="AI_InvalidPromptError",Xv=`vercel.ai.error.${Kv}`,dT=Symbol.for(Xv),Jv,$a=class extends J{constructor({prompt:e,message:t,cause:a}){super({name:Kv,message:`Invalid prompt: ${t}`,cause:a}),this[Jv]=!0,this.prompt=e}static isInstance(e){return J.hasMarker(e,Xv)}};Jv=dT;var Qv="AI_InvalidResponseDataError",Fv=`vercel.ai.error.${Qv}`,pT=Symbol.for(Fv),Wv,Qu=class extends J{constructor({data:e,message:t=`Invalid response data: ${JSON.stringify(e)}.`}){super({name:Qv,message:t}),this[Wv]=!0,this.data=e}static isInstance(e){return J.hasMarker(e,Fv)}};Wv=pT;var e0="AI_JSONParseError",t0=`vercel.ai.error.${e0}`,mT=Symbol.for(t0),a0,yo=class extends J{constructor({text:e,cause:t}){super({name:e0,message:`JSON parsing failed: Text: ${e}.
Error message: ${ti(t)}`,cause:t}),this[a0]=!0,this.text=e}static isInstance(e){return J.hasMarker(e,t0)}};a0=mT;var n0="AI_LoadAPIKeyError",r0=`vercel.ai.error.${n0}`,hT=Symbol.for(r0),s0,xi=class extends J{constructor({message:e}){super({name:n0,message:e}),this[s0]=!0}static isInstance(e){return J.hasMarker(e,r0)}};s0=hT;var l0="AI_NoSuchModelError",i0=`vercel.ai.error.${l0}`,gT=Symbol.for(i0),o0,yT=class extends J{constructor({errorName:e=l0,modelId:t,modelType:a,message:n=`No such ${a}: ${t}`}){super({name:e,message:n}),this[o0]=!0,this.modelId=t,this.modelType=a}static isInstance(e){return J.hasMarker(e,i0)}};o0=gT;var u0="AI_TooManyEmbeddingValuesForCallError",c0=`vercel.ai.error.${u0}`,vT=Symbol.for(c0),f0,bT=class extends J{constructor(e){super({name:u0,message:`Too many values for a single embedding call. The ${e.provider} model "${e.modelId}" can only embed up to ${e.maxEmbeddingsPerCall} values per call, but ${e.values.length} values were provided.`}),this[f0]=!0,this.provider=e.provider,this.modelId=e.modelId,this.maxEmbeddingsPerCall=e.maxEmbeddingsPerCall,this.values=e.values}static isInstance(e){return J.hasMarker(e,c0)}};f0=vT;var d0="AI_TypeValidationError",p0=`vercel.ai.error.${d0}`,_T=Symbol.for(p0),m0,xT=class uf extends J{constructor({value:t,cause:a}){super({name:d0,message:`Type validation failed: Value: ${JSON.stringify(t)}.
Error message: ${ti(a)}`,cause:a}),this[m0]=!0,this.value=t}static isInstance(t){return J.hasMarker(t,p0)}static wrap({value:t,cause:a}){return uf.isInstance(a)&&a.value===t?a:new uf({value:t,cause:a})}};m0=_T;var vo=xT,h0="AI_UnsupportedFunctionalityError",g0=`vercel.ai.error.${h0}`,ST=Symbol.for(g0),y0,Le=class extends J{constructor({functionality:e,message:t=`'${e}' functionality not supported.`}){super({name:h0,message:t}),this[y0]=!0,this.functionality=e}static isInstance(e){return J.hasMarker(e,g0)}};y0=ST;let wT=(e,t=21)=>(a=t)=>{let n="",r=a|0;for(;r--;)n+=e[Math.random()*e.length|0];return n};var Ss={exports:{}};const TT=typeof Buffer<"u",Um=/"(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])"\s*:/,zm=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/;function v0(e,t,a){a==null&&t!==null&&typeof t=="object"&&(a=t,t=void 0),TT&&Buffer.isBuffer(e)&&(e=e.toString()),e&&e.charCodeAt(0)===65279&&(e=e.slice(1));const n=JSON.parse(e,t);if(n===null||typeof n!="object")return n;const r=a&&a.protoAction||"error",s=a&&a.constructorAction||"error";if(r==="ignore"&&s==="ignore")return n;if(r!=="ignore"&&s!=="ignore"){if(Um.test(e)===!1&&zm.test(e)===!1)return n}else if(r!=="ignore"&&s==="ignore"){if(Um.test(e)===!1)return n}else if(zm.test(e)===!1)return n;return b0(n,{protoAction:r,constructorAction:s,safe:a&&a.safe})}function b0(e,{protoAction:t="error",constructorAction:a="error",safe:n}={}){let r=[e];for(;r.length;){const s=r;r=[];for(const l of s){if(t!=="ignore"&&Object.prototype.hasOwnProperty.call(l,"__proto__")){if(n===!0)return null;if(t==="error")throw new SyntaxError("Object contains forbidden prototype property");delete l.__proto__}if(a!=="ignore"&&Object.prototype.hasOwnProperty.call(l,"constructor")&&Object.prototype.hasOwnProperty.call(l.constructor,"prototype")){if(n===!0)return null;if(a==="error")throw new SyntaxError("Object contains forbidden prototype property");delete l.constructor}for(const i in l){const o=l[i];o&&typeof o=="object"&&r.push(o)}}}return e}function Cd(e,t,a){const n=Error.stackTraceLimit;Error.stackTraceLimit=0;try{return v0(e,t,a)}finally{Error.stackTraceLimit=n}}function ET(e,t){const a=Error.stackTraceLimit;Error.stackTraceLimit=0;try{return v0(e,t,{safe:!0})}catch{return null}finally{Error.stackTraceLimit=a}}Ss.exports=Cd;Ss.exports.default=Cd;Ss.exports.parse=Cd;Ss.exports.safeParse=ET;Ss.exports.scan=b0;var AT=Ss.exports;const Od=yh(AT);var RT={};function ma(...e){return e.reduce((t,a)=>({...t,...a??{}}),{})}function NT(e){return new ReadableStream({async pull(t){try{const{value:a,done:n}=await e.next();n?t.close():t.enqueue(a)}catch(a){t.error(a)}},cancel(){}})}async function kT(e){return e==null?Promise.resolve():new Promise(t=>setTimeout(t,e))}function CT(){let e="",t,a=[],n,r;function s(o,u){if(o===""){l(u);return}if(o.startsWith(":"))return;const c=o.indexOf(":");if(c===-1){i(o,"");return}const f=o.slice(0,c),m=c+1,h=m<o.length&&o[m]===" "?o.slice(m+1):o.slice(m);i(f,h)}function l(o){a.length>0&&(o.enqueue({event:t,data:a.join(`
`),id:n,retry:r}),a=[],t=void 0,r=void 0)}function i(o,u){switch(o){case"event":t=u;break;case"data":a.push(u);break;case"id":n=u;break;case"retry":const c=parseInt(u,10);isNaN(c)||(r=c);break}}return new TransformStream({transform(o,u){const{lines:c,incompleteLine:f}=OT(e,o);e=f;for(let m=0;m<c.length;m++)s(c[m],u)},flush(o){s(e,o),l(o)}})}function OT(e,t){const a=[];let n=e;for(let r=0;r<t.length;){const s=t[r++];s===`
`?(a.push(n),n=""):s==="\r"?(a.push(n),n="",t[r]===`
`&&r++):n+=s}return{lines:a,incompleteLine:n}}function ai(e){const t={};return e.headers.forEach((a,n)=>{t[n]=a}),t}var br=({prefix:e,size:t=16,alphabet:a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:n="-"}={})=>{const r=wT(a,t);if(e==null)return r;if(a.includes(n))throw new Gv({argument:"separator",message:`The separator "${n}" must not be part of the alphabet "${a}".`});return s=>`${e}${n}${r(s)}`},xn=br();function MT(e){return e==null?"unknown error":typeof e=="string"?e:e instanceof Error?e.message:JSON.stringify(e)}function jT(e){return Object.fromEntries(Object.entries(e).filter(([t,a])=>a!=null))}function Li(e){return e instanceof Error&&(e.name==="AbortError"||e.name==="TimeoutError")}function _0({apiKey:e,environmentVariableName:t,apiKeyParameterName:a="apiKey",description:n}){if(typeof e=="string")return e;if(e!=null)throw new xi({message:`${n} API key must be a string.`});if(typeof process>"u")throw new xi({message:`${n} API key is missing. Pass it using the '${a}' parameter. Environment variables is not supported in this environment.`});if(e=RT[t],e==null)throw new xi({message:`${n} API key is missing. Pass it using the '${a}' parameter or the ${t} environment variable.`});if(typeof e!="string")throw new xi({message:`${n} API key must be a string. The value of the ${t} environment variable is not a string.`});return e}var bo=Symbol.for("vercel.ai.validator");function DT(e){return{[bo]:!0,validate:e}}function UT(e){return typeof e=="object"&&e!==null&&bo in e&&e[bo]===!0&&"validate"in e}function zT(e){return UT(e)?e:IT(e)}function IT(e){return DT(t=>{const a=e.safeParse(t);return a.success?{success:!0,value:a.data}:{success:!1,error:a.error}})}function LT({value:e,schema:t}){const a=ws({value:e,schema:t});if(!a.success)throw vo.wrap({value:e,cause:a.error});return a.value}function ws({value:e,schema:t}){const a=zT(t);try{if(a.validate==null)return{success:!0,value:e};const n=a.validate(e);return n.success?n:{success:!1,error:vo.wrap({value:e,cause:n.error})}}catch(n){return{success:!1,error:vo.wrap({value:e,cause:n})}}}function qT({text:e,schema:t}){try{const a=Od.parse(e);return t==null?a:LT({value:a,schema:t})}catch(a){throw yo.isInstance(a)||vo.isInstance(a)?a:new yo({text:e,cause:a})}}function is({text:e,schema:t}){try{const a=Od.parse(e);if(t==null)return{success:!0,value:a,rawValue:a};const n=ws({value:a,schema:t});return n.success?{...n,rawValue:a}:n}catch(a){return{success:!1,error:yo.isInstance(a)?a:new yo({text:e,cause:a})}}}function Im(e){try{return Od.parse(e),!0}catch{return!1}}function lu({provider:e,providerOptions:t,schema:a}){if((t==null?void 0:t[e])==null)return;const n=ws({value:t[e],schema:a});if(!n.success)throw new Gv({argument:"providerOptions",message:`invalid ${e} provider options`,cause:n.error});return n.value}var HT=()=>globalThis.fetch,ha=async({url:e,headers:t,body:a,failedResponseHandler:n,successfulResponseHandler:r,abortSignal:s,fetch:l})=>x0({url:e,headers:{"Content-Type":"application/json",...t},body:{content:JSON.stringify(a),values:a},failedResponseHandler:n,successfulResponseHandler:r,abortSignal:s,fetch:l}),BT=async({url:e,headers:t,formData:a,failedResponseHandler:n,successfulResponseHandler:r,abortSignal:s,fetch:l})=>x0({url:e,headers:t,body:{content:a,values:Object.fromEntries(a.entries())},failedResponseHandler:n,successfulResponseHandler:r,abortSignal:s,fetch:l}),x0=async({url:e,headers:t={},body:a,successfulResponseHandler:n,failedResponseHandler:r,abortSignal:s,fetch:l=HT()})=>{try{const i=await l(e,{method:"POST",headers:jT(t),body:a.content,signal:s}),o=ai(i);if(!i.ok){let u;try{u=await r({response:i,url:e,requestBodyValues:a.values})}catch(c){throw Li(c)||ea.isInstance(c)?c:new ea({message:"Failed to process error response",cause:c,statusCode:i.status,url:e,responseHeaders:o,requestBodyValues:a.values})}throw u.value}try{return await n({response:i,url:e,requestBodyValues:a.values})}catch(u){throw u instanceof Error&&(Li(u)||ea.isInstance(u))?u:new ea({message:"Failed to process successful response",cause:u,statusCode:i.status,url:e,responseHeaders:o,requestBodyValues:a.values})}}catch(i){if(Li(i))throw i;if(i instanceof TypeError&&i.message==="fetch failed"){const o=i.cause;if(o!=null)throw new ea({message:`Cannot connect to API: ${o.message}`,cause:o,url:e,requestBodyValues:a.values,isRetryable:!0})}throw i}};async function $T(e){return typeof e=="function"&&(e=e()),Promise.resolve(e)}var S0=({errorSchema:e,errorToMessage:t,isRetryable:a})=>async({response:n,url:r,requestBodyValues:s})=>{const l=await n.text(),i=ai(n);if(l.trim()==="")return{responseHeaders:i,value:new ea({message:n.statusText,url:r,requestBodyValues:s,statusCode:n.status,responseHeaders:i,responseBody:l,isRetryable:a==null?void 0:a(n)})};try{const o=qT({text:l,schema:e});return{responseHeaders:i,value:new ea({message:t(o),url:r,requestBodyValues:s,statusCode:n.status,responseHeaders:i,responseBody:l,data:o,isRetryable:a==null?void 0:a(n,o)})}}catch{return{responseHeaders:i,value:new ea({message:n.statusText,url:r,requestBodyValues:s,statusCode:n.status,responseHeaders:i,responseBody:l,isRetryable:a==null?void 0:a(n)})}}},iu=e=>async({response:t})=>{const a=ai(t);if(t.body==null)throw new cT({});return{responseHeaders:a,value:t.body.pipeThrough(new TextDecoderStream).pipeThrough(CT()).pipeThrough(new TransformStream({transform({data:n},r){n!=="[DONE]"&&r.enqueue(is({text:n,schema:e}))}}))}},_r=e=>async({response:t,url:a,requestBodyValues:n})=>{const r=await t.text(),s=is({text:r,schema:e}),l=ai(t);if(!s.success)throw new ea({message:"Invalid JSON response",cause:s.error,statusCode:t.status,responseHeaders:l,responseBody:r,url:a,requestBodyValues:n});return{responseHeaders:l,value:s.value,rawValue:s.rawValue}},VT=()=>async({response:e,url:t,requestBodyValues:a})=>{const n=ai(e);if(!e.body)throw new ea({message:"Response body is empty",url:t,requestBodyValues:a,statusCode:e.status,responseHeaders:n,responseBody:void 0});try{const r=await e.arrayBuffer();return{responseHeaders:n,value:new Uint8Array(r)}}catch(r){throw new ea({message:"Failed to read response as array buffer",url:t,requestBodyValues:a,statusCode:e.status,responseHeaders:n,responseBody:void 0,cause:r})}},{btoa:ZT,atob:PT}=globalThis;function ou(e){const t=e.replace(/-/g,"+").replace(/_/g,"/"),a=PT(t);return Uint8Array.from(a,n=>n.codePointAt(0))}function os(e){let t="";for(let a=0;a<e.length;a++)t+=String.fromCodePoint(e[a]);return ZT(t)}function w0(e){return e==null?void 0:e.replace(/\/$/,"")}var pe;(function(e){e.assertEqual=r=>{};function t(r){}e.assertIs=t;function a(r){throw new Error}e.assertNever=a,e.arrayToEnum=r=>{const s={};for(const l of r)s[l]=l;return s},e.getValidEnumValues=r=>{const s=e.objectKeys(r).filter(i=>typeof r[r[i]]!="number"),l={};for(const i of s)l[i]=r[i];return e.objectValues(l)},e.objectValues=r=>e.objectKeys(r).map(function(s){return r[s]}),e.objectKeys=typeof Object.keys=="function"?r=>Object.keys(r):r=>{const s=[];for(const l in r)Object.prototype.hasOwnProperty.call(r,l)&&s.push(l);return s},e.find=(r,s)=>{for(const l of r)if(s(l))return l},e.isInteger=typeof Number.isInteger=="function"?r=>Number.isInteger(r):r=>typeof r=="number"&&Number.isFinite(r)&&Math.floor(r)===r;function n(r,s=" | "){return r.map(l=>typeof l=="string"?`'${l}'`:l).join(s)}e.joinValues=n,e.jsonStringifyReplacer=(r,s)=>typeof s=="bigint"?s.toString():s})(pe||(pe={}));var Lm;(function(e){e.mergeShapes=(t,a)=>({...t,...a})})(Lm||(Lm={}));const B=pe.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),gn=e=>{switch(typeof e){case"undefined":return B.undefined;case"string":return B.string;case"number":return Number.isNaN(e)?B.nan:B.number;case"boolean":return B.boolean;case"function":return B.function;case"bigint":return B.bigint;case"symbol":return B.symbol;case"object":return Array.isArray(e)?B.array:e===null?B.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?B.promise:typeof Map<"u"&&e instanceof Map?B.map:typeof Set<"u"&&e instanceof Set?B.set:typeof Date<"u"&&e instanceof Date?B.date:B.object;default:return B.unknown}},O=pe.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class sn extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const a=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,a):this.__proto__=a,this.name="ZodError",this.issues=t}format(t){const a=t||function(s){return s.message},n={_errors:[]},r=s=>{for(const l of s.issues)if(l.code==="invalid_union")l.unionErrors.map(r);else if(l.code==="invalid_return_type")r(l.returnTypeError);else if(l.code==="invalid_arguments")r(l.argumentsError);else if(l.path.length===0)n._errors.push(a(l));else{let i=n,o=0;for(;o<l.path.length;){const u=l.path[o];o===l.path.length-1?(i[u]=i[u]||{_errors:[]},i[u]._errors.push(a(l))):i[u]=i[u]||{_errors:[]},i=i[u],o++}}};return r(this),n}static assert(t){if(!(t instanceof sn))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,pe.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=a=>a.message){const a={},n=[];for(const r of this.issues)r.path.length>0?(a[r.path[0]]=a[r.path[0]]||[],a[r.path[0]].push(t(r))):n.push(t(r));return{formErrors:n,fieldErrors:a}}get formErrors(){return this.flatten()}}sn.create=e=>new sn(e);const cf=(e,t)=>{let a;switch(e.code){case O.invalid_type:e.received===B.undefined?a="Required":a=`Expected ${e.expected}, received ${e.received}`;break;case O.invalid_literal:a=`Invalid literal value, expected ${JSON.stringify(e.expected,pe.jsonStringifyReplacer)}`;break;case O.unrecognized_keys:a=`Unrecognized key(s) in object: ${pe.joinValues(e.keys,", ")}`;break;case O.invalid_union:a="Invalid input";break;case O.invalid_union_discriminator:a=`Invalid discriminator value. Expected ${pe.joinValues(e.options)}`;break;case O.invalid_enum_value:a=`Invalid enum value. Expected ${pe.joinValues(e.options)}, received '${e.received}'`;break;case O.invalid_arguments:a="Invalid function arguments";break;case O.invalid_return_type:a="Invalid function return type";break;case O.invalid_date:a="Invalid date";break;case O.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(a=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(a=`${a} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?a=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?a=`Invalid input: must end with "${e.validation.endsWith}"`:pe.assertNever(e.validation):e.validation!=="regex"?a=`Invalid ${e.validation}`:a="Invalid";break;case O.too_small:e.type==="array"?a=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?a=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?a=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?a=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:a="Invalid input";break;case O.too_big:e.type==="array"?a=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?a=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?a=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?a=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?a=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:a="Invalid input";break;case O.custom:a="Invalid input";break;case O.invalid_intersection_types:a="Intersection results could not be merged";break;case O.not_multiple_of:a=`Number must be a multiple of ${e.multipleOf}`;break;case O.not_finite:a="Number must be finite";break;default:a=t.defaultError,pe.assertNever(e)}return{message:a}};let YT=cf;function GT(){return YT}const KT=e=>{const{data:t,path:a,errorMaps:n,issueData:r}=e,s=[...a,...r.path||[]],l={...r,path:s};if(r.message!==void 0)return{...r,path:s,message:r.message};let i="";const o=n.filter(u=>!!u).slice().reverse();for(const u of o)i=u(l,{data:t,defaultError:i}).message;return{...r,path:s,message:i}};function I(e,t){const a=GT(),n=KT({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,a,a===cf?void 0:cf].filter(r=>!!r)});e.common.issues.push(n)}class wt{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,a){const n=[];for(const r of a){if(r.status==="aborted")return W;r.status==="dirty"&&t.dirty(),n.push(r.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,a){const n=[];for(const r of a){const s=await r.key,l=await r.value;n.push({key:s,value:l})}return wt.mergeObjectSync(t,n)}static mergeObjectSync(t,a){const n={};for(const r of a){const{key:s,value:l}=r;if(s.status==="aborted"||l.status==="aborted")return W;s.status==="dirty"&&t.dirty(),l.status==="dirty"&&t.dirty(),s.value!=="__proto__"&&(typeof l.value<"u"||r.alwaysSet)&&(n[s.value]=l.value)}return{status:t.value,value:n}}}const W=Object.freeze({status:"aborted"}),Vs=e=>({status:"dirty",value:e}),la=e=>({status:"valid",value:e}),qm=e=>e.status==="aborted",Hm=e=>e.status==="dirty",us=e=>e.status==="valid",_o=e=>typeof Promise<"u"&&e instanceof Promise;var Z;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Z||(Z={}));class Oa{constructor(t,a,n,r){this._cachedPath=[],this.parent=t,this.data=a,this._path=n,this._key=r}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Bm=(e,t)=>{if(us(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const a=new sn(e.common.issues);return this._error=a,this._error}}};function te(e){if(!e)return{};const{errorMap:t,invalid_type_error:a,required_error:n,description:r}=e;if(t&&(a||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:r}:{errorMap:(l,i)=>{const{message:o}=e;return l.code==="invalid_enum_value"?{message:o??i.defaultError}:typeof i.data>"u"?{message:o??n??i.defaultError}:l.code!=="invalid_type"?{message:i.defaultError}:{message:o??a??i.defaultError}},description:r}}class ue{get description(){return this._def.description}_getType(t){return gn(t.data)}_getOrReturnCtx(t,a){return a||{common:t.parent.common,data:t.data,parsedType:gn(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new wt,ctx:{common:t.parent.common,data:t.data,parsedType:gn(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const a=this._parse(t);if(_o(a))throw new Error("Synchronous parse encountered promise.");return a}_parseAsync(t){const a=this._parse(t);return Promise.resolve(a)}parse(t,a){const n=this.safeParse(t,a);if(n.success)return n.data;throw n.error}safeParse(t,a){const n={common:{issues:[],async:(a==null?void 0:a.async)??!1,contextualErrorMap:a==null?void 0:a.errorMap},path:(a==null?void 0:a.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:gn(t)},r=this._parseSync({data:t,path:n.path,parent:n});return Bm(n,r)}"~validate"(t){var n,r;const a={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:gn(t)};if(!this["~standard"].async)try{const s=this._parseSync({data:t,path:[],parent:a});return us(s)?{value:s.value}:{issues:a.common.issues}}catch(s){(r=(n=s==null?void 0:s.message)==null?void 0:n.toLowerCase())!=null&&r.includes("encountered")&&(this["~standard"].async=!0),a.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:a}).then(s=>us(s)?{value:s.value}:{issues:a.common.issues})}async parseAsync(t,a){const n=await this.safeParseAsync(t,a);if(n.success)return n.data;throw n.error}async safeParseAsync(t,a){const n={common:{issues:[],contextualErrorMap:a==null?void 0:a.errorMap,async:!0},path:(a==null?void 0:a.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:gn(t)},r=this._parse({data:t,path:n.path,parent:n}),s=await(_o(r)?r:Promise.resolve(r));return Bm(n,s)}refine(t,a){const n=r=>typeof a=="string"||typeof a>"u"?{message:a}:typeof a=="function"?a(r):a;return this._refinement((r,s)=>{const l=t(r),i=()=>s.addIssue({code:O.custom,...n(r)});return typeof Promise<"u"&&l instanceof Promise?l.then(o=>o?!0:(i(),!1)):l?!0:(i(),!1)})}refinement(t,a){return this._refinement((n,r)=>t(n)?!0:(r.addIssue(typeof a=="function"?a(n,r):a),!1))}_refinement(t){return new pr({schema:this,typeName:M.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:a=>this["~validate"](a)}}optional(){return Wa.create(this,this._def)}nullable(){return mr.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ka.create(this)}promise(){return No.create(this,this._def)}or(t){return wo.create([this,t],this._def)}and(t){return To.create(this,t,this._def)}transform(t){return new pr({...te(this._def),schema:this,typeName:M.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const a=typeof t=="function"?t:()=>t;return new ko({...te(this._def),innerType:this,defaultValue:a,typeName:M.ZodDefault})}brand(){return new R0({typeName:M.ZodBranded,type:this,...te(this._def)})}catch(t){const a=typeof t=="function"?t:()=>t;return new Co({...te(this._def),innerType:this,catchValue:a,typeName:M.ZodCatch})}describe(t){const a=this.constructor;return new a({...this._def,description:t})}pipe(t){return jd.create(this,t)}readonly(){return Oo.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const XT=/^c[^\s-]{8,}$/i,JT=/^[0-9a-z]+$/,QT=/^[0-9A-HJKMNP-TV-Z]{26}$/i,FT=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,WT=/^[a-z0-9_-]{21}$/i,eE=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,tE=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,aE=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,nE="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Fu;const rE=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,sE=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,lE=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,iE=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,oE=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,uE=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,T0="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",cE=new RegExp(`^${T0}$`);function E0(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const a=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${a}`}function fE(e){return new RegExp(`^${E0(e)}$`)}function dE(e){let t=`${T0}T${E0(e)}`;const a=[];return a.push(e.local?"Z?":"Z"),e.offset&&a.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${a.join("|")})`,new RegExp(`^${t}$`)}function pE(e,t){return!!((t==="v4"||!t)&&rE.test(e)||(t==="v6"||!t)&&lE.test(e))}function mE(e,t){if(!eE.test(e))return!1;try{const[a]=e.split("."),n=a.replace(/-/g,"+").replace(/_/g,"/").padEnd(a.length+(4-a.length%4)%4,"="),r=JSON.parse(atob(n));return!(typeof r!="object"||r===null||"typ"in r&&(r==null?void 0:r.typ)!=="JWT"||!r.alg||t&&r.alg!==t)}catch{return!1}}function hE(e,t){return!!((t==="v4"||!t)&&sE.test(e)||(t==="v6"||!t)&&iE.test(e))}class Xa extends ue{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==B.string){const s=this._getOrReturnCtx(t);return I(s,{code:O.invalid_type,expected:B.string,received:s.parsedType}),W}const n=new wt;let r;for(const s of this._def.checks)if(s.kind==="min")t.data.length<s.value&&(r=this._getOrReturnCtx(t,r),I(r,{code:O.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="max")t.data.length>s.value&&(r=this._getOrReturnCtx(t,r),I(r,{code:O.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="length"){const l=t.data.length>s.value,i=t.data.length<s.value;(l||i)&&(r=this._getOrReturnCtx(t,r),l?I(r,{code:O.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):i&&I(r,{code:O.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),n.dirty())}else if(s.kind==="email")aE.test(t.data)||(r=this._getOrReturnCtx(t,r),I(r,{validation:"email",code:O.invalid_string,message:s.message}),n.dirty());else if(s.kind==="emoji")Fu||(Fu=new RegExp(nE,"u")),Fu.test(t.data)||(r=this._getOrReturnCtx(t,r),I(r,{validation:"emoji",code:O.invalid_string,message:s.message}),n.dirty());else if(s.kind==="uuid")FT.test(t.data)||(r=this._getOrReturnCtx(t,r),I(r,{validation:"uuid",code:O.invalid_string,message:s.message}),n.dirty());else if(s.kind==="nanoid")WT.test(t.data)||(r=this._getOrReturnCtx(t,r),I(r,{validation:"nanoid",code:O.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid")XT.test(t.data)||(r=this._getOrReturnCtx(t,r),I(r,{validation:"cuid",code:O.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid2")JT.test(t.data)||(r=this._getOrReturnCtx(t,r),I(r,{validation:"cuid2",code:O.invalid_string,message:s.message}),n.dirty());else if(s.kind==="ulid")QT.test(t.data)||(r=this._getOrReturnCtx(t,r),I(r,{validation:"ulid",code:O.invalid_string,message:s.message}),n.dirty());else if(s.kind==="url")try{new URL(t.data)}catch{r=this._getOrReturnCtx(t,r),I(r,{validation:"url",code:O.invalid_string,message:s.message}),n.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(t.data)||(r=this._getOrReturnCtx(t,r),I(r,{validation:"regex",code:O.invalid_string,message:s.message}),n.dirty())):s.kind==="trim"?t.data=t.data.trim():s.kind==="includes"?t.data.includes(s.value,s.position)||(r=this._getOrReturnCtx(t,r),I(r,{code:O.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),n.dirty()):s.kind==="toLowerCase"?t.data=t.data.toLowerCase():s.kind==="toUpperCase"?t.data=t.data.toUpperCase():s.kind==="startsWith"?t.data.startsWith(s.value)||(r=this._getOrReturnCtx(t,r),I(r,{code:O.invalid_string,validation:{startsWith:s.value},message:s.message}),n.dirty()):s.kind==="endsWith"?t.data.endsWith(s.value)||(r=this._getOrReturnCtx(t,r),I(r,{code:O.invalid_string,validation:{endsWith:s.value},message:s.message}),n.dirty()):s.kind==="datetime"?dE(s).test(t.data)||(r=this._getOrReturnCtx(t,r),I(r,{code:O.invalid_string,validation:"datetime",message:s.message}),n.dirty()):s.kind==="date"?cE.test(t.data)||(r=this._getOrReturnCtx(t,r),I(r,{code:O.invalid_string,validation:"date",message:s.message}),n.dirty()):s.kind==="time"?fE(s).test(t.data)||(r=this._getOrReturnCtx(t,r),I(r,{code:O.invalid_string,validation:"time",message:s.message}),n.dirty()):s.kind==="duration"?tE.test(t.data)||(r=this._getOrReturnCtx(t,r),I(r,{validation:"duration",code:O.invalid_string,message:s.message}),n.dirty()):s.kind==="ip"?pE(t.data,s.version)||(r=this._getOrReturnCtx(t,r),I(r,{validation:"ip",code:O.invalid_string,message:s.message}),n.dirty()):s.kind==="jwt"?mE(t.data,s.alg)||(r=this._getOrReturnCtx(t,r),I(r,{validation:"jwt",code:O.invalid_string,message:s.message}),n.dirty()):s.kind==="cidr"?hE(t.data,s.version)||(r=this._getOrReturnCtx(t,r),I(r,{validation:"cidr",code:O.invalid_string,message:s.message}),n.dirty()):s.kind==="base64"?oE.test(t.data)||(r=this._getOrReturnCtx(t,r),I(r,{validation:"base64",code:O.invalid_string,message:s.message}),n.dirty()):s.kind==="base64url"?uE.test(t.data)||(r=this._getOrReturnCtx(t,r),I(r,{validation:"base64url",code:O.invalid_string,message:s.message}),n.dirty()):pe.assertNever(s);return{status:n.value,value:t.data}}_regex(t,a,n){return this.refinement(r=>t.test(r),{validation:a,code:O.invalid_string,...Z.errToObj(n)})}_addCheck(t){return new Xa({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Z.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Z.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Z.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Z.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Z.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Z.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Z.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Z.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Z.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Z.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Z.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Z.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Z.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...Z.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Z.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Z.errToObj(t)})}regex(t,a){return this._addCheck({kind:"regex",regex:t,...Z.errToObj(a)})}includes(t,a){return this._addCheck({kind:"includes",value:t,position:a==null?void 0:a.position,...Z.errToObj(a==null?void 0:a.message)})}startsWith(t,a){return this._addCheck({kind:"startsWith",value:t,...Z.errToObj(a)})}endsWith(t,a){return this._addCheck({kind:"endsWith",value:t,...Z.errToObj(a)})}min(t,a){return this._addCheck({kind:"min",value:t,...Z.errToObj(a)})}max(t,a){return this._addCheck({kind:"max",value:t,...Z.errToObj(a)})}length(t,a){return this._addCheck({kind:"length",value:t,...Z.errToObj(a)})}nonempty(t){return this.min(1,Z.errToObj(t))}trim(){return new Xa({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Xa({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Xa({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const a of this._def.checks)a.kind==="min"&&(t===null||a.value>t)&&(t=a.value);return t}get maxLength(){let t=null;for(const a of this._def.checks)a.kind==="max"&&(t===null||a.value<t)&&(t=a.value);return t}}Xa.create=e=>new Xa({checks:[],typeName:M.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...te(e)});function gE(e,t){const a=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,r=a>n?a:n,s=Number.parseInt(e.toFixed(r).replace(".","")),l=Number.parseInt(t.toFixed(r).replace(".",""));return s%l/10**r}class cs extends ue{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==B.number){const s=this._getOrReturnCtx(t);return I(s,{code:O.invalid_type,expected:B.number,received:s.parsedType}),W}let n;const r=new wt;for(const s of this._def.checks)s.kind==="int"?pe.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),I(n,{code:O.invalid_type,expected:"integer",received:"float",message:s.message}),r.dirty()):s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(n=this._getOrReturnCtx(t,n),I(n,{code:O.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),r.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(n=this._getOrReturnCtx(t,n),I(n,{code:O.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),r.dirty()):s.kind==="multipleOf"?gE(t.data,s.value)!==0&&(n=this._getOrReturnCtx(t,n),I(n,{code:O.not_multiple_of,multipleOf:s.value,message:s.message}),r.dirty()):s.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),I(n,{code:O.not_finite,message:s.message}),r.dirty()):pe.assertNever(s);return{status:r.value,value:t.data}}gte(t,a){return this.setLimit("min",t,!0,Z.toString(a))}gt(t,a){return this.setLimit("min",t,!1,Z.toString(a))}lte(t,a){return this.setLimit("max",t,!0,Z.toString(a))}lt(t,a){return this.setLimit("max",t,!1,Z.toString(a))}setLimit(t,a,n,r){return new cs({...this._def,checks:[...this._def.checks,{kind:t,value:a,inclusive:n,message:Z.toString(r)}]})}_addCheck(t){return new cs({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Z.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Z.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Z.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Z.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Z.toString(t)})}multipleOf(t,a){return this._addCheck({kind:"multipleOf",value:t,message:Z.toString(a)})}finite(t){return this._addCheck({kind:"finite",message:Z.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Z.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Z.toString(t)})}get minValue(){let t=null;for(const a of this._def.checks)a.kind==="min"&&(t===null||a.value>t)&&(t=a.value);return t}get maxValue(){let t=null;for(const a of this._def.checks)a.kind==="max"&&(t===null||a.value<t)&&(t=a.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&pe.isInteger(t.value))}get isFinite(){let t=null,a=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(a===null||n.value>a)&&(a=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(a)&&Number.isFinite(t)}}cs.create=e=>new cs({checks:[],typeName:M.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...te(e)});class wl extends ue{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==B.bigint)return this._getInvalidInput(t);let n;const r=new wt;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(n=this._getOrReturnCtx(t,n),I(n,{code:O.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),r.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(n=this._getOrReturnCtx(t,n),I(n,{code:O.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),r.dirty()):s.kind==="multipleOf"?t.data%s.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),I(n,{code:O.not_multiple_of,multipleOf:s.value,message:s.message}),r.dirty()):pe.assertNever(s);return{status:r.value,value:t.data}}_getInvalidInput(t){const a=this._getOrReturnCtx(t);return I(a,{code:O.invalid_type,expected:B.bigint,received:a.parsedType}),W}gte(t,a){return this.setLimit("min",t,!0,Z.toString(a))}gt(t,a){return this.setLimit("min",t,!1,Z.toString(a))}lte(t,a){return this.setLimit("max",t,!0,Z.toString(a))}lt(t,a){return this.setLimit("max",t,!1,Z.toString(a))}setLimit(t,a,n,r){return new wl({...this._def,checks:[...this._def.checks,{kind:t,value:a,inclusive:n,message:Z.toString(r)}]})}_addCheck(t){return new wl({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Z.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Z.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Z.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Z.toString(t)})}multipleOf(t,a){return this._addCheck({kind:"multipleOf",value:t,message:Z.toString(a)})}get minValue(){let t=null;for(const a of this._def.checks)a.kind==="min"&&(t===null||a.value>t)&&(t=a.value);return t}get maxValue(){let t=null;for(const a of this._def.checks)a.kind==="max"&&(t===null||a.value<t)&&(t=a.value);return t}}wl.create=e=>new wl({checks:[],typeName:M.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...te(e)});class ff extends ue{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==B.boolean){const n=this._getOrReturnCtx(t);return I(n,{code:O.invalid_type,expected:B.boolean,received:n.parsedType}),W}return la(t.data)}}ff.create=e=>new ff({typeName:M.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...te(e)});class xo extends ue{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==B.date){const s=this._getOrReturnCtx(t);return I(s,{code:O.invalid_type,expected:B.date,received:s.parsedType}),W}if(Number.isNaN(t.data.getTime())){const s=this._getOrReturnCtx(t);return I(s,{code:O.invalid_date}),W}const n=new wt;let r;for(const s of this._def.checks)s.kind==="min"?t.data.getTime()<s.value&&(r=this._getOrReturnCtx(t,r),I(r,{code:O.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),n.dirty()):s.kind==="max"?t.data.getTime()>s.value&&(r=this._getOrReturnCtx(t,r),I(r,{code:O.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),n.dirty()):pe.assertNever(s);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new xo({...this._def,checks:[...this._def.checks,t]})}min(t,a){return this._addCheck({kind:"min",value:t.getTime(),message:Z.toString(a)})}max(t,a){return this._addCheck({kind:"max",value:t.getTime(),message:Z.toString(a)})}get minDate(){let t=null;for(const a of this._def.checks)a.kind==="min"&&(t===null||a.value>t)&&(t=a.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const a of this._def.checks)a.kind==="max"&&(t===null||a.value<t)&&(t=a.value);return t!=null?new Date(t):null}}xo.create=e=>new xo({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:M.ZodDate,...te(e)});class $m extends ue{_parse(t){if(this._getType(t)!==B.symbol){const n=this._getOrReturnCtx(t);return I(n,{code:O.invalid_type,expected:B.symbol,received:n.parsedType}),W}return la(t.data)}}$m.create=e=>new $m({typeName:M.ZodSymbol,...te(e)});class df extends ue{_parse(t){if(this._getType(t)!==B.undefined){const n=this._getOrReturnCtx(t);return I(n,{code:O.invalid_type,expected:B.undefined,received:n.parsedType}),W}return la(t.data)}}df.create=e=>new df({typeName:M.ZodUndefined,...te(e)});class So extends ue{_parse(t){if(this._getType(t)!==B.null){const n=this._getOrReturnCtx(t);return I(n,{code:O.invalid_type,expected:B.null,received:n.parsedType}),W}return la(t.data)}}So.create=e=>new So({typeName:M.ZodNull,...te(e)});class Tl extends ue{constructor(){super(...arguments),this._any=!0}_parse(t){return la(t.data)}}Tl.create=e=>new Tl({typeName:M.ZodAny,...te(e)});class pf extends ue{constructor(){super(...arguments),this._unknown=!0}_parse(t){return la(t.data)}}pf.create=e=>new pf({typeName:M.ZodUnknown,...te(e)});class In extends ue{_parse(t){const a=this._getOrReturnCtx(t);return I(a,{code:O.invalid_type,expected:B.never,received:a.parsedType}),W}}In.create=e=>new In({typeName:M.ZodNever,...te(e)});class Vm extends ue{_parse(t){if(this._getType(t)!==B.undefined){const n=this._getOrReturnCtx(t);return I(n,{code:O.invalid_type,expected:B.void,received:n.parsedType}),W}return la(t.data)}}Vm.create=e=>new Vm({typeName:M.ZodVoid,...te(e)});class ka extends ue{_parse(t){const{ctx:a,status:n}=this._processInputParams(t),r=this._def;if(a.parsedType!==B.array)return I(a,{code:O.invalid_type,expected:B.array,received:a.parsedType}),W;if(r.exactLength!==null){const l=a.data.length>r.exactLength.value,i=a.data.length<r.exactLength.value;(l||i)&&(I(a,{code:l?O.too_big:O.too_small,minimum:i?r.exactLength.value:void 0,maximum:l?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),n.dirty())}if(r.minLength!==null&&a.data.length<r.minLength.value&&(I(a,{code:O.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),n.dirty()),r.maxLength!==null&&a.data.length>r.maxLength.value&&(I(a,{code:O.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),n.dirty()),a.common.async)return Promise.all([...a.data].map((l,i)=>r.type._parseAsync(new Oa(a,l,a.path,i)))).then(l=>wt.mergeArray(n,l));const s=[...a.data].map((l,i)=>r.type._parseSync(new Oa(a,l,a.path,i)));return wt.mergeArray(n,s)}get element(){return this._def.type}min(t,a){return new ka({...this._def,minLength:{value:t,message:Z.toString(a)}})}max(t,a){return new ka({...this._def,maxLength:{value:t,message:Z.toString(a)}})}length(t,a){return new ka({...this._def,exactLength:{value:t,message:Z.toString(a)}})}nonempty(t){return this.min(1,t)}}ka.create=(e,t)=>new ka({type:e,minLength:null,maxLength:null,exactLength:null,typeName:M.ZodArray,...te(t)});function kr(e){if(e instanceof Ke){const t={};for(const a in e.shape){const n=e.shape[a];t[a]=Wa.create(kr(n))}return new Ke({...e._def,shape:()=>t})}else return e instanceof ka?new ka({...e._def,type:kr(e.element)}):e instanceof Wa?Wa.create(kr(e.unwrap())):e instanceof mr?mr.create(kr(e.unwrap())):e instanceof fr?fr.create(e.items.map(t=>kr(t))):e}class Ke extends ue{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),a=pe.objectKeys(t);return this._cached={shape:t,keys:a},this._cached}_parse(t){if(this._getType(t)!==B.object){const u=this._getOrReturnCtx(t);return I(u,{code:O.invalid_type,expected:B.object,received:u.parsedType}),W}const{status:n,ctx:r}=this._processInputParams(t),{shape:s,keys:l}=this._getCached(),i=[];if(!(this._def.catchall instanceof In&&this._def.unknownKeys==="strip"))for(const u in r.data)l.includes(u)||i.push(u);const o=[];for(const u of l){const c=s[u],f=r.data[u];o.push({key:{status:"valid",value:u},value:c._parse(new Oa(r,f,r.path,u)),alwaysSet:u in r.data})}if(this._def.catchall instanceof In){const u=this._def.unknownKeys;if(u==="passthrough")for(const c of i)o.push({key:{status:"valid",value:c},value:{status:"valid",value:r.data[c]}});else if(u==="strict")i.length>0&&(I(r,{code:O.unrecognized_keys,keys:i}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const c of i){const f=r.data[c];o.push({key:{status:"valid",value:c},value:u._parse(new Oa(r,f,r.path,c)),alwaysSet:c in r.data})}}return r.common.async?Promise.resolve().then(async()=>{const u=[];for(const c of o){const f=await c.key,m=await c.value;u.push({key:f,value:m,alwaysSet:c.alwaysSet})}return u}).then(u=>wt.mergeObjectSync(n,u)):wt.mergeObjectSync(n,o)}get shape(){return this._def.shape()}strict(t){return Z.errToObj,new Ke({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(a,n)=>{var s,l;const r=((l=(s=this._def).errorMap)==null?void 0:l.call(s,a,n).message)??n.defaultError;return a.code==="unrecognized_keys"?{message:Z.errToObj(t).message??r}:{message:r}}}:{}})}strip(){return new Ke({...this._def,unknownKeys:"strip"})}passthrough(){return new Ke({...this._def,unknownKeys:"passthrough"})}extend(t){return new Ke({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Ke({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:M.ZodObject})}setKey(t,a){return this.augment({[t]:a})}catchall(t){return new Ke({...this._def,catchall:t})}pick(t){const a={};for(const n of pe.objectKeys(t))t[n]&&this.shape[n]&&(a[n]=this.shape[n]);return new Ke({...this._def,shape:()=>a})}omit(t){const a={};for(const n of pe.objectKeys(this.shape))t[n]||(a[n]=this.shape[n]);return new Ke({...this._def,shape:()=>a})}deepPartial(){return kr(this)}partial(t){const a={};for(const n of pe.objectKeys(this.shape)){const r=this.shape[n];t&&!t[n]?a[n]=r:a[n]=r.optional()}return new Ke({...this._def,shape:()=>a})}required(t){const a={};for(const n of pe.objectKeys(this.shape))if(t&&!t[n])a[n]=this.shape[n];else{let s=this.shape[n];for(;s instanceof Wa;)s=s._def.innerType;a[n]=s}return new Ke({...this._def,shape:()=>a})}keyof(){return A0(pe.objectKeys(this.shape))}}Ke.create=(e,t)=>new Ke({shape:()=>e,unknownKeys:"strip",catchall:In.create(),typeName:M.ZodObject,...te(t)});Ke.strictCreate=(e,t)=>new Ke({shape:()=>e,unknownKeys:"strict",catchall:In.create(),typeName:M.ZodObject,...te(t)});Ke.lazycreate=(e,t)=>new Ke({shape:e,unknownKeys:"strip",catchall:In.create(),typeName:M.ZodObject,...te(t)});class wo extends ue{_parse(t){const{ctx:a}=this._processInputParams(t),n=this._def.options;function r(s){for(const i of s)if(i.result.status==="valid")return i.result;for(const i of s)if(i.result.status==="dirty")return a.common.issues.push(...i.ctx.common.issues),i.result;const l=s.map(i=>new sn(i.ctx.common.issues));return I(a,{code:O.invalid_union,unionErrors:l}),W}if(a.common.async)return Promise.all(n.map(async s=>{const l={...a,common:{...a.common,issues:[]},parent:null};return{result:await s._parseAsync({data:a.data,path:a.path,parent:l}),ctx:l}})).then(r);{let s;const l=[];for(const o of n){const u={...a,common:{...a.common,issues:[]},parent:null},c=o._parseSync({data:a.data,path:a.path,parent:u});if(c.status==="valid")return c;c.status==="dirty"&&!s&&(s={result:c,ctx:u}),u.common.issues.length&&l.push(u.common.issues)}if(s)return a.common.issues.push(...s.ctx.common.issues),s.result;const i=l.map(o=>new sn(o));return I(a,{code:O.invalid_union,unionErrors:i}),W}}get options(){return this._def.options}}wo.create=(e,t)=>new wo({options:e,typeName:M.ZodUnion,...te(t)});const Ba=e=>e instanceof Ao?Ba(e.schema):e instanceof pr?Ba(e.innerType()):e instanceof Ro?[e.value]:e instanceof dr?e.options:e instanceof hf?pe.objectValues(e.enum):e instanceof ko?Ba(e._def.innerType):e instanceof df?[void 0]:e instanceof So?[null]:e instanceof Wa?[void 0,...Ba(e.unwrap())]:e instanceof mr?[null,...Ba(e.unwrap())]:e instanceof R0||e instanceof Oo?Ba(e.unwrap()):e instanceof Co?Ba(e._def.innerType):[];class Md extends ue{_parse(t){const{ctx:a}=this._processInputParams(t);if(a.parsedType!==B.object)return I(a,{code:O.invalid_type,expected:B.object,received:a.parsedType}),W;const n=this.discriminator,r=a.data[n],s=this.optionsMap.get(r);return s?a.common.async?s._parseAsync({data:a.data,path:a.path,parent:a}):s._parseSync({data:a.data,path:a.path,parent:a}):(I(a,{code:O.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),W)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,a,n){const r=new Map;for(const s of a){const l=Ba(s.shape[t]);if(!l.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const i of l){if(r.has(i))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(i)}`);r.set(i,s)}}return new Md({typeName:M.ZodDiscriminatedUnion,discriminator:t,options:a,optionsMap:r,...te(n)})}}function mf(e,t){const a=gn(e),n=gn(t);if(e===t)return{valid:!0,data:e};if(a===B.object&&n===B.object){const r=pe.objectKeys(t),s=pe.objectKeys(e).filter(i=>r.indexOf(i)!==-1),l={...e,...t};for(const i of s){const o=mf(e[i],t[i]);if(!o.valid)return{valid:!1};l[i]=o.data}return{valid:!0,data:l}}else if(a===B.array&&n===B.array){if(e.length!==t.length)return{valid:!1};const r=[];for(let s=0;s<e.length;s++){const l=e[s],i=t[s],o=mf(l,i);if(!o.valid)return{valid:!1};r.push(o.data)}return{valid:!0,data:r}}else return a===B.date&&n===B.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class To extends ue{_parse(t){const{status:a,ctx:n}=this._processInputParams(t),r=(s,l)=>{if(qm(s)||qm(l))return W;const i=mf(s.value,l.value);return i.valid?((Hm(s)||Hm(l))&&a.dirty(),{status:a.value,value:i.data}):(I(n,{code:O.invalid_intersection_types}),W)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([s,l])=>r(s,l)):r(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}To.create=(e,t,a)=>new To({left:e,right:t,typeName:M.ZodIntersection,...te(a)});class fr extends ue{_parse(t){const{status:a,ctx:n}=this._processInputParams(t);if(n.parsedType!==B.array)return I(n,{code:O.invalid_type,expected:B.array,received:n.parsedType}),W;if(n.data.length<this._def.items.length)return I(n,{code:O.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),W;!this._def.rest&&n.data.length>this._def.items.length&&(I(n,{code:O.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),a.dirty());const s=[...n.data].map((l,i)=>{const o=this._def.items[i]||this._def.rest;return o?o._parse(new Oa(n,l,n.path,i)):null}).filter(l=>!!l);return n.common.async?Promise.all(s).then(l=>wt.mergeArray(a,l)):wt.mergeArray(a,s)}get items(){return this._def.items}rest(t){return new fr({...this._def,rest:t})}}fr.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new fr({items:e,typeName:M.ZodTuple,rest:null,...te(t)})};class Eo extends ue{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:a,ctx:n}=this._processInputParams(t);if(n.parsedType!==B.object)return I(n,{code:O.invalid_type,expected:B.object,received:n.parsedType}),W;const r=[],s=this._def.keyType,l=this._def.valueType;for(const i in n.data)r.push({key:s._parse(new Oa(n,i,n.path,i)),value:l._parse(new Oa(n,n.data[i],n.path,i)),alwaysSet:i in n.data});return n.common.async?wt.mergeObjectAsync(a,r):wt.mergeObjectSync(a,r)}get element(){return this._def.valueType}static create(t,a,n){return a instanceof ue?new Eo({keyType:t,valueType:a,typeName:M.ZodRecord,...te(n)}):new Eo({keyType:Xa.create(),valueType:t,typeName:M.ZodRecord,...te(a)})}}class Zm extends ue{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:a,ctx:n}=this._processInputParams(t);if(n.parsedType!==B.map)return I(n,{code:O.invalid_type,expected:B.map,received:n.parsedType}),W;const r=this._def.keyType,s=this._def.valueType,l=[...n.data.entries()].map(([i,o],u)=>({key:r._parse(new Oa(n,i,n.path,[u,"key"])),value:s._parse(new Oa(n,o,n.path,[u,"value"]))}));if(n.common.async){const i=new Map;return Promise.resolve().then(async()=>{for(const o of l){const u=await o.key,c=await o.value;if(u.status==="aborted"||c.status==="aborted")return W;(u.status==="dirty"||c.status==="dirty")&&a.dirty(),i.set(u.value,c.value)}return{status:a.value,value:i}})}else{const i=new Map;for(const o of l){const u=o.key,c=o.value;if(u.status==="aborted"||c.status==="aborted")return W;(u.status==="dirty"||c.status==="dirty")&&a.dirty(),i.set(u.value,c.value)}return{status:a.value,value:i}}}}Zm.create=(e,t,a)=>new Zm({valueType:t,keyType:e,typeName:M.ZodMap,...te(a)});class El extends ue{_parse(t){const{status:a,ctx:n}=this._processInputParams(t);if(n.parsedType!==B.set)return I(n,{code:O.invalid_type,expected:B.set,received:n.parsedType}),W;const r=this._def;r.minSize!==null&&n.data.size<r.minSize.value&&(I(n,{code:O.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),a.dirty()),r.maxSize!==null&&n.data.size>r.maxSize.value&&(I(n,{code:O.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),a.dirty());const s=this._def.valueType;function l(o){const u=new Set;for(const c of o){if(c.status==="aborted")return W;c.status==="dirty"&&a.dirty(),u.add(c.value)}return{status:a.value,value:u}}const i=[...n.data.values()].map((o,u)=>s._parse(new Oa(n,o,n.path,u)));return n.common.async?Promise.all(i).then(o=>l(o)):l(i)}min(t,a){return new El({...this._def,minSize:{value:t,message:Z.toString(a)}})}max(t,a){return new El({...this._def,maxSize:{value:t,message:Z.toString(a)}})}size(t,a){return this.min(t,a).max(t,a)}nonempty(t){return this.min(1,t)}}El.create=(e,t)=>new El({valueType:e,minSize:null,maxSize:null,typeName:M.ZodSet,...te(t)});class Ao extends ue{get schema(){return this._def.getter()}_parse(t){const{ctx:a}=this._processInputParams(t);return this._def.getter()._parse({data:a.data,path:a.path,parent:a})}}Ao.create=(e,t)=>new Ao({getter:e,typeName:M.ZodLazy,...te(t)});class Ro extends ue{_parse(t){if(t.data!==this._def.value){const a=this._getOrReturnCtx(t);return I(a,{received:a.data,code:O.invalid_literal,expected:this._def.value}),W}return{status:"valid",value:t.data}}get value(){return this._def.value}}Ro.create=(e,t)=>new Ro({value:e,typeName:M.ZodLiteral,...te(t)});function A0(e,t){return new dr({values:e,typeName:M.ZodEnum,...te(t)})}class dr extends ue{_parse(t){if(typeof t.data!="string"){const a=this._getOrReturnCtx(t),n=this._def.values;return I(a,{expected:pe.joinValues(n),received:a.parsedType,code:O.invalid_type}),W}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const a=this._getOrReturnCtx(t),n=this._def.values;return I(a,{received:a.data,code:O.invalid_enum_value,options:n}),W}return la(t.data)}get options(){return this._def.values}get enum(){const t={};for(const a of this._def.values)t[a]=a;return t}get Values(){const t={};for(const a of this._def.values)t[a]=a;return t}get Enum(){const t={};for(const a of this._def.values)t[a]=a;return t}extract(t,a=this._def){return dr.create(t,{...this._def,...a})}exclude(t,a=this._def){return dr.create(this.options.filter(n=>!t.includes(n)),{...this._def,...a})}}dr.create=A0;class hf extends ue{_parse(t){const a=pe.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==B.string&&n.parsedType!==B.number){const r=pe.objectValues(a);return I(n,{expected:pe.joinValues(r),received:n.parsedType,code:O.invalid_type}),W}if(this._cache||(this._cache=new Set(pe.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const r=pe.objectValues(a);return I(n,{received:n.data,code:O.invalid_enum_value,options:r}),W}return la(t.data)}get enum(){return this._def.values}}hf.create=(e,t)=>new hf({values:e,typeName:M.ZodNativeEnum,...te(t)});class No extends ue{unwrap(){return this._def.type}_parse(t){const{ctx:a}=this._processInputParams(t);if(a.parsedType!==B.promise&&a.common.async===!1)return I(a,{code:O.invalid_type,expected:B.promise,received:a.parsedType}),W;const n=a.parsedType===B.promise?a.data:Promise.resolve(a.data);return la(n.then(r=>this._def.type.parseAsync(r,{path:a.path,errorMap:a.common.contextualErrorMap})))}}No.create=(e,t)=>new No({type:e,typeName:M.ZodPromise,...te(t)});class pr extends ue{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===M.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:a,ctx:n}=this._processInputParams(t),r=this._def.effect||null,s={addIssue:l=>{I(n,l),l.fatal?a.abort():a.dirty()},get path(){return n.path}};if(s.addIssue=s.addIssue.bind(s),r.type==="preprocess"){const l=r.transform(n.data,s);if(n.common.async)return Promise.resolve(l).then(async i=>{if(a.value==="aborted")return W;const o=await this._def.schema._parseAsync({data:i,path:n.path,parent:n});return o.status==="aborted"?W:o.status==="dirty"||a.value==="dirty"?Vs(o.value):o});{if(a.value==="aborted")return W;const i=this._def.schema._parseSync({data:l,path:n.path,parent:n});return i.status==="aborted"?W:i.status==="dirty"||a.value==="dirty"?Vs(i.value):i}}if(r.type==="refinement"){const l=i=>{const o=r.refinement(i,s);if(n.common.async)return Promise.resolve(o);if(o instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return i};if(n.common.async===!1){const i=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?W:(i.status==="dirty"&&a.dirty(),l(i.value),{status:a.value,value:i.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(i=>i.status==="aborted"?W:(i.status==="dirty"&&a.dirty(),l(i.value).then(()=>({status:a.value,value:i.value}))))}if(r.type==="transform")if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!us(l))return W;const i=r.transform(l.value,s);if(i instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:a.value,value:i}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>us(l)?Promise.resolve(r.transform(l.value,s)).then(i=>({status:a.value,value:i})):W);pe.assertNever(r)}}pr.create=(e,t,a)=>new pr({schema:e,typeName:M.ZodEffects,effect:t,...te(a)});pr.createWithPreprocess=(e,t,a)=>new pr({schema:t,effect:{type:"preprocess",transform:e},typeName:M.ZodEffects,...te(a)});class Wa extends ue{_parse(t){return this._getType(t)===B.undefined?la(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Wa.create=(e,t)=>new Wa({innerType:e,typeName:M.ZodOptional,...te(t)});class mr extends ue{_parse(t){return this._getType(t)===B.null?la(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}mr.create=(e,t)=>new mr({innerType:e,typeName:M.ZodNullable,...te(t)});class ko extends ue{_parse(t){const{ctx:a}=this._processInputParams(t);let n=a.data;return a.parsedType===B.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:a.path,parent:a})}removeDefault(){return this._def.innerType}}ko.create=(e,t)=>new ko({innerType:e,typeName:M.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...te(t)});class Co extends ue{_parse(t){const{ctx:a}=this._processInputParams(t),n={...a,common:{...a.common,issues:[]}},r=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return _o(r)?r.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new sn(n.common.issues)},input:n.data})})):{status:"valid",value:r.status==="valid"?r.value:this._def.catchValue({get error(){return new sn(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Co.create=(e,t)=>new Co({innerType:e,typeName:M.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...te(t)});class Pm extends ue{_parse(t){if(this._getType(t)!==B.nan){const n=this._getOrReturnCtx(t);return I(n,{code:O.invalid_type,expected:B.nan,received:n.parsedType}),W}return{status:"valid",value:t.data}}}Pm.create=e=>new Pm({typeName:M.ZodNaN,...te(e)});class R0 extends ue{_parse(t){const{ctx:a}=this._processInputParams(t),n=a.data;return this._def.type._parse({data:n,path:a.path,parent:a})}unwrap(){return this._def.type}}class jd extends ue{_parse(t){const{status:a,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?W:s.status==="dirty"?(a.dirty(),Vs(s.value)):this._def.out._parseAsync({data:s.value,path:n.path,parent:n})})();{const r=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return r.status==="aborted"?W:r.status==="dirty"?(a.dirty(),{status:"dirty",value:r.value}):this._def.out._parseSync({data:r.value,path:n.path,parent:n})}}static create(t,a){return new jd({in:t,out:a,typeName:M.ZodPipeline})}}class Oo extends ue{_parse(t){const a=this._def.innerType._parse(t),n=r=>(us(r)&&(r.value=Object.freeze(r.value)),r);return _o(a)?a.then(r=>n(r)):n(a)}unwrap(){return this._def.innerType}}Oo.create=(e,t)=>new Oo({innerType:e,typeName:M.ZodReadonly,...te(t)});function Ym(e,t){const a=typeof e=="function"?e(t):typeof e=="string"?{message:e}:e;return typeof a=="string"?{message:a}:a}function N0(e,t={},a){return e?Tl.create().superRefine((n,r)=>{const s=e(n);if(s instanceof Promise)return s.then(l=>{if(!l){const i=Ym(t,n),o=i.fatal??a??!0;r.addIssue({code:"custom",...i,fatal:o})}});if(!s){const l=Ym(t,n),i=l.fatal??a??!0;r.addIssue({code:"custom",...l,fatal:i})}}):Tl.create()}var M;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(M||(M={}));const Mo=(e,t={message:`Input not instance of ${e.name}`})=>N0(a=>a instanceof e,t),T=Xa.create,z=cs.create,aa=ff.create,yE=So.create,k0=Tl.create,ni=pf.create;In.create;const le=ka.create,A=Ke.create,Ye=wo.create,lr=Md.create;To.create;const Gm=fr.create,Al=Eo.create,vE=Ao.create,q=Ro.create,Ln=dr.create;No.create;const rt=Wa.create;mr.create;function bE({prompt:e,useLegacyFunctionCalling:t=!1,systemMessageMode:a="system"}){const n=[],r=[];for(const{role:s,content:l}of e)switch(s){case"system":{switch(a){case"system":{n.push({role:"system",content:l});break}case"developer":{n.push({role:"developer",content:l});break}case"remove":{r.push({type:"other",message:"system messages are removed for this model"});break}default:{const i=a;throw new Error(`Unsupported system message mode: ${i}`)}}break}case"user":{if(l.length===1&&l[0].type==="text"){n.push({role:"user",content:l[0].text});break}n.push({role:"user",content:l.map((i,o)=>{var u,c,f,m;switch(i.type){case"text":return{type:"text",text:i.text};case"image":return{type:"image_url",image_url:{url:i.image instanceof URL?i.image.toString():`data:${(u=i.mimeType)!=null?u:"image/jpeg"};base64,${os(i.image)}`,detail:(f=(c=i.providerMetadata)==null?void 0:c.openai)==null?void 0:f.imageDetail}};case"file":{if(i.data instanceof URL)throw new Le({functionality:"'File content parts with URL data' functionality not supported."});switch(i.mimeType){case"audio/wav":return{type:"input_audio",input_audio:{data:i.data,format:"wav"}};case"audio/mp3":case"audio/mpeg":return{type:"input_audio",input_audio:{data:i.data,format:"mp3"}};case"application/pdf":return{type:"file",file:{filename:(m=i.filename)!=null?m:`part-${o}.pdf`,file_data:`data:application/pdf;base64,${i.data}`}};default:throw new Le({functionality:`File content part type ${i.mimeType} in user messages`})}}}})});break}case"assistant":{let i="";const o=[];for(const u of l)switch(u.type){case"text":{i+=u.text;break}case"tool-call":{o.push({id:u.toolCallId,type:"function",function:{name:u.toolName,arguments:JSON.stringify(u.args)}});break}}if(t){if(o.length>1)throw new Le({functionality:"useLegacyFunctionCalling with multiple tool calls in one message"});n.push({role:"assistant",content:i,function_call:o.length>0?o[0].function:void 0})}else n.push({role:"assistant",content:i,tool_calls:o.length>0?o:void 0});break}case"tool":{for(const i of l)t?n.push({role:"function",name:i.toolName,content:JSON.stringify(i.result)}):n.push({role:"tool",tool_call_id:i.toolCallId,content:JSON.stringify(i.result)});break}default:{const i=s;throw new Error(`Unsupported role: ${i}`)}}return{messages:n,warnings:r}}function Km(e){var t,a;return(a=(t=e==null?void 0:e.content)==null?void 0:t.map(({token:n,logprob:r,top_logprobs:s})=>({token:n,logprob:r,topLogprobs:s?s.map(({token:l,logprob:i})=>({token:l,logprob:i})):[]})))!=null?a:void 0}function jo(e){switch(e){case"stop":return"stop";case"length":return"length";case"content_filter":return"content-filter";case"function_call":case"tool_calls":return"tool-calls";default:return"unknown"}}var Dd=A({error:A({message:T(),type:T().nullish(),param:k0().nullish(),code:Ye([T(),z()]).nullish()})}),Ma=S0({errorSchema:Dd,errorToMessage:e=>e.error.message});function Do({id:e,model:t,created:a}){return{id:e??void 0,modelId:t??void 0,timestamp:a!=null?new Date(a*1e3):void 0}}function _E({mode:e,useLegacyFunctionCalling:t=!1,structuredOutputs:a}){var n;const r=(n=e.tools)!=null&&n.length?e.tools:void 0,s=[];if(r==null)return{tools:void 0,tool_choice:void 0,toolWarnings:s};const l=e.toolChoice;if(t){const u=[];for(const f of r)f.type==="provider-defined"?s.push({type:"unsupported-tool",tool:f}):u.push({name:f.name,description:f.description,parameters:f.parameters});if(l==null)return{functions:u,function_call:void 0,toolWarnings:s};switch(l.type){case"auto":case"none":case void 0:return{functions:u,function_call:void 0,toolWarnings:s};case"required":throw new Le({functionality:"useLegacyFunctionCalling and toolChoice: required"});default:return{functions:u,function_call:{name:l.toolName},toolWarnings:s}}}const i=[];for(const u of r)u.type==="provider-defined"?s.push({type:"unsupported-tool",tool:u}):i.push({type:"function",function:{name:u.name,description:u.description,parameters:u.parameters,strict:a?!0:void 0}});if(l==null)return{tools:i,tool_choice:void 0,toolWarnings:s};const o=l.type;switch(o){case"auto":case"none":case"required":return{tools:i,tool_choice:o,toolWarnings:s};case"tool":return{tools:i,tool_choice:{type:"function",function:{name:l.toolName}},toolWarnings:s};default:{const u=o;throw new Le({functionality:`Unsupported tool choice type: ${u}`})}}}var xE=class{constructor(e,t,a){this.specificationVersion="v1",this.modelId=e,this.settings=t,this.config=a}get supportsStructuredOutputs(){var e;return(e=this.settings.structuredOutputs)!=null?e:gf(this.modelId)}get defaultObjectGenerationMode(){return TE(this.modelId)?"tool":this.supportsStructuredOutputs?"json":"tool"}get provider(){return this.config.provider}get supportsImageUrls(){return!this.settings.downloadImages}getArgs({mode:e,prompt:t,maxTokens:a,temperature:n,topP:r,topK:s,frequencyPenalty:l,presencePenalty:i,stopSequences:o,responseFormat:u,seed:c,providerMetadata:f}){var m,h,S,_,v,d,p,y;const g=e.type,w=[];s!=null&&w.push({type:"unsupported-setting",setting:"topK"}),(u==null?void 0:u.type)==="json"&&u.schema!=null&&!this.supportsStructuredOutputs&&w.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format schema is only supported with structuredOutputs"});const E=this.settings.useLegacyFunctionCalling;if(E&&this.settings.parallelToolCalls===!0)throw new Le({functionality:"useLegacyFunctionCalling with parallelToolCalls"});if(E&&this.supportsStructuredOutputs)throw new Le({functionality:"structuredOutputs with useLegacyFunctionCalling"});const{messages:N,warnings:R}=bE({prompt:t,useLegacyFunctionCalling:E,systemMessageMode:EE(this.modelId)});w.push(...R);const j={model:this.modelId,logit_bias:this.settings.logitBias,logprobs:this.settings.logprobs===!0||typeof this.settings.logprobs=="number"?!0:void 0,top_logprobs:typeof this.settings.logprobs=="number"?this.settings.logprobs:typeof this.settings.logprobs=="boolean"&&this.settings.logprobs?0:void 0,user:this.settings.user,parallel_tool_calls:this.settings.parallelToolCalls,max_tokens:a,temperature:n,top_p:r,frequency_penalty:l,presence_penalty:i,response_format:(u==null?void 0:u.type)==="json"?this.supportsStructuredOutputs&&u.schema!=null?{type:"json_schema",json_schema:{schema:u.schema,strict:!0,name:(m=u.name)!=null?m:"response",description:u.description}}:{type:"json_object"}:void 0,stop:o,seed:c,max_completion_tokens:(h=f==null?void 0:f.openai)==null?void 0:h.maxCompletionTokens,store:(S=f==null?void 0:f.openai)==null?void 0:S.store,metadata:(_=f==null?void 0:f.openai)==null?void 0:_.metadata,prediction:(v=f==null?void 0:f.openai)==null?void 0:v.prediction,reasoning_effort:(p=(d=f==null?void 0:f.openai)==null?void 0:d.reasoningEffort)!=null?p:this.settings.reasoningEffort,messages:N};switch(gf(this.modelId)?(j.temperature!=null&&(j.temperature=void 0,w.push({type:"unsupported-setting",setting:"temperature",details:"temperature is not supported for reasoning models"})),j.top_p!=null&&(j.top_p=void 0,w.push({type:"unsupported-setting",setting:"topP",details:"topP is not supported for reasoning models"})),j.frequency_penalty!=null&&(j.frequency_penalty=void 0,w.push({type:"unsupported-setting",setting:"frequencyPenalty",details:"frequencyPenalty is not supported for reasoning models"})),j.presence_penalty!=null&&(j.presence_penalty=void 0,w.push({type:"unsupported-setting",setting:"presencePenalty",details:"presencePenalty is not supported for reasoning models"})),j.logit_bias!=null&&(j.logit_bias=void 0,w.push({type:"other",message:"logitBias is not supported for reasoning models"})),j.logprobs!=null&&(j.logprobs=void 0,w.push({type:"other",message:"logprobs is not supported for reasoning models"})),j.top_logprobs!=null&&(j.top_logprobs=void 0,w.push({type:"other",message:"topLogprobs is not supported for reasoning models"})),j.max_tokens!=null&&(j.max_completion_tokens==null&&(j.max_completion_tokens=j.max_tokens),j.max_tokens=void 0)):(this.modelId.startsWith("gpt-4o-search-preview")||this.modelId.startsWith("gpt-4o-mini-search-preview"))&&j.temperature!=null&&(j.temperature=void 0,w.push({type:"unsupported-setting",setting:"temperature",details:"temperature is not supported for the search preview models and has been removed."})),g){case"regular":{const{tools:$,tool_choice:me,functions:ve,function_call:Qe,toolWarnings:Oe}=_E({mode:e,useLegacyFunctionCalling:E,structuredOutputs:this.supportsStructuredOutputs});return{args:{...j,tools:$,tool_choice:me,functions:ve,function_call:Qe},warnings:[...w,...Oe]}}case"object-json":return{args:{...j,response_format:this.supportsStructuredOutputs&&e.schema!=null?{type:"json_schema",json_schema:{schema:e.schema,strict:!0,name:(y=e.name)!=null?y:"response",description:e.description}}:{type:"json_object"}},warnings:w};case"object-tool":return{args:E?{...j,function_call:{name:e.tool.name},functions:[{name:e.tool.name,description:e.tool.description,parameters:e.tool.parameters}]}:{...j,tool_choice:{type:"function",function:{name:e.tool.name}},tools:[{type:"function",function:{name:e.tool.name,description:e.tool.description,parameters:e.tool.parameters,strict:this.supportsStructuredOutputs?!0:void 0}}]},warnings:w};default:{const $=g;throw new Error(`Unsupported type: ${$}`)}}}async doGenerate(e){var t,a,n,r,s,l,i,o;const{args:u,warnings:c}=this.getArgs(e),{responseHeaders:f,value:m,rawValue:h}=await ha({url:this.config.url({path:"/chat/completions",modelId:this.modelId}),headers:ma(this.config.headers(),e.headers),body:u,failedResponseHandler:Ma,successfulResponseHandler:_r(SE),abortSignal:e.abortSignal,fetch:this.config.fetch}),{messages:S,..._}=u,v=m.choices[0],d=(t=m.usage)==null?void 0:t.completion_tokens_details,p=(a=m.usage)==null?void 0:a.prompt_tokens_details,y={openai:{}};return(d==null?void 0:d.reasoning_tokens)!=null&&(y.openai.reasoningTokens=d==null?void 0:d.reasoning_tokens),(d==null?void 0:d.accepted_prediction_tokens)!=null&&(y.openai.acceptedPredictionTokens=d==null?void 0:d.accepted_prediction_tokens),(d==null?void 0:d.rejected_prediction_tokens)!=null&&(y.openai.rejectedPredictionTokens=d==null?void 0:d.rejected_prediction_tokens),(p==null?void 0:p.cached_tokens)!=null&&(y.openai.cachedPromptTokens=p==null?void 0:p.cached_tokens),{text:(n=v.message.content)!=null?n:void 0,toolCalls:this.settings.useLegacyFunctionCalling&&v.message.function_call?[{toolCallType:"function",toolCallId:xn(),toolName:v.message.function_call.name,args:v.message.function_call.arguments}]:(r=v.message.tool_calls)==null?void 0:r.map(g=>{var w;return{toolCallType:"function",toolCallId:(w=g.id)!=null?w:xn(),toolName:g.function.name,args:g.function.arguments}}),finishReason:jo(v.finish_reason),usage:{promptTokens:(l=(s=m.usage)==null?void 0:s.prompt_tokens)!=null?l:NaN,completionTokens:(o=(i=m.usage)==null?void 0:i.completion_tokens)!=null?o:NaN},rawCall:{rawPrompt:S,rawSettings:_},rawResponse:{headers:f,body:h},request:{body:JSON.stringify(u)},response:Do(m),warnings:c,logprobs:Km(v.logprobs),providerMetadata:y}}async doStream(e){if(this.settings.simulateStreaming){const _=await this.doGenerate(e);return{stream:new ReadableStream({start(d){if(d.enqueue({type:"response-metadata",..._.response}),_.text&&d.enqueue({type:"text-delta",textDelta:_.text}),_.toolCalls)for(const p of _.toolCalls)d.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:p.toolCallId,toolName:p.toolName,argsTextDelta:p.args}),d.enqueue({type:"tool-call",...p});d.enqueue({type:"finish",finishReason:_.finishReason,usage:_.usage,logprobs:_.logprobs,providerMetadata:_.providerMetadata}),d.close()}}),rawCall:_.rawCall,rawResponse:_.rawResponse,warnings:_.warnings}}const{args:t,warnings:a}=this.getArgs(e),n={...t,stream:!0,stream_options:this.config.compatibility==="strict"?{include_usage:!0}:void 0},{responseHeaders:r,value:s}=await ha({url:this.config.url({path:"/chat/completions",modelId:this.modelId}),headers:ma(this.config.headers(),e.headers),body:n,failedResponseHandler:Ma,successfulResponseHandler:iu(wE),abortSignal:e.abortSignal,fetch:this.config.fetch}),{messages:l,...i}=t,o=[];let u="unknown",c={promptTokens:void 0,completionTokens:void 0},f,m=!0;const{useLegacyFunctionCalling:h}=this.settings,S={openai:{}};return{stream:s.pipeThrough(new TransformStream({transform(_,v){var d,p,y,g,w,E,N,R,j,$,me,ve;if(!_.success){u="error",v.enqueue({type:"error",error:_.error});return}const Qe=_.value;if("error"in Qe){u="error",v.enqueue({type:"error",error:Qe.error});return}if(m&&(m=!1,v.enqueue({type:"response-metadata",...Do(Qe)})),Qe.usage!=null){const{prompt_tokens:H,completion_tokens:re,prompt_tokens_details:K,completion_tokens_details:ee}=Qe.usage;c={promptTokens:H??void 0,completionTokens:re??void 0},(ee==null?void 0:ee.reasoning_tokens)!=null&&(S.openai.reasoningTokens=ee==null?void 0:ee.reasoning_tokens),(ee==null?void 0:ee.accepted_prediction_tokens)!=null&&(S.openai.acceptedPredictionTokens=ee==null?void 0:ee.accepted_prediction_tokens),(ee==null?void 0:ee.rejected_prediction_tokens)!=null&&(S.openai.rejectedPredictionTokens=ee==null?void 0:ee.rejected_prediction_tokens),(K==null?void 0:K.cached_tokens)!=null&&(S.openai.cachedPromptTokens=K==null?void 0:K.cached_tokens)}const Oe=Qe.choices[0];if((Oe==null?void 0:Oe.finish_reason)!=null&&(u=jo(Oe.finish_reason)),(Oe==null?void 0:Oe.delta)==null)return;const Ue=Oe.delta;Ue.content!=null&&v.enqueue({type:"text-delta",textDelta:Ue.content});const U=Km(Oe==null?void 0:Oe.logprobs);U!=null&&U.length&&(f===void 0&&(f=[]),f.push(...U));const Y=h&&Ue.function_call!=null?[{type:"function",id:xn(),function:Ue.function_call,index:0}]:Ue.tool_calls;if(Y!=null)for(const H of Y){const re=H.index;if(o[re]==null){if(H.type!=="function")throw new Qu({data:H,message:"Expected 'function' type."});if(H.id==null)throw new Qu({data:H,message:"Expected 'id' to be a string."});if(((d=H.function)==null?void 0:d.name)==null)throw new Qu({data:H,message:"Expected 'function.name' to be a string."});o[re]={id:H.id,type:"function",function:{name:H.function.name,arguments:(p=H.function.arguments)!=null?p:""},hasFinished:!1};const ee=o[re];((y=ee.function)==null?void 0:y.name)!=null&&((g=ee.function)==null?void 0:g.arguments)!=null&&(ee.function.arguments.length>0&&v.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:ee.id,toolName:ee.function.name,argsTextDelta:ee.function.arguments}),Im(ee.function.arguments)&&(v.enqueue({type:"tool-call",toolCallType:"function",toolCallId:(w=ee.id)!=null?w:xn(),toolName:ee.function.name,args:ee.function.arguments}),ee.hasFinished=!0));continue}const K=o[re];K.hasFinished||(((E=H.function)==null?void 0:E.arguments)!=null&&(K.function.arguments+=(R=(N=H.function)==null?void 0:N.arguments)!=null?R:""),v.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:K.id,toolName:K.function.name,argsTextDelta:(j=H.function.arguments)!=null?j:""}),(($=K.function)==null?void 0:$.name)!=null&&((me=K.function)==null?void 0:me.arguments)!=null&&Im(K.function.arguments)&&(v.enqueue({type:"tool-call",toolCallType:"function",toolCallId:(ve=K.id)!=null?ve:xn(),toolName:K.function.name,args:K.function.arguments}),K.hasFinished=!0))}},flush(_){var v,d;_.enqueue({type:"finish",finishReason:u,logprobs:f,usage:{promptTokens:(v=c.promptTokens)!=null?v:NaN,completionTokens:(d=c.completionTokens)!=null?d:NaN},...S!=null?{providerMetadata:S}:{}})}})),rawCall:{rawPrompt:l,rawSettings:i},rawResponse:{headers:r},request:{body:JSON.stringify(n)},warnings:a}}},C0=A({prompt_tokens:z().nullish(),completion_tokens:z().nullish(),prompt_tokens_details:A({cached_tokens:z().nullish()}).nullish(),completion_tokens_details:A({reasoning_tokens:z().nullish(),accepted_prediction_tokens:z().nullish(),rejected_prediction_tokens:z().nullish()}).nullish()}).nullish(),SE=A({id:T().nullish(),created:z().nullish(),model:T().nullish(),choices:le(A({message:A({role:q("assistant").nullish(),content:T().nullish(),function_call:A({arguments:T(),name:T()}).nullish(),tool_calls:le(A({id:T().nullish(),type:q("function"),function:A({name:T(),arguments:T()})})).nullish()}),index:z(),logprobs:A({content:le(A({token:T(),logprob:z(),top_logprobs:le(A({token:T(),logprob:z()}))})).nullable()}).nullish(),finish_reason:T().nullish()})),usage:C0}),wE=Ye([A({id:T().nullish(),created:z().nullish(),model:T().nullish(),choices:le(A({delta:A({role:Ln(["assistant"]).nullish(),content:T().nullish(),function_call:A({name:T().optional(),arguments:T().optional()}).nullish(),tool_calls:le(A({index:z(),id:T().nullish(),type:q("function").nullish(),function:A({name:T().nullish(),arguments:T().nullish()})})).nullish()}).nullish(),logprobs:A({content:le(A({token:T(),logprob:z(),top_logprobs:le(A({token:T(),logprob:z()}))})).nullable()}).nullish(),finish_reason:T().nullish(),index:z()})),usage:C0}),Dd]);function gf(e){return e.startsWith("o")}function TE(e){return e.startsWith("gpt-4o-audio-preview")}function EE(e){var t,a;return gf(e)?(a=(t=AE[e])==null?void 0:t.systemMessageMode)!=null?a:"developer":"system"}var AE={"o1-mini":{systemMessageMode:"remove"},"o1-mini-2024-09-12":{systemMessageMode:"remove"},"o1-preview":{systemMessageMode:"remove"},"o1-preview-2024-09-12":{systemMessageMode:"remove"},o3:{systemMessageMode:"developer"},"o3-2025-04-16":{systemMessageMode:"developer"},"o3-mini":{systemMessageMode:"developer"},"o3-mini-2025-01-31":{systemMessageMode:"developer"},"o4-mini":{systemMessageMode:"developer"},"o4-mini-2025-04-16":{systemMessageMode:"developer"}};function RE({prompt:e,inputFormat:t,user:a="user",assistant:n="assistant"}){if(t==="prompt"&&e.length===1&&e[0].role==="user"&&e[0].content.length===1&&e[0].content[0].type==="text")return{prompt:e[0].content[0].text};let r="";e[0].role==="system"&&(r+=`${e[0].content}

`,e=e.slice(1));for(const{role:s,content:l}of e)switch(s){case"system":throw new $a({message:"Unexpected system message in prompt: ${content}",prompt:e});case"user":{const i=l.map(o=>{switch(o.type){case"text":return o.text;case"image":throw new Le({functionality:"images"})}}).join("");r+=`${a}:
${i}

`;break}case"assistant":{const i=l.map(o=>{switch(o.type){case"text":return o.text;case"tool-call":throw new Le({functionality:"tool-call messages"})}}).join("");r+=`${n}:
${i}

`;break}case"tool":throw new Le({functionality:"tool messages"});default:{const i=s;throw new Error(`Unsupported role: ${i}`)}}return r+=`${n}:
`,{prompt:r,stopSequences:[`
${a}:`]}}function Xm(e){return e==null?void 0:e.tokens.map((t,a)=>({token:t,logprob:e.token_logprobs[a],topLogprobs:e.top_logprobs?Object.entries(e.top_logprobs[a]).map(([n,r])=>({token:n,logprob:r})):[]}))}var NE=class{constructor(e,t,a){this.specificationVersion="v1",this.defaultObjectGenerationMode=void 0,this.modelId=e,this.settings=t,this.config=a}get provider(){return this.config.provider}getArgs({mode:e,inputFormat:t,prompt:a,maxTokens:n,temperature:r,topP:s,topK:l,frequencyPenalty:i,presencePenalty:o,stopSequences:u,responseFormat:c,seed:f}){var m;const h=e.type,S=[];l!=null&&S.push({type:"unsupported-setting",setting:"topK"}),c!=null&&c.type!=="text"&&S.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format is not supported."});const{prompt:_,stopSequences:v}=RE({prompt:a,inputFormat:t}),d=[...v??[],...u??[]],p={model:this.modelId,echo:this.settings.echo,logit_bias:this.settings.logitBias,logprobs:typeof this.settings.logprobs=="number"?this.settings.logprobs:typeof this.settings.logprobs=="boolean"&&this.settings.logprobs?0:void 0,suffix:this.settings.suffix,user:this.settings.user,max_tokens:n,temperature:r,top_p:s,frequency_penalty:i,presence_penalty:o,seed:f,prompt:_,stop:d.length>0?d:void 0};switch(h){case"regular":{if((m=e.tools)!=null&&m.length)throw new Le({functionality:"tools"});if(e.toolChoice)throw new Le({functionality:"toolChoice"});return{args:p,warnings:S}}case"object-json":throw new Le({functionality:"object-json mode"});case"object-tool":throw new Le({functionality:"object-tool mode"});default:{const y=h;throw new Error(`Unsupported type: ${y}`)}}}async doGenerate(e){const{args:t,warnings:a}=this.getArgs(e),{responseHeaders:n,value:r,rawValue:s}=await ha({url:this.config.url({path:"/completions",modelId:this.modelId}),headers:ma(this.config.headers(),e.headers),body:t,failedResponseHandler:Ma,successfulResponseHandler:_r(kE),abortSignal:e.abortSignal,fetch:this.config.fetch}),{prompt:l,...i}=t,o=r.choices[0];return{text:o.text,usage:{promptTokens:r.usage.prompt_tokens,completionTokens:r.usage.completion_tokens},finishReason:jo(o.finish_reason),logprobs:Xm(o.logprobs),rawCall:{rawPrompt:l,rawSettings:i},rawResponse:{headers:n,body:s},response:Do(r),warnings:a,request:{body:JSON.stringify(t)}}}async doStream(e){const{args:t,warnings:a}=this.getArgs(e),n={...t,stream:!0,stream_options:this.config.compatibility==="strict"?{include_usage:!0}:void 0},{responseHeaders:r,value:s}=await ha({url:this.config.url({path:"/completions",modelId:this.modelId}),headers:ma(this.config.headers(),e.headers),body:n,failedResponseHandler:Ma,successfulResponseHandler:iu(CE),abortSignal:e.abortSignal,fetch:this.config.fetch}),{prompt:l,...i}=t;let o="unknown",u={promptTokens:Number.NaN,completionTokens:Number.NaN},c,f=!0;return{stream:s.pipeThrough(new TransformStream({transform(m,h){if(!m.success){o="error",h.enqueue({type:"error",error:m.error});return}const S=m.value;if("error"in S){o="error",h.enqueue({type:"error",error:S.error});return}f&&(f=!1,h.enqueue({type:"response-metadata",...Do(S)})),S.usage!=null&&(u={promptTokens:S.usage.prompt_tokens,completionTokens:S.usage.completion_tokens});const _=S.choices[0];(_==null?void 0:_.finish_reason)!=null&&(o=jo(_.finish_reason)),(_==null?void 0:_.text)!=null&&h.enqueue({type:"text-delta",textDelta:_.text});const v=Xm(_==null?void 0:_.logprobs);v!=null&&v.length&&(c===void 0&&(c=[]),c.push(...v))},flush(m){m.enqueue({type:"finish",finishReason:o,logprobs:c,usage:u})}})),rawCall:{rawPrompt:l,rawSettings:i},rawResponse:{headers:r},warnings:a,request:{body:JSON.stringify(n)}}}},kE=A({id:T().nullish(),created:z().nullish(),model:T().nullish(),choices:le(A({text:T(),finish_reason:T(),logprobs:A({tokens:le(T()),token_logprobs:le(z()),top_logprobs:le(Al(T(),z())).nullable()}).nullish()})),usage:A({prompt_tokens:z(),completion_tokens:z()})}),CE=Ye([A({id:T().nullish(),created:z().nullish(),model:T().nullish(),choices:le(A({text:T(),finish_reason:T().nullish(),index:z(),logprobs:A({tokens:le(T()),token_logprobs:le(z()),top_logprobs:le(Al(T(),z())).nullable()}).nullish()})),usage:A({prompt_tokens:z(),completion_tokens:z()}).nullish()}),Dd]),OE=class{constructor(e,t,a){this.specificationVersion="v1",this.modelId=e,this.settings=t,this.config=a}get provider(){return this.config.provider}get maxEmbeddingsPerCall(){var e;return(e=this.settings.maxEmbeddingsPerCall)!=null?e:2048}get supportsParallelCalls(){var e;return(e=this.settings.supportsParallelCalls)!=null?e:!0}async doEmbed({values:e,headers:t,abortSignal:a}){if(e.length>this.maxEmbeddingsPerCall)throw new bT({provider:this.provider,modelId:this.modelId,maxEmbeddingsPerCall:this.maxEmbeddingsPerCall,values:e});const{responseHeaders:n,value:r}=await ha({url:this.config.url({path:"/embeddings",modelId:this.modelId}),headers:ma(this.config.headers(),t),body:{model:this.modelId,input:e,encoding_format:"float",dimensions:this.settings.dimensions,user:this.settings.user},failedResponseHandler:Ma,successfulResponseHandler:_r(ME),abortSignal:a,fetch:this.config.fetch});return{embeddings:r.data.map(s=>s.embedding),usage:r.usage?{tokens:r.usage.prompt_tokens}:void 0,rawResponse:{headers:n}}}},ME=A({data:le(A({embedding:le(z())})),usage:A({prompt_tokens:z()}).nullish()}),jE={"dall-e-3":1,"dall-e-2":10,"gpt-image-1":10},DE=new Set(["gpt-image-1"]),UE=class{constructor(e,t,a){this.modelId=e,this.settings=t,this.config=a,this.specificationVersion="v1"}get maxImagesPerCall(){var e,t;return(t=(e=this.settings.maxImagesPerCall)!=null?e:jE[this.modelId])!=null?t:1}get provider(){return this.config.provider}async doGenerate({prompt:e,n:t,size:a,aspectRatio:n,seed:r,providerOptions:s,headers:l,abortSignal:i}){var o,u,c,f;const m=[];n!=null&&m.push({type:"unsupported-setting",setting:"aspectRatio",details:"This model does not support aspect ratio. Use `size` instead."}),r!=null&&m.push({type:"unsupported-setting",setting:"seed"});const h=(c=(u=(o=this.config._internal)==null?void 0:o.currentDate)==null?void 0:u.call(o))!=null?c:new Date,{value:S,responseHeaders:_}=await ha({url:this.config.url({path:"/images/generations",modelId:this.modelId}),headers:ma(this.config.headers(),l),body:{model:this.modelId,prompt:e,n:t,size:a,...(f=s.openai)!=null?f:{},...DE.has(this.modelId)?{}:{response_format:"b64_json"}},failedResponseHandler:Ma,successfulResponseHandler:_r(zE),abortSignal:i,fetch:this.config.fetch});return{images:S.data.map(v=>v.b64_json),warnings:m,response:{timestamp:h,modelId:this.modelId,headers:_}}}},zE=A({data:le(A({b64_json:T()}))}),IE=A({include:le(T()).nullish(),language:T().nullish(),prompt:T().nullish(),temperature:z().min(0).max(1).nullish().default(0),timestampGranularities:le(Ln(["word","segment"])).nullish().default(["segment"])}),Jm={afrikaans:"af",arabic:"ar",armenian:"hy",azerbaijani:"az",belarusian:"be",bosnian:"bs",bulgarian:"bg",catalan:"ca",chinese:"zh",croatian:"hr",czech:"cs",danish:"da",dutch:"nl",english:"en",estonian:"et",finnish:"fi",french:"fr",galician:"gl",german:"de",greek:"el",hebrew:"he",hindi:"hi",hungarian:"hu",icelandic:"is",indonesian:"id",italian:"it",japanese:"ja",kannada:"kn",kazakh:"kk",korean:"ko",latvian:"lv",lithuanian:"lt",macedonian:"mk",malay:"ms",marathi:"mr",maori:"mi",nepali:"ne",norwegian:"no",persian:"fa",polish:"pl",portuguese:"pt",romanian:"ro",russian:"ru",serbian:"sr",slovak:"sk",slovenian:"sl",spanish:"es",swahili:"sw",swedish:"sv",tagalog:"tl",tamil:"ta",thai:"th",turkish:"tr",ukrainian:"uk",urdu:"ur",vietnamese:"vi",welsh:"cy"},LE=class{constructor(e,t){this.modelId=e,this.config=t,this.specificationVersion="v1"}get provider(){return this.config.provider}getArgs({audio:e,mediaType:t,providerOptions:a}){var n,r,s,l,i;const o=[],u=lu({provider:"openai",providerOptions:a,schema:IE}),c=new FormData,f=e instanceof Uint8Array?new Blob([e]):new Blob([ou(e)]);if(c.append("model",this.modelId),c.append("file",new File([f],"audio",{type:t})),u){const m={include:(n=u.include)!=null?n:void 0,language:(r=u.language)!=null?r:void 0,prompt:(s=u.prompt)!=null?s:void 0,temperature:(l=u.temperature)!=null?l:void 0,timestamp_granularities:(i=u.timestampGranularities)!=null?i:void 0};for(const h in m){const S=m[h];S!==void 0&&c.append(h,String(S))}}return{formData:c,warnings:o}}async doGenerate(e){var t,a,n,r,s,l;const i=(n=(a=(t=this.config._internal)==null?void 0:t.currentDate)==null?void 0:a.call(t))!=null?n:new Date,{formData:o,warnings:u}=this.getArgs(e),{value:c,responseHeaders:f,rawValue:m}=await BT({url:this.config.url({path:"/audio/transcriptions",modelId:this.modelId}),headers:ma(this.config.headers(),e.headers),formData:o,failedResponseHandler:Ma,successfulResponseHandler:_r(qE),abortSignal:e.abortSignal,fetch:this.config.fetch}),h=c.language!=null&&c.language in Jm?Jm[c.language]:void 0;return{text:c.text,segments:(s=(r=c.words)==null?void 0:r.map(S=>({text:S.word,startSecond:S.start,endSecond:S.end})))!=null?s:[],language:h,durationInSeconds:(l=c.duration)!=null?l:void 0,warnings:u,response:{timestamp:i,modelId:this.modelId,headers:f,body:m}}}},qE=A({text:T(),language:T().nullish(),duration:z().nullish(),words:le(A({word:T(),start:z(),end:z()})).nullish()});function HE({prompt:e,systemMessageMode:t}){const a=[],n=[];for(const{role:r,content:s}of e)switch(r){case"system":{switch(t){case"system":{a.push({role:"system",content:s});break}case"developer":{a.push({role:"developer",content:s});break}case"remove":{n.push({type:"other",message:"system messages are removed for this model"});break}default:{const l=t;throw new Error(`Unsupported system message mode: ${l}`)}}break}case"user":{a.push({role:"user",content:s.map((l,i)=>{var o,u,c,f;switch(l.type){case"text":return{type:"input_text",text:l.text};case"image":return{type:"input_image",image_url:l.image instanceof URL?l.image.toString():`data:${(o=l.mimeType)!=null?o:"image/jpeg"};base64,${os(l.image)}`,detail:(c=(u=l.providerMetadata)==null?void 0:u.openai)==null?void 0:c.imageDetail};case"file":{if(l.data instanceof URL)throw new Le({functionality:"File URLs in user messages"});switch(l.mimeType){case"application/pdf":return{type:"input_file",filename:(f=l.filename)!=null?f:`part-${i}.pdf`,file_data:`data:application/pdf;base64,${l.data}`};default:throw new Le({functionality:"Only PDF files are supported in user messages"})}}}})});break}case"assistant":{for(const l of s)switch(l.type){case"text":{a.push({role:"assistant",content:[{type:"output_text",text:l.text}]});break}case"tool-call":{a.push({type:"function_call",call_id:l.toolCallId,name:l.toolName,arguments:JSON.stringify(l.args)});break}}break}case"tool":{for(const l of s)a.push({type:"function_call_output",call_id:l.toolCallId,output:JSON.stringify(l.result)});break}default:{const l=r;throw new Error(`Unsupported role: ${l}`)}}return{messages:a,warnings:n}}function Qm({finishReason:e,hasToolCalls:t}){switch(e){case void 0:case null:return t?"tool-calls":"stop";case"max_output_tokens":return"length";case"content_filter":return"content-filter";default:return t?"tool-calls":"unknown"}}function BE({mode:e,strict:t}){var a;const n=(a=e.tools)!=null&&a.length?e.tools:void 0,r=[];if(n==null)return{tools:void 0,tool_choice:void 0,toolWarnings:r};const s=e.toolChoice,l=[];for(const o of n)switch(o.type){case"function":l.push({type:"function",name:o.name,description:o.description,parameters:o.parameters,strict:t?!0:void 0});break;case"provider-defined":switch(o.id){case"openai.web_search_preview":l.push({type:"web_search_preview",search_context_size:o.args.searchContextSize,user_location:o.args.userLocation});break;default:r.push({type:"unsupported-tool",tool:o});break}break;default:r.push({type:"unsupported-tool",tool:o});break}if(s==null)return{tools:l,tool_choice:void 0,toolWarnings:r};const i=s.type;switch(i){case"auto":case"none":case"required":return{tools:l,tool_choice:i,toolWarnings:r};case"tool":return s.toolName==="web_search_preview"?{tools:l,tool_choice:{type:"web_search_preview"},toolWarnings:r}:{tools:l,tool_choice:{type:"function",name:s.toolName},toolWarnings:r};default:{const o=i;throw new Le({functionality:`Unsupported tool choice type: ${o}`})}}}var $E=class{constructor(e,t){this.specificationVersion="v1",this.defaultObjectGenerationMode="json",this.supportsStructuredOutputs=!0,this.modelId=e,this.config=t}get provider(){return this.config.provider}getArgs({mode:e,maxTokens:t,temperature:a,stopSequences:n,topP:r,topK:s,presencePenalty:l,frequencyPenalty:i,seed:o,prompt:u,providerMetadata:c,responseFormat:f}){var m,h,S;const _=[],v=lA(this.modelId),d=e.type;s!=null&&_.push({type:"unsupported-setting",setting:"topK"}),o!=null&&_.push({type:"unsupported-setting",setting:"seed"}),l!=null&&_.push({type:"unsupported-setting",setting:"presencePenalty"}),i!=null&&_.push({type:"unsupported-setting",setting:"frequencyPenalty"}),n!=null&&_.push({type:"unsupported-setting",setting:"stopSequences"});const{messages:p,warnings:y}=HE({prompt:u,systemMessageMode:v.systemMessageMode});_.push(...y);const g=lu({provider:"openai",providerOptions:c,schema:iA}),w=(m=g==null?void 0:g.strictSchemas)!=null?m:!0,E={model:this.modelId,input:p,temperature:a,top_p:r,max_output_tokens:t,...(f==null?void 0:f.type)==="json"&&{text:{format:f.schema!=null?{type:"json_schema",strict:w,name:(h=f.name)!=null?h:"response",description:f.description,schema:f.schema}:{type:"json_object"}}},metadata:g==null?void 0:g.metadata,parallel_tool_calls:g==null?void 0:g.parallelToolCalls,previous_response_id:g==null?void 0:g.previousResponseId,store:g==null?void 0:g.store,user:g==null?void 0:g.user,instructions:g==null?void 0:g.instructions,...v.isReasoningModel&&((g==null?void 0:g.reasoningEffort)!=null||(g==null?void 0:g.reasoningSummary)!=null)&&{reasoning:{...(g==null?void 0:g.reasoningEffort)!=null&&{effort:g.reasoningEffort},...(g==null?void 0:g.reasoningSummary)!=null&&{summary:g.reasoningSummary}}},...v.requiredAutoTruncation&&{truncation:"auto"}};switch(v.isReasoningModel&&(E.temperature!=null&&(E.temperature=void 0,_.push({type:"unsupported-setting",setting:"temperature",details:"temperature is not supported for reasoning models"})),E.top_p!=null&&(E.top_p=void 0,_.push({type:"unsupported-setting",setting:"topP",details:"topP is not supported for reasoning models"}))),d){case"regular":{const{tools:N,tool_choice:R,toolWarnings:j}=BE({mode:e,strict:w});return{args:{...E,tools:N,tool_choice:R},warnings:[..._,...j]}}case"object-json":return{args:{...E,text:{format:e.schema!=null?{type:"json_schema",strict:w,name:(S=e.name)!=null?S:"response",description:e.description,schema:e.schema}:{type:"json_object"}}},warnings:_};case"object-tool":return{args:{...E,tool_choice:{type:"function",name:e.tool.name},tools:[{type:"function",name:e.tool.name,description:e.tool.description,parameters:e.tool.parameters,strict:w}]},warnings:_};default:{const N=d;throw new Error(`Unsupported type: ${N}`)}}}async doGenerate(e){var t,a,n,r,s,l,i;const{args:o,warnings:u}=this.getArgs(e),{responseHeaders:c,value:f,rawValue:m}=await ha({url:this.config.url({path:"/responses",modelId:this.modelId}),headers:ma(this.config.headers(),e.headers),body:o,failedResponseHandler:Ma,successfulResponseHandler:_r(A({id:T(),created_at:z(),model:T(),output:le(lr("type",[A({type:q("message"),role:q("assistant"),content:le(A({type:q("output_text"),text:T(),annotations:le(A({type:q("url_citation"),start_index:z(),end_index:z(),url:T(),title:T()}))}))}),A({type:q("function_call"),call_id:T(),name:T(),arguments:T()}),A({type:q("web_search_call")}),A({type:q("computer_call")}),A({type:q("reasoning"),summary:le(A({type:q("summary_text"),text:T()}))})])),incomplete_details:A({reason:T()}).nullable(),usage:O0})),abortSignal:e.abortSignal,fetch:this.config.fetch}),h=f.output.filter(v=>v.type==="message").flatMap(v=>v.content).filter(v=>v.type==="output_text"),S=f.output.filter(v=>v.type==="function_call").map(v=>({toolCallType:"function",toolCallId:v.call_id,toolName:v.name,args:v.arguments})),_=(a=(t=f.output.find(v=>v.type==="reasoning"))==null?void 0:t.summary)!=null?a:null;return{text:h.map(v=>v.text).join(`
`),sources:h.flatMap(v=>v.annotations.map(d=>{var p,y,g;return{sourceType:"url",id:(g=(y=(p=this.config).generateId)==null?void 0:y.call(p))!=null?g:xn(),url:d.url,title:d.title}})),finishReason:Qm({finishReason:(n=f.incomplete_details)==null?void 0:n.reason,hasToolCalls:S.length>0}),toolCalls:S.length>0?S:void 0,reasoning:_?_.map(v=>({type:"text",text:v.text})):void 0,usage:{promptTokens:f.usage.input_tokens,completionTokens:f.usage.output_tokens},rawCall:{rawPrompt:void 0,rawSettings:{}},rawResponse:{headers:c,body:m},request:{body:JSON.stringify(o)},response:{id:f.id,timestamp:new Date(f.created_at*1e3),modelId:f.model},providerMetadata:{openai:{responseId:f.id,cachedPromptTokens:(s=(r=f.usage.input_tokens_details)==null?void 0:r.cached_tokens)!=null?s:null,reasoningTokens:(i=(l=f.usage.output_tokens_details)==null?void 0:l.reasoning_tokens)!=null?i:null}},warnings:u}}async doStream(e){const{args:t,warnings:a}=this.getArgs(e),{responseHeaders:n,value:r}=await ha({url:this.config.url({path:"/responses",modelId:this.modelId}),headers:ma(this.config.headers(),e.headers),body:{...t,stream:!0},failedResponseHandler:Ma,successfulResponseHandler:iu(QE),abortSignal:e.abortSignal,fetch:this.config.fetch}),s=this;let l="unknown",i=NaN,o=NaN,u=null,c=null,f=null;const m={};let h=!1;return{stream:r.pipeThrough(new TransformStream({transform(S,_){var v,d,p,y,g,w,E,N;if(!S.success){l="error",_.enqueue({type:"error",error:S.error});return}const R=S.value;if(nA(R))R.item.type==="function_call"&&(m[R.output_index]={toolName:R.item.name,toolCallId:R.item.call_id},_.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:R.item.call_id,toolName:R.item.name,argsTextDelta:R.item.arguments}));else if(aA(R)){const j=m[R.output_index];j!=null&&_.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:j.toolCallId,toolName:j.toolName,argsTextDelta:R.delta})}else tA(R)?(f=R.response.id,_.enqueue({type:"response-metadata",id:R.response.id,timestamp:new Date(R.response.created_at*1e3),modelId:R.response.model})):FE(R)?_.enqueue({type:"text-delta",textDelta:R.delta}):sA(R)?_.enqueue({type:"reasoning",textDelta:R.delta}):WE(R)&&R.item.type==="function_call"?(m[R.output_index]=void 0,h=!0,_.enqueue({type:"tool-call",toolCallType:"function",toolCallId:R.item.call_id,toolName:R.item.name,args:R.item.arguments})):eA(R)?(l=Qm({finishReason:(v=R.response.incomplete_details)==null?void 0:v.reason,hasToolCalls:h}),i=R.response.usage.input_tokens,o=R.response.usage.output_tokens,u=(p=(d=R.response.usage.input_tokens_details)==null?void 0:d.cached_tokens)!=null?p:u,c=(g=(y=R.response.usage.output_tokens_details)==null?void 0:y.reasoning_tokens)!=null?g:c):rA(R)&&_.enqueue({type:"source",source:{sourceType:"url",id:(N=(E=(w=s.config).generateId)==null?void 0:E.call(w))!=null?N:xn(),url:R.annotation.url,title:R.annotation.title}})},flush(S){S.enqueue({type:"finish",finishReason:l,usage:{promptTokens:i,completionTokens:o},...(u!=null||c!=null)&&{providerMetadata:{openai:{responseId:f,cachedPromptTokens:u,reasoningTokens:c}}}})}})),rawCall:{rawPrompt:void 0,rawSettings:{}},rawResponse:{headers:n},request:{body:JSON.stringify(t)},warnings:a}}},O0=A({input_tokens:z(),input_tokens_details:A({cached_tokens:z().nullish()}).nullish(),output_tokens:z(),output_tokens_details:A({reasoning_tokens:z().nullish()}).nullish()}),VE=A({type:q("response.output_text.delta"),delta:T()}),ZE=A({type:Ln(["response.completed","response.incomplete"]),response:A({incomplete_details:A({reason:T()}).nullish(),usage:O0})}),PE=A({type:q("response.created"),response:A({id:T(),created_at:z(),model:T()})}),YE=A({type:q("response.output_item.done"),output_index:z(),item:lr("type",[A({type:q("message")}),A({type:q("function_call"),id:T(),call_id:T(),name:T(),arguments:T(),status:q("completed")})])}),GE=A({type:q("response.function_call_arguments.delta"),item_id:T(),output_index:z(),delta:T()}),KE=A({type:q("response.output_item.added"),output_index:z(),item:lr("type",[A({type:q("message")}),A({type:q("function_call"),id:T(),call_id:T(),name:T(),arguments:T()})])}),XE=A({type:q("response.output_text.annotation.added"),annotation:A({type:q("url_citation"),url:T(),title:T()})}),JE=A({type:q("response.reasoning_summary_text.delta"),item_id:T(),output_index:z(),summary_index:z(),delta:T()}),QE=Ye([VE,ZE,PE,YE,GE,KE,XE,JE,A({type:T()}).passthrough()]);function FE(e){return e.type==="response.output_text.delta"}function WE(e){return e.type==="response.output_item.done"}function eA(e){return e.type==="response.completed"||e.type==="response.incomplete"}function tA(e){return e.type==="response.created"}function aA(e){return e.type==="response.function_call_arguments.delta"}function nA(e){return e.type==="response.output_item.added"}function rA(e){return e.type==="response.output_text.annotation.added"}function sA(e){return e.type==="response.reasoning_summary_text.delta"}function lA(e){return e.startsWith("o")?e.startsWith("o1-mini")||e.startsWith("o1-preview")?{isReasoningModel:!0,systemMessageMode:"remove",requiredAutoTruncation:!1}:{isReasoningModel:!0,systemMessageMode:"developer",requiredAutoTruncation:!1}:{isReasoningModel:!1,systemMessageMode:"system",requiredAutoTruncation:!1}}var iA=A({metadata:k0().nullish(),parallelToolCalls:aa().nullish(),previousResponseId:T().nullish(),store:aa().nullish(),user:T().nullish(),reasoningEffort:T().nullish(),strictSchemas:aa().nullish(),instructions:T().nullish(),reasoningSummary:T().nullish()}),oA=A({});function uA({searchContextSize:e,userLocation:t}={}){return{type:"provider-defined",id:"openai.web_search_preview",args:{searchContextSize:e,userLocation:t},parameters:oA}}var cA={webSearchPreview:uA},fA=A({instructions:T().nullish(),speed:z().min(.25).max(4).default(1).nullish()}),dA=class{constructor(e,t){this.modelId=e,this.config=t,this.specificationVersion="v1"}get provider(){return this.config.provider}getArgs({text:e,voice:t="alloy",outputFormat:a="mp3",speed:n,instructions:r,providerOptions:s}){const l=[],i=lu({provider:"openai",providerOptions:s,schema:fA}),o={model:this.modelId,input:e,voice:t,response_format:"mp3",speed:n,instructions:r};if(a&&(["mp3","opus","aac","flac","wav","pcm"].includes(a)?o.response_format=a:l.push({type:"unsupported-setting",setting:"outputFormat",details:`Unsupported output format: ${a}. Using mp3 instead.`})),i){const u={};for(const c in u){const f=u[c];f!==void 0&&(o[c]=f)}}return{requestBody:o,warnings:l}}async doGenerate(e){var t,a,n;const r=(n=(a=(t=this.config._internal)==null?void 0:t.currentDate)==null?void 0:a.call(t))!=null?n:new Date,{requestBody:s,warnings:l}=this.getArgs(e),{value:i,responseHeaders:o,rawValue:u}=await ha({url:this.config.url({path:"/audio/speech",modelId:this.modelId}),headers:ma(this.config.headers(),e.headers),body:s,failedResponseHandler:Ma,successfulResponseHandler:VT(),abortSignal:e.abortSignal,fetch:this.config.fetch});return{audio:i,warnings:l,request:{body:JSON.stringify(s)},response:{timestamp:r,modelId:this.modelId,headers:o,body:u}}}};function M0(e={}){var t,a,n;const r=(t=w0(e.baseURL))!=null?t:"https://api.openai.com/v1",s=(a=e.compatibility)!=null?a:"compatible",l=(n=e.name)!=null?n:"openai",i=()=>({Authorization:`Bearer ${_0({apiKey:e.apiKey,environmentVariableName:"OPENAI_API_KEY",description:"OpenAI"})}`,"OpenAI-Organization":e.organization,"OpenAI-Project":e.project,...e.headers}),o=(d,p={})=>new xE(d,p,{provider:`${l}.chat`,url:({path:y})=>`${r}${y}`,headers:i,compatibility:s,fetch:e.fetch}),u=(d,p={})=>new NE(d,p,{provider:`${l}.completion`,url:({path:y})=>`${r}${y}`,headers:i,compatibility:s,fetch:e.fetch}),c=(d,p={})=>new OE(d,p,{provider:`${l}.embedding`,url:({path:y})=>`${r}${y}`,headers:i,fetch:e.fetch}),f=(d,p={})=>new UE(d,p,{provider:`${l}.image`,url:({path:y})=>`${r}${y}`,headers:i,fetch:e.fetch}),m=d=>new LE(d,{provider:`${l}.transcription`,url:({path:p})=>`${r}${p}`,headers:i,fetch:e.fetch}),h=d=>new dA(d,{provider:`${l}.speech`,url:({path:p})=>`${r}${p}`,headers:i,fetch:e.fetch}),S=(d,p)=>{if(new.target)throw new Error("The OpenAI model function cannot be called with the new keyword.");return d==="gpt-3.5-turbo-instruct"?u(d,p):o(d,p)},_=d=>new $E(d,{provider:`${l}.responses`,url:({path:p})=>`${r}${p}`,headers:i,fetch:e.fetch}),v=function(d,p){return S(d,p)};return v.languageModel=S,v.chat=o,v.completion=u,v.responses=_,v.embedding=c,v.textEmbedding=c,v.textEmbeddingModel=c,v.image=f,v.imageModel=f,v.transcription=m,v.transcriptionModel=m,v.speech=h,v.speechModel=h,v.tools=cA,v}M0({compatibility:"strict"});var pA=A({type:q("error"),error:A({type:T(),message:T()})}),Fm=S0({errorSchema:pA,errorToMessage:e=>e.error.message});function mA(e){var t;const a=(t=e.tools)!=null&&t.length?e.tools:void 0,n=[],r=new Set;if(a==null)return{tools:void 0,tool_choice:void 0,toolWarnings:n,betas:r};const s=[];for(const o of a)switch(o.type){case"function":s.push({name:o.name,description:o.description,input_schema:o.parameters});break;case"provider-defined":switch(o.id){case"anthropic.computer_20250124":r.add("computer-use-2025-01-24"),s.push({name:o.name,type:"computer_20250124",display_width_px:o.args.displayWidthPx,display_height_px:o.args.displayHeightPx,display_number:o.args.displayNumber});break;case"anthropic.computer_20241022":r.add("computer-use-2024-10-22"),s.push({name:o.name,type:"computer_20241022",display_width_px:o.args.displayWidthPx,display_height_px:o.args.displayHeightPx,display_number:o.args.displayNumber});break;case"anthropic.text_editor_20250124":r.add("computer-use-2025-01-24"),s.push({name:o.name,type:"text_editor_20250124"});break;case"anthropic.text_editor_20241022":r.add("computer-use-2024-10-22"),s.push({name:o.name,type:"text_editor_20241022"});break;case"anthropic.bash_20250124":r.add("computer-use-2025-01-24"),s.push({name:o.name,type:"bash_20250124"});break;case"anthropic.bash_20241022":r.add("computer-use-2024-10-22"),s.push({name:o.name,type:"bash_20241022"});break;default:n.push({type:"unsupported-tool",tool:o});break}break;default:n.push({type:"unsupported-tool",tool:o});break}const l=e.toolChoice;if(l==null)return{tools:s,tool_choice:void 0,toolWarnings:n,betas:r};const i=l.type;switch(i){case"auto":return{tools:s,tool_choice:{type:"auto"},toolWarnings:n,betas:r};case"required":return{tools:s,tool_choice:{type:"any"},toolWarnings:n,betas:r};case"none":return{tools:void 0,tool_choice:void 0,toolWarnings:n,betas:r};case"tool":return{tools:s,tool_choice:{type:"tool",name:l.toolName},toolWarnings:n,betas:r};default:{const o=i;throw new Le({functionality:`Unsupported tool choice type: ${o}`})}}}function hA({prompt:e,sendReasoning:t,warnings:a}){var n,r,s,l;const i=new Set,o=gA(e);let u;const c=[];function f(m){var h;const S=m==null?void 0:m.anthropic;return(h=S==null?void 0:S.cacheControl)!=null?h:S==null?void 0:S.cache_control}for(let m=0;m<o.length;m++){const h=o[m],S=m===o.length-1,_=h.type;switch(_){case"system":{if(u!=null)throw new Le({functionality:"Multiple system messages that are separated by user/assistant messages"});u=h.messages.map(({content:v,providerMetadata:d})=>({type:"text",text:v,cache_control:f(d)}));break}case"user":{const v=[];for(const d of h.messages){const{role:p,content:y}=d;switch(p){case"user":{for(let g=0;g<y.length;g++){const w=y[g],E=g===y.length-1,N=(n=f(w.providerMetadata))!=null?n:E?f(d.providerMetadata):void 0;switch(w.type){case"text":{v.push({type:"text",text:w.text,cache_control:N});break}case"image":{v.push({type:"image",source:w.image instanceof URL?{type:"url",url:w.image.toString()}:{type:"base64",media_type:(r=w.mimeType)!=null?r:"image/jpeg",data:os(w.image)},cache_control:N});break}case"file":{if(w.mimeType!=="application/pdf")throw new Le({functionality:"Non-PDF files in user messages"});i.add("pdfs-2024-09-25"),v.push({type:"document",source:w.data instanceof URL?{type:"url",url:w.data.toString()}:{type:"base64",media_type:"application/pdf",data:w.data},cache_control:N});break}}}break}case"tool":{for(let g=0;g<y.length;g++){const w=y[g],E=g===y.length-1,N=(s=f(w.providerMetadata))!=null?s:E?f(d.providerMetadata):void 0,R=w.content!=null?w.content.map(j=>{var $;switch(j.type){case"text":return{type:"text",text:j.text,cache_control:void 0};case"image":return{type:"image",source:{type:"base64",media_type:($=j.mimeType)!=null?$:"image/jpeg",data:j.data},cache_control:void 0}}}):JSON.stringify(w.result);v.push({type:"tool_result",tool_use_id:w.toolCallId,content:R,is_error:w.isError,cache_control:N})}break}default:{const g=p;throw new Error(`Unsupported role: ${g}`)}}}c.push({role:"user",content:v});break}case"assistant":{const v=[];for(let d=0;d<h.messages.length;d++){const p=h.messages[d],y=d===h.messages.length-1,{content:g}=p;for(let w=0;w<g.length;w++){const E=g[w],N=w===g.length-1,R=(l=f(E.providerMetadata))!=null?l:N?f(p.providerMetadata):void 0;switch(E.type){case"text":{v.push({type:"text",text:S&&y&&N?E.text.trim():E.text,cache_control:R});break}case"reasoning":{t?v.push({type:"thinking",thinking:E.text,signature:E.signature,cache_control:R}):a.push({type:"other",message:"sending reasoning content is disabled for this model"});break}case"redacted-reasoning":{v.push({type:"redacted_thinking",data:E.data,cache_control:R});break}case"tool-call":{v.push({type:"tool_use",id:E.toolCallId,name:E.toolName,input:E.args,cache_control:R});break}}}}c.push({role:"assistant",content:v});break}default:{const v=_;throw new Error(`Unsupported type: ${v}`)}}}return{prompt:{system:u,messages:c},betas:i}}function gA(e){const t=[];let a;for(const n of e){const{role:r}=n;switch(r){case"system":{(a==null?void 0:a.type)!=="system"&&(a={type:"system",messages:[]},t.push(a)),a.messages.push(n);break}case"assistant":{(a==null?void 0:a.type)!=="assistant"&&(a={type:"assistant",messages:[]},t.push(a)),a.messages.push(n);break}case"user":{(a==null?void 0:a.type)!=="user"&&(a={type:"user",messages:[]},t.push(a)),a.messages.push(n);break}case"tool":{(a==null?void 0:a.type)!=="user"&&(a={type:"user",messages:[]},t.push(a)),a.messages.push(n);break}default:{const s=r;throw new Error(`Unsupported role: ${s}`)}}}return t}function Wm(e){switch(e){case"end_turn":case"stop_sequence":return"stop";case"tool_use":return"tool-calls";case"max_tokens":return"length";default:return"unknown"}}var yA=class{constructor(e,t,a){this.specificationVersion="v1",this.defaultObjectGenerationMode="tool",this.modelId=e,this.settings=t,this.config=a}supportsUrl(e){return e.protocol==="https:"}get provider(){return this.config.provider}get supportsImageUrls(){return this.config.supportsImageUrls}async getArgs({mode:e,prompt:t,maxTokens:a=4096,temperature:n,topP:r,topK:s,frequencyPenalty:l,presencePenalty:i,stopSequences:o,responseFormat:u,seed:c,providerMetadata:f}){var m,h,S;const _=e.type,v=[];l!=null&&v.push({type:"unsupported-setting",setting:"frequencyPenalty"}),i!=null&&v.push({type:"unsupported-setting",setting:"presencePenalty"}),c!=null&&v.push({type:"unsupported-setting",setting:"seed"}),u!=null&&u.type!=="text"&&v.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format is not supported."});const{prompt:d,betas:p}=hA({prompt:t,sendReasoning:(m=this.settings.sendReasoning)!=null?m:!0,warnings:v}),y=lu({provider:"anthropic",providerOptions:f,schema:_A}),g=((h=y==null?void 0:y.thinking)==null?void 0:h.type)==="enabled",w=(S=y==null?void 0:y.thinking)==null?void 0:S.budgetTokens,E={model:this.modelId,max_tokens:a,temperature:n,top_k:s,top_p:r,stop_sequences:o,...g&&{thinking:{type:"enabled",budget_tokens:w}},system:d.system,messages:d.messages};if(g){if(w==null)throw new Le({functionality:"thinking requires a budget"});E.temperature!=null&&(E.temperature=void 0,v.push({type:"unsupported-setting",setting:"temperature",details:"temperature is not supported when thinking is enabled"})),s!=null&&(E.top_k=void 0,v.push({type:"unsupported-setting",setting:"topK",details:"topK is not supported when thinking is enabled"})),r!=null&&(E.top_p=void 0,v.push({type:"unsupported-setting",setting:"topP",details:"topP is not supported when thinking is enabled"})),E.max_tokens=a+w}switch(_){case"regular":{const{tools:N,tool_choice:R,toolWarnings:j,betas:$}=mA(e);return{args:{...E,tools:N,tool_choice:R},warnings:[...v,...j],betas:new Set([...p,...$])}}case"object-json":throw new Le({functionality:"json-mode object generation"});case"object-tool":{const{name:N,description:R,parameters:j}=e.tool;return{args:{...E,tools:[{name:N,description:R,input_schema:j}],tool_choice:{type:"tool",name:N}},warnings:v,betas:p}}default:{const N=_;throw new Error(`Unsupported type: ${N}`)}}}async getHeaders({betas:e,headers:t}){return ma(await $T(this.config.headers),e.size>0?{"anthropic-beta":Array.from(e).join(",")}:{},t)}buildRequestUrl(e){var t,a,n;return(n=(a=(t=this.config).buildRequestUrl)==null?void 0:a.call(t,this.config.baseURL,e))!=null?n:`${this.config.baseURL}/messages`}transformRequestBody(e){var t,a,n;return(n=(a=(t=this.config).transformRequestBody)==null?void 0:a.call(t,e))!=null?n:e}async doGenerate(e){var t,a,n,r;const{args:s,warnings:l,betas:i}=await this.getArgs(e),{responseHeaders:o,value:u,rawValue:c}=await ha({url:this.buildRequestUrl(!1),headers:await this.getHeaders({betas:i,headers:e.headers}),body:this.transformRequestBody(s),failedResponseHandler:Fm,successfulResponseHandler:_r(vA),abortSignal:e.abortSignal,fetch:this.config.fetch}),{messages:f,...m}=s;let h="";for(const v of u.content)v.type==="text"&&(h+=v.text);let S;if(u.content.some(v=>v.type==="tool_use")){S=[];for(const v of u.content)v.type==="tool_use"&&S.push({toolCallType:"function",toolCallId:v.id,toolName:v.name,args:JSON.stringify(v.input)})}const _=u.content.filter(v=>v.type==="redacted_thinking"||v.type==="thinking").map(v=>v.type==="thinking"?{type:"text",text:v.thinking,signature:v.signature}:{type:"redacted",data:v.data});return{text:h,reasoning:_.length>0?_:void 0,toolCalls:S,finishReason:Wm(u.stop_reason),usage:{promptTokens:u.usage.input_tokens,completionTokens:u.usage.output_tokens},rawCall:{rawPrompt:f,rawSettings:m},rawResponse:{headers:o,body:c},response:{id:(t=u.id)!=null?t:void 0,modelId:(a=u.model)!=null?a:void 0},warnings:l,providerMetadata:{anthropic:{cacheCreationInputTokens:(n=u.usage.cache_creation_input_tokens)!=null?n:null,cacheReadInputTokens:(r=u.usage.cache_read_input_tokens)!=null?r:null}},request:{body:JSON.stringify(s)}}}async doStream(e){const{args:t,warnings:a,betas:n}=await this.getArgs(e),r={...t,stream:!0},{responseHeaders:s,value:l}=await ha({url:this.buildRequestUrl(!0),headers:await this.getHeaders({betas:n,headers:e.headers}),body:this.transformRequestBody(r),failedResponseHandler:Fm,successfulResponseHandler:iu(bA),abortSignal:e.abortSignal,fetch:this.config.fetch}),{messages:i,...o}=t;let u="unknown";const c={promptTokens:Number.NaN,completionTokens:Number.NaN},f={};let m,h;return{stream:l.pipeThrough(new TransformStream({transform(S,_){var v,d,p,y;if(!S.success){_.enqueue({type:"error",error:S.error});return}const g=S.value;switch(g.type){case"ping":return;case"content_block_start":{const w=g.content_block.type;switch(h=w,w){case"text":case"thinking":return;case"redacted_thinking":{_.enqueue({type:"redacted-reasoning",data:g.content_block.data});return}case"tool_use":{f[g.index]={toolCallId:g.content_block.id,toolName:g.content_block.name,jsonText:""};return}default:{const E=w;throw new Error(`Unsupported content block type: ${E}`)}}}case"content_block_stop":{if(f[g.index]!=null){const w=f[g.index];_.enqueue({type:"tool-call",toolCallType:"function",toolCallId:w.toolCallId,toolName:w.toolName,args:w.jsonText}),delete f[g.index]}h=void 0;return}case"content_block_delta":{const w=g.delta.type;switch(w){case"text_delta":{_.enqueue({type:"text-delta",textDelta:g.delta.text});return}case"thinking_delta":{_.enqueue({type:"reasoning",textDelta:g.delta.thinking});return}case"signature_delta":{h==="thinking"&&_.enqueue({type:"reasoning-signature",signature:g.delta.signature});return}case"input_json_delta":{const E=f[g.index];_.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:E.toolCallId,toolName:E.toolName,argsTextDelta:g.delta.partial_json}),E.jsonText+=g.delta.partial_json;return}default:{const E=w;throw new Error(`Unsupported delta type: ${E}`)}}}case"message_start":{c.promptTokens=g.message.usage.input_tokens,c.completionTokens=g.message.usage.output_tokens,m={anthropic:{cacheCreationInputTokens:(v=g.message.usage.cache_creation_input_tokens)!=null?v:null,cacheReadInputTokens:(d=g.message.usage.cache_read_input_tokens)!=null?d:null}},_.enqueue({type:"response-metadata",id:(p=g.message.id)!=null?p:void 0,modelId:(y=g.message.model)!=null?y:void 0});return}case"message_delta":{c.completionTokens=g.usage.output_tokens,u=Wm(g.delta.stop_reason);return}case"message_stop":{_.enqueue({type:"finish",finishReason:u,usage:c,providerMetadata:m});return}case"error":{_.enqueue({type:"error",error:g.error});return}default:{const w=g;throw new Error(`Unsupported chunk type: ${w}`)}}}})),rawCall:{rawPrompt:i,rawSettings:o},rawResponse:{headers:s},warnings:a,request:{body:JSON.stringify(r)}}}},vA=A({type:q("message"),id:T().nullish(),model:T().nullish(),content:le(lr("type",[A({type:q("text"),text:T()}),A({type:q("thinking"),thinking:T(),signature:T()}),A({type:q("redacted_thinking"),data:T()}),A({type:q("tool_use"),id:T(),name:T(),input:ni()})])),stop_reason:T().nullish(),usage:A({input_tokens:z(),output_tokens:z(),cache_creation_input_tokens:z().nullish(),cache_read_input_tokens:z().nullish()})}),bA=lr("type",[A({type:q("message_start"),message:A({id:T().nullish(),model:T().nullish(),usage:A({input_tokens:z(),output_tokens:z(),cache_creation_input_tokens:z().nullish(),cache_read_input_tokens:z().nullish()})})}),A({type:q("content_block_start"),index:z(),content_block:lr("type",[A({type:q("text"),text:T()}),A({type:q("thinking"),thinking:T()}),A({type:q("tool_use"),id:T(),name:T()}),A({type:q("redacted_thinking"),data:T()})])}),A({type:q("content_block_delta"),index:z(),delta:lr("type",[A({type:q("input_json_delta"),partial_json:T()}),A({type:q("text_delta"),text:T()}),A({type:q("thinking_delta"),thinking:T()}),A({type:q("signature_delta"),signature:T()})])}),A({type:q("content_block_stop"),index:z()}),A({type:q("error"),error:A({type:T(),message:T()})}),A({type:q("message_delta"),delta:A({stop_reason:T().nullish()}),usage:A({output_tokens:z()})}),A({type:q("message_stop")}),A({type:q("ping")})]),_A=A({thinking:A({type:Ye([q("enabled"),q("disabled")]),budgetTokens:z().optional()}).optional()}),xA=A({command:T(),restart:aa().optional()});function SA(e={}){return{type:"provider-defined",id:"anthropic.bash_20241022",args:{},parameters:xA,execute:e.execute,experimental_toToolResultContent:e.experimental_toToolResultContent}}var wA=A({command:T(),restart:aa().optional()});function TA(e={}){return{type:"provider-defined",id:"anthropic.bash_20250124",args:{},parameters:wA,execute:e.execute,experimental_toToolResultContent:e.experimental_toToolResultContent}}var EA=A({command:Ln(["view","create","str_replace","insert","undo_edit"]),path:T(),file_text:T().optional(),insert_line:z().int().optional(),new_str:T().optional(),old_str:T().optional(),view_range:le(z().int()).optional()});function AA(e={}){return{type:"provider-defined",id:"anthropic.text_editor_20241022",args:{},parameters:EA,execute:e.execute,experimental_toToolResultContent:e.experimental_toToolResultContent}}var RA=A({command:Ln(["view","create","str_replace","insert","undo_edit"]),path:T(),file_text:T().optional(),insert_line:z().int().optional(),new_str:T().optional(),old_str:T().optional(),view_range:le(z().int()).optional()});function NA(e={}){return{type:"provider-defined",id:"anthropic.text_editor_20250124",args:{},parameters:RA,execute:e.execute,experimental_toToolResultContent:e.experimental_toToolResultContent}}var kA=A({action:Ln(["key","type","mouse_move","left_click","left_click_drag","right_click","middle_click","double_click","screenshot","cursor_position"]),coordinate:le(z().int()).optional(),text:T().optional()});function CA(e){return{type:"provider-defined",id:"anthropic.computer_20241022",args:{displayWidthPx:e.displayWidthPx,displayHeightPx:e.displayHeightPx,displayNumber:e.displayNumber},parameters:kA,execute:e.execute,experimental_toToolResultContent:e.experimental_toToolResultContent}}var OA=A({action:Ln(["key","hold_key","type","cursor_position","mouse_move","left_mouse_down","left_mouse_up","left_click","left_click_drag","right_click","middle_click","double_click","triple_click","scroll","wait","screenshot"]),coordinate:Gm([z().int(),z().int()]).optional(),duration:z().optional(),scroll_amount:z().optional(),scroll_direction:Ln(["up","down","left","right"]).optional(),start_coordinate:Gm([z().int(),z().int()]).optional(),text:T().optional()});function MA(e){return{type:"provider-defined",id:"anthropic.computer_20250124",args:{displayWidthPx:e.displayWidthPx,displayHeightPx:e.displayHeightPx,displayNumber:e.displayNumber},parameters:OA,execute:e.execute,experimental_toToolResultContent:e.experimental_toToolResultContent}}var jA={bash_20241022:SA,bash_20250124:TA,textEditor_20241022:AA,textEditor_20250124:NA,computer_20241022:CA,computer_20250124:MA};function j0(e={}){var t;const a=(t=w0(e.baseURL))!=null?t:"https://api.anthropic.com/v1",n=()=>({"anthropic-version":"2023-06-01","x-api-key":_0({apiKey:e.apiKey,environmentVariableName:"ANTHROPIC_API_KEY",description:"Anthropic"}),...e.headers}),r=(l,i={})=>new yA(l,i,{provider:"anthropic.messages",baseURL:a,headers:n,fetch:e.fetch,supportsImageUrls:!0}),s=function(l,i){if(new.target)throw new Error("The Anthropic model function cannot be called with the new keyword.");return r(l,i)};return s.languageModel=r,s.chat=r,s.messages=r,s.textEmbeddingModel=l=>{throw new yT({modelId:l,modelType:"textEmbeddingModel"})},s.tools=jA,s}j0();const DA=Symbol("Let zodToJsonSchema decide on which parser to use"),eh={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,definitions:{},errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref",openAiAnyTypeName:"OpenAiAnyType"},UA=e=>typeof e=="string"?{...eh,name:e}:{...eh,...e},zA=e=>{const t=UA(e),a=t.name!==void 0?[...t.basePath,t.definitionPath,t.name]:t.basePath;return{...t,flags:{hasReferencedOpenAiAnyType:!1},currentPath:a,propertyPath:void 0,seen:new Map(Object.entries(t.definitions).map(([n,r])=>[r._def,{def:r._def,path:[...t.basePath,t.definitionPath,n],jsonSchema:void 0}]))}};function D0(e,t,a,n){n!=null&&n.errorMessages&&a&&(e.errorMessage={...e.errorMessage,[t]:a})}function _e(e,t,a,n,r){e[t]=a,D0(e,t,n,r)}const U0=(e,t)=>{let a=0;for(;a<e.length&&a<t.length&&e[a]===t[a];a++);return[(e.length-a).toString(),...t.slice(a)].join("/")};function Mt(e){if(e.target!=="openAi")return{};const t=[...e.basePath,e.definitionPath,e.openAiAnyTypeName];return e.flags.hasReferencedOpenAiAnyType=!0,{$ref:e.$refStrategy==="relative"?U0(t,e.currentPath):t.join("/")}}function IA(e,t){var n,r,s;const a={type:"array"};return(n=e.type)!=null&&n._def&&((s=(r=e.type)==null?void 0:r._def)==null?void 0:s.typeName)!==M.ZodAny&&(a.items=ge(e.type._def,{...t,currentPath:[...t.currentPath,"items"]})),e.minLength&&_e(a,"minItems",e.minLength.value,e.minLength.message,t),e.maxLength&&_e(a,"maxItems",e.maxLength.value,e.maxLength.message,t),e.exactLength&&(_e(a,"minItems",e.exactLength.value,e.exactLength.message,t),_e(a,"maxItems",e.exactLength.value,e.exactLength.message,t)),a}function LA(e,t){const a={type:"integer",format:"int64"};if(!e.checks)return a;for(const n of e.checks)switch(n.kind){case"min":t.target==="jsonSchema7"?n.inclusive?_e(a,"minimum",n.value,n.message,t):_e(a,"exclusiveMinimum",n.value,n.message,t):(n.inclusive||(a.exclusiveMinimum=!0),_e(a,"minimum",n.value,n.message,t));break;case"max":t.target==="jsonSchema7"?n.inclusive?_e(a,"maximum",n.value,n.message,t):_e(a,"exclusiveMaximum",n.value,n.message,t):(n.inclusive||(a.exclusiveMaximum=!0),_e(a,"maximum",n.value,n.message,t));break;case"multipleOf":_e(a,"multipleOf",n.value,n.message,t);break}return a}function qA(){return{type:"boolean"}}function z0(e,t){return ge(e.type._def,t)}const HA=(e,t)=>ge(e.innerType._def,t);function I0(e,t,a){const n=a??t.dateStrategy;if(Array.isArray(n))return{anyOf:n.map((r,s)=>I0(e,t,r))};switch(n){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return BA(e,t)}}const BA=(e,t)=>{const a={type:"integer",format:"unix-time"};if(t.target==="openApi3")return a;for(const n of e.checks)switch(n.kind){case"min":_e(a,"minimum",n.value,n.message,t);break;case"max":_e(a,"maximum",n.value,n.message,t);break}return a};function $A(e,t){return{...ge(e.innerType._def,t),default:e.defaultValue()}}function VA(e,t){return t.effectStrategy==="input"?ge(e.schema._def,t):Mt(t)}function ZA(e){return{type:"string",enum:Array.from(e.values)}}const PA=e=>"type"in e&&e.type==="string"?!1:"allOf"in e;function YA(e,t){const a=[ge(e.left._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),ge(e.right._def,{...t,currentPath:[...t.currentPath,"allOf","1"]})].filter(s=>!!s);let n=t.target==="jsonSchema2019-09"?{unevaluatedProperties:!1}:void 0;const r=[];return a.forEach(s=>{if(PA(s))r.push(...s.allOf),s.unevaluatedProperties===void 0&&(n=void 0);else{let l=s;if("additionalProperties"in s&&s.additionalProperties===!1){const{additionalProperties:i,...o}=s;l=o}else n=void 0;r.push(l)}}),r.length?{allOf:r,...n}:void 0}function GA(e,t){const a=typeof e.value;return a!=="bigint"&&a!=="number"&&a!=="boolean"&&a!=="string"?{type:Array.isArray(e.value)?"array":"object"}:t.target==="openApi3"?{type:a==="bigint"?"integer":a,enum:[e.value]}:{type:a==="bigint"?"integer":a,const:e.value}}let Wu;const ca={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(Wu===void 0&&(Wu=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),Wu),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function L0(e,t){const a={type:"string"};if(e.checks)for(const n of e.checks)switch(n.kind){case"min":_e(a,"minLength",typeof a.minLength=="number"?Math.max(a.minLength,n.value):n.value,n.message,t);break;case"max":_e(a,"maxLength",typeof a.maxLength=="number"?Math.min(a.maxLength,n.value):n.value,n.message,t);break;case"email":switch(t.emailStrategy){case"format:email":fa(a,"email",n.message,t);break;case"format:idn-email":fa(a,"idn-email",n.message,t);break;case"pattern:zod":_t(a,ca.email,n.message,t);break}break;case"url":fa(a,"uri",n.message,t);break;case"uuid":fa(a,"uuid",n.message,t);break;case"regex":_t(a,n.regex,n.message,t);break;case"cuid":_t(a,ca.cuid,n.message,t);break;case"cuid2":_t(a,ca.cuid2,n.message,t);break;case"startsWith":_t(a,RegExp(`^${ec(n.value,t)}`),n.message,t);break;case"endsWith":_t(a,RegExp(`${ec(n.value,t)}$`),n.message,t);break;case"datetime":fa(a,"date-time",n.message,t);break;case"date":fa(a,"date",n.message,t);break;case"time":fa(a,"time",n.message,t);break;case"duration":fa(a,"duration",n.message,t);break;case"length":_e(a,"minLength",typeof a.minLength=="number"?Math.max(a.minLength,n.value):n.value,n.message,t),_e(a,"maxLength",typeof a.maxLength=="number"?Math.min(a.maxLength,n.value):n.value,n.message,t);break;case"includes":{_t(a,RegExp(ec(n.value,t)),n.message,t);break}case"ip":{n.version!=="v6"&&fa(a,"ipv4",n.message,t),n.version!=="v4"&&fa(a,"ipv6",n.message,t);break}case"base64url":_t(a,ca.base64url,n.message,t);break;case"jwt":_t(a,ca.jwt,n.message,t);break;case"cidr":{n.version!=="v6"&&_t(a,ca.ipv4Cidr,n.message,t),n.version!=="v4"&&_t(a,ca.ipv6Cidr,n.message,t);break}case"emoji":_t(a,ca.emoji(),n.message,t);break;case"ulid":{_t(a,ca.ulid,n.message,t);break}case"base64":{switch(t.base64Strategy){case"format:binary":{fa(a,"binary",n.message,t);break}case"contentEncoding:base64":{_e(a,"contentEncoding","base64",n.message,t);break}case"pattern:zod":{_t(a,ca.base64,n.message,t);break}}break}case"nanoid":_t(a,ca.nanoid,n.message,t)}return a}function ec(e,t){return t.patternStrategy==="escape"?XA(e):e}const KA=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function XA(e){let t="";for(let a=0;a<e.length;a++)KA.has(e[a])||(t+="\\"),t+=e[a];return t}function fa(e,t,a,n){var r;e.format||(r=e.anyOf)!=null&&r.some(s=>s.format)?(e.anyOf||(e.anyOf=[]),e.format&&(e.anyOf.push({format:e.format,...e.errorMessage&&n.errorMessages&&{errorMessage:{format:e.errorMessage.format}}}),delete e.format,e.errorMessage&&(delete e.errorMessage.format,Object.keys(e.errorMessage).length===0&&delete e.errorMessage)),e.anyOf.push({format:t,...a&&n.errorMessages&&{errorMessage:{format:a}}})):_e(e,"format",t,a,n)}function _t(e,t,a,n){var r;e.pattern||(r=e.allOf)!=null&&r.some(s=>s.pattern)?(e.allOf||(e.allOf=[]),e.pattern&&(e.allOf.push({pattern:e.pattern,...e.errorMessage&&n.errorMessages&&{errorMessage:{pattern:e.errorMessage.pattern}}}),delete e.pattern,e.errorMessage&&(delete e.errorMessage.pattern,Object.keys(e.errorMessage).length===0&&delete e.errorMessage)),e.allOf.push({pattern:th(t,n),...a&&n.errorMessages&&{errorMessage:{pattern:a}}})):_e(e,"pattern",th(t,n),a,n)}function th(e,t){var o;if(!t.applyRegexFlags||!e.flags)return e.source;const a={i:e.flags.includes("i"),m:e.flags.includes("m"),s:e.flags.includes("s")},n=a.i?e.source.toLowerCase():e.source;let r="",s=!1,l=!1,i=!1;for(let u=0;u<n.length;u++){if(s){r+=n[u],s=!1;continue}if(a.i){if(l){if(n[u].match(/[a-z]/)){i?(r+=n[u],r+=`${n[u-2]}-${n[u]}`.toUpperCase(),i=!1):n[u+1]==="-"&&((o=n[u+2])!=null&&o.match(/[a-z]/))?(r+=n[u],i=!0):r+=`${n[u]}${n[u].toUpperCase()}`;continue}}else if(n[u].match(/[a-z]/)){r+=`[${n[u]}${n[u].toUpperCase()}]`;continue}}if(a.m){if(n[u]==="^"){r+=`(^|(?<=[\r
]))`;continue}else if(n[u]==="$"){r+=`($|(?=[\r
]))`;continue}}if(a.s&&n[u]==="."){r+=l?`${n[u]}\r
`:`[${n[u]}\r
]`;continue}r+=n[u],n[u]==="\\"?s=!0:l&&n[u]==="]"?l=!1:!l&&n[u]==="["&&(l=!0)}try{new RegExp(r)}catch{return console.warn(`Could not convert regex pattern at ${t.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),e.source}return r}function q0(e,t){var n,r,s,l,i,o;if(t.target==="openAi"&&console.warn("Warning: OpenAI may not support records in schemas! Try an array of key-value pairs instead."),t.target==="openApi3"&&((n=e.keyType)==null?void 0:n._def.typeName)===M.ZodEnum)return{type:"object",required:e.keyType._def.values,properties:e.keyType._def.values.reduce((u,c)=>({...u,[c]:ge(e.valueType._def,{...t,currentPath:[...t.currentPath,"properties",c]})??Mt(t)}),{}),additionalProperties:t.rejectedAdditionalProperties};const a={type:"object",additionalProperties:ge(e.valueType._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??t.allowedAdditionalProperties};if(t.target==="openApi3")return a;if(((r=e.keyType)==null?void 0:r._def.typeName)===M.ZodString&&((s=e.keyType._def.checks)!=null&&s.length)){const{type:u,...c}=L0(e.keyType._def,t);return{...a,propertyNames:c}}else{if(((l=e.keyType)==null?void 0:l._def.typeName)===M.ZodEnum)return{...a,propertyNames:{enum:e.keyType._def.values}};if(((i=e.keyType)==null?void 0:i._def.typeName)===M.ZodBranded&&e.keyType._def.type._def.typeName===M.ZodString&&((o=e.keyType._def.type._def.checks)!=null&&o.length)){const{type:u,...c}=z0(e.keyType._def,t);return{...a,propertyNames:c}}}return a}function JA(e,t){if(t.mapStrategy==="record")return q0(e,t);const a=ge(e.keyType._def,{...t,currentPath:[...t.currentPath,"items","items","0"]})||Mt(t),n=ge(e.valueType._def,{...t,currentPath:[...t.currentPath,"items","items","1"]})||Mt(t);return{type:"array",maxItems:125,items:{type:"array",items:[a,n],minItems:2,maxItems:2}}}function QA(e){const t=e.values,n=Object.keys(e.values).filter(s=>typeof t[t[s]]!="number").map(s=>t[s]),r=Array.from(new Set(n.map(s=>typeof s)));return{type:r.length===1?r[0]==="string"?"string":"number":["string","number"],enum:n}}function FA(e){return e.target==="openAi"?void 0:{not:Mt({...e,currentPath:[...e.currentPath,"not"]})}}function WA(e){return e.target==="openApi3"?{enum:["null"],nullable:!0}:{type:"null"}}const Uo={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function eR(e,t){if(t.target==="openApi3")return ah(e,t);const a=e.options instanceof Map?Array.from(e.options.values()):e.options;if(a.every(n=>n._def.typeName in Uo&&(!n._def.checks||!n._def.checks.length))){const n=a.reduce((r,s)=>{const l=Uo[s._def.typeName];return l&&!r.includes(l)?[...r,l]:r},[]);return{type:n.length>1?n:n[0]}}else if(a.every(n=>n._def.typeName==="ZodLiteral"&&!n.description)){const n=a.reduce((r,s)=>{const l=typeof s._def.value;switch(l){case"string":case"number":case"boolean":return[...r,l];case"bigint":return[...r,"integer"];case"object":if(s._def.value===null)return[...r,"null"];case"symbol":case"undefined":case"function":default:return r}},[]);if(n.length===a.length){const r=n.filter((s,l,i)=>i.indexOf(s)===l);return{type:r.length>1?r:r[0],enum:a.reduce((s,l)=>s.includes(l._def.value)?s:[...s,l._def.value],[])}}}else if(a.every(n=>n._def.typeName==="ZodEnum"))return{type:"string",enum:a.reduce((n,r)=>[...n,...r._def.values.filter(s=>!n.includes(s))],[])};return ah(e,t)}const ah=(e,t)=>{const a=(e.options instanceof Map?Array.from(e.options.values()):e.options).map((n,r)=>ge(n._def,{...t,currentPath:[...t.currentPath,"anyOf",`${r}`]})).filter(n=>!!n&&(!t.strictUnions||typeof n=="object"&&Object.keys(n).length>0));return a.length?{anyOf:a}:void 0};function tR(e,t){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(e.innerType._def.typeName)&&(!e.innerType._def.checks||!e.innerType._def.checks.length))return t.target==="openApi3"?{type:Uo[e.innerType._def.typeName],nullable:!0}:{type:[Uo[e.innerType._def.typeName],"null"]};if(t.target==="openApi3"){const n=ge(e.innerType._def,{...t,currentPath:[...t.currentPath]});return n&&"$ref"in n?{allOf:[n],nullable:!0}:n&&{...n,nullable:!0}}const a=ge(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","0"]});return a&&{anyOf:[a,{type:"null"}]}}function aR(e,t){const a={type:"number"};if(!e.checks)return a;for(const n of e.checks)switch(n.kind){case"int":a.type="integer",D0(a,"type",n.message,t);break;case"min":t.target==="jsonSchema7"?n.inclusive?_e(a,"minimum",n.value,n.message,t):_e(a,"exclusiveMinimum",n.value,n.message,t):(n.inclusive||(a.exclusiveMinimum=!0),_e(a,"minimum",n.value,n.message,t));break;case"max":t.target==="jsonSchema7"?n.inclusive?_e(a,"maximum",n.value,n.message,t):_e(a,"exclusiveMaximum",n.value,n.message,t):(n.inclusive||(a.exclusiveMaximum=!0),_e(a,"maximum",n.value,n.message,t));break;case"multipleOf":_e(a,"multipleOf",n.value,n.message,t);break}return a}function nR(e,t){const a=t.target==="openAi",n={type:"object",properties:{}},r=[],s=e.shape();for(const i in s){let o=s[i];if(o===void 0||o._def===void 0)continue;let u=sR(o);u&&a&&(o._def.typeName==="ZodOptional"&&(o=o._def.innerType),o.isNullable()||(o=o.nullable()),u=!1);const c=ge(o._def,{...t,currentPath:[...t.currentPath,"properties",i],propertyPath:[...t.currentPath,"properties",i]});c!==void 0&&(n.properties[i]=c,u||r.push(i))}r.length&&(n.required=r);const l=rR(e,t);return l!==void 0&&(n.additionalProperties=l),n}function rR(e,t){if(e.catchall._def.typeName!=="ZodNever")return ge(e.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]});switch(e.unknownKeys){case"passthrough":return t.allowedAdditionalProperties;case"strict":return t.rejectedAdditionalProperties;case"strip":return t.removeAdditionalStrategy==="strict"?t.allowedAdditionalProperties:t.rejectedAdditionalProperties}}function sR(e){try{return e.isOptional()}catch{return!0}}const lR=(e,t)=>{var n;if(t.currentPath.toString()===((n=t.propertyPath)==null?void 0:n.toString()))return ge(e.innerType._def,t);const a=ge(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","1"]});return a?{anyOf:[{not:Mt(t)},a]}:Mt(t)},iR=(e,t)=>{if(t.pipeStrategy==="input")return ge(e.in._def,t);if(t.pipeStrategy==="output")return ge(e.out._def,t);const a=ge(e.in._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),n=ge(e.out._def,{...t,currentPath:[...t.currentPath,"allOf",a?"1":"0"]});return{allOf:[a,n].filter(r=>r!==void 0)}};function oR(e,t){return ge(e.type._def,t)}function uR(e,t){const n={type:"array",uniqueItems:!0,items:ge(e.valueType._def,{...t,currentPath:[...t.currentPath,"items"]})};return e.minSize&&_e(n,"minItems",e.minSize.value,e.minSize.message,t),e.maxSize&&_e(n,"maxItems",e.maxSize.value,e.maxSize.message,t),n}function cR(e,t){return e.rest?{type:"array",minItems:e.items.length,items:e.items.map((a,n)=>ge(a._def,{...t,currentPath:[...t.currentPath,"items",`${n}`]})).reduce((a,n)=>n===void 0?a:[...a,n],[]),additionalItems:ge(e.rest._def,{...t,currentPath:[...t.currentPath,"additionalItems"]})}:{type:"array",minItems:e.items.length,maxItems:e.items.length,items:e.items.map((a,n)=>ge(a._def,{...t,currentPath:[...t.currentPath,"items",`${n}`]})).reduce((a,n)=>n===void 0?a:[...a,n],[])}}function fR(e){return{not:Mt(e)}}function dR(e){return Mt(e)}const pR=(e,t)=>ge(e.innerType._def,t),mR=(e,t,a)=>{switch(t){case M.ZodString:return L0(e,a);case M.ZodNumber:return aR(e,a);case M.ZodObject:return nR(e,a);case M.ZodBigInt:return LA(e,a);case M.ZodBoolean:return qA();case M.ZodDate:return I0(e,a);case M.ZodUndefined:return fR(a);case M.ZodNull:return WA(a);case M.ZodArray:return IA(e,a);case M.ZodUnion:case M.ZodDiscriminatedUnion:return eR(e,a);case M.ZodIntersection:return YA(e,a);case M.ZodTuple:return cR(e,a);case M.ZodRecord:return q0(e,a);case M.ZodLiteral:return GA(e,a);case M.ZodEnum:return ZA(e);case M.ZodNativeEnum:return QA(e);case M.ZodNullable:return tR(e,a);case M.ZodOptional:return lR(e,a);case M.ZodMap:return JA(e,a);case M.ZodSet:return uR(e,a);case M.ZodLazy:return()=>e.getter()._def;case M.ZodPromise:return oR(e,a);case M.ZodNaN:case M.ZodNever:return FA(a);case M.ZodEffects:return VA(e,a);case M.ZodAny:return Mt(a);case M.ZodUnknown:return dR(a);case M.ZodDefault:return $A(e,a);case M.ZodBranded:return z0(e,a);case M.ZodReadonly:return pR(e,a);case M.ZodCatch:return HA(e,a);case M.ZodPipeline:return iR(e,a);case M.ZodFunction:case M.ZodVoid:case M.ZodSymbol:return;default:return(n=>{})()}};function ge(e,t,a=!1){var i;const n=t.seen.get(e);if(t.override){const o=(i=t.override)==null?void 0:i.call(t,e,t,n,a);if(o!==DA)return o}if(n&&!a){const o=hR(n,t);if(o!==void 0)return o}const r={def:e,path:t.currentPath,jsonSchema:void 0};t.seen.set(e,r);const s=mR(e,e.typeName,t),l=typeof s=="function"?ge(s(),t):s;if(l&&gR(e,t,l),t.postProcess){const o=t.postProcess(l,e,t);return r.jsonSchema=l,o}return r.jsonSchema=l,l}const hR=(e,t)=>{switch(t.$refStrategy){case"root":return{$ref:e.path.join("/")};case"relative":return{$ref:U0(t.currentPath,e.path)};case"none":case"seen":return e.path.length<t.currentPath.length&&e.path.every((a,n)=>t.currentPath[n]===a)?(console.warn(`Recursive reference detected at ${t.currentPath.join("/")}! Defaulting to any`),Mt(t)):t.$refStrategy==="seen"?Mt(t):void 0}},gR=(e,t,a)=>(e.description&&(a.description=e.description,t.markdownDescription&&(a.markdownDescription=e.description)),a),yR=(e,t)=>{const a=zA(t);let n=typeof t=="object"&&t.definitions?Object.entries(t.definitions).reduce((o,[u,c])=>({...o,[u]:ge(c._def,{...a,currentPath:[...a.basePath,a.definitionPath,u]},!0)??Mt(a)}),{}):void 0;const r=typeof t=="string"?t:(t==null?void 0:t.nameStrategy)==="title"||t==null?void 0:t.name,s=ge(e._def,r===void 0?a:{...a,currentPath:[...a.basePath,a.definitionPath,r]},!1)??Mt(a),l=typeof t=="object"&&t.name!==void 0&&t.nameStrategy==="title"?t.name:void 0;l!==void 0&&(s.title=l),a.flags.hasReferencedOpenAiAnyType&&(n||(n={}),n[a.openAiAnyTypeName]||(n[a.openAiAnyTypeName]={type:["string","number","integer","boolean","array","null"],items:{$ref:a.$refStrategy==="relative"?"1":[...a.basePath,a.definitionPath,a.openAiAnyTypeName].join("/")}}));const i=r===void 0?n?{...s,[a.definitionPath]:n}:s:{$ref:[...a.$refStrategy==="relative"?[]:a.basePath,a.definitionPath,r].join("/"),[a.definitionPath]:{...n,[r]:s}};return a.target==="jsonSchema7"?i.$schema="http://json-schema.org/draft-07/schema#":(a.target==="jsonSchema2019-09"||a.target==="openAi")&&(i.$schema="https://json-schema.org/draft/2019-09/schema#"),a.target==="openAi"&&("anyOf"in i||"oneOf"in i||"allOf"in i||"type"in i&&Array.isArray(i.type))&&console.warn("Warning: OpenAI may not support schemas with unions as roots! Try wrapping it in an object property."),i};var Rl={code:"0",name:"text",parse:e=>{if(typeof e!="string")throw new Error('"text" parts expect a string value.');return{type:"text",value:e}}},Nl={code:"3",name:"error",parse:e=>{if(typeof e!="string")throw new Error('"error" parts expect a string value.');return{type:"error",value:e}}},kl={code:"4",name:"assistant_message",parse:e=>{if(e==null||typeof e!="object"||!("id"in e)||!("role"in e)||!("content"in e)||typeof e.id!="string"||typeof e.role!="string"||e.role!=="assistant"||!Array.isArray(e.content)||!e.content.every(t=>t!=null&&typeof t=="object"&&"type"in t&&t.type==="text"&&"text"in t&&t.text!=null&&typeof t.text=="object"&&"value"in t.text&&typeof t.text.value=="string"))throw new Error('"assistant_message" parts expect an object with an "id", "role", and "content" property.');return{type:"assistant_message",value:e}}},Cl={code:"5",name:"assistant_control_data",parse:e=>{if(e==null||typeof e!="object"||!("threadId"in e)||!("messageId"in e)||typeof e.threadId!="string"||typeof e.messageId!="string")throw new Error('"assistant_control_data" parts expect an object with a "threadId" and "messageId" property.');return{type:"assistant_control_data",value:{threadId:e.threadId,messageId:e.messageId}}}},Ol={code:"6",name:"data_message",parse:e=>{if(e==null||typeof e!="object"||!("role"in e)||!("data"in e)||typeof e.role!="string"||e.role!=="data")throw new Error('"data_message" parts expect an object with a "role" and "data" property.');return{type:"data_message",value:e}}},vR=[Rl,Nl,kl,Cl,Ol];Rl.code+"",Nl.code+"",kl.code+"",Cl.code+"",Ol.code+"";Rl.name+"",Rl.code,Nl.name+"",Nl.code,kl.name+"",kl.code,Cl.name+"",Cl.code,Ol.name+"",Ol.code;vR.map(e=>e.code);function bR(e){const t=["ROOT"];let a=-1,n=null;function r(o,u,c){switch(o){case'"':{a=u,t.pop(),t.push(c),t.push("INSIDE_STRING");break}case"f":case"t":case"n":{a=u,n=u,t.pop(),t.push(c),t.push("INSIDE_LITERAL");break}case"-":{t.pop(),t.push(c),t.push("INSIDE_NUMBER");break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":{a=u,t.pop(),t.push(c),t.push("INSIDE_NUMBER");break}case"{":{a=u,t.pop(),t.push(c),t.push("INSIDE_OBJECT_START");break}case"[":{a=u,t.pop(),t.push(c),t.push("INSIDE_ARRAY_START");break}}}function s(o,u){switch(o){case",":{t.pop(),t.push("INSIDE_OBJECT_AFTER_COMMA");break}case"}":{a=u,t.pop();break}}}function l(o,u){switch(o){case",":{t.pop(),t.push("INSIDE_ARRAY_AFTER_COMMA");break}case"]":{a=u,t.pop();break}}}for(let o=0;o<e.length;o++){const u=e[o];switch(t[t.length-1]){case"ROOT":r(u,o,"FINISH");break;case"INSIDE_OBJECT_START":{switch(u){case'"':{t.pop(),t.push("INSIDE_OBJECT_KEY");break}case"}":{a=o,t.pop();break}}break}case"INSIDE_OBJECT_AFTER_COMMA":{switch(u){case'"':{t.pop(),t.push("INSIDE_OBJECT_KEY");break}}break}case"INSIDE_OBJECT_KEY":{switch(u){case'"':{t.pop(),t.push("INSIDE_OBJECT_AFTER_KEY");break}}break}case"INSIDE_OBJECT_AFTER_KEY":{switch(u){case":":{t.pop(),t.push("INSIDE_OBJECT_BEFORE_VALUE");break}}break}case"INSIDE_OBJECT_BEFORE_VALUE":{r(u,o,"INSIDE_OBJECT_AFTER_VALUE");break}case"INSIDE_OBJECT_AFTER_VALUE":{s(u,o);break}case"INSIDE_STRING":{switch(u){case'"':{t.pop(),a=o;break}case"\\":{t.push("INSIDE_STRING_ESCAPE");break}default:a=o}break}case"INSIDE_ARRAY_START":{switch(u){case"]":{a=o,t.pop();break}default:{a=o,r(u,o,"INSIDE_ARRAY_AFTER_VALUE");break}}break}case"INSIDE_ARRAY_AFTER_VALUE":{switch(u){case",":{t.pop(),t.push("INSIDE_ARRAY_AFTER_COMMA");break}case"]":{a=o,t.pop();break}default:{a=o;break}}break}case"INSIDE_ARRAY_AFTER_COMMA":{r(u,o,"INSIDE_ARRAY_AFTER_VALUE");break}case"INSIDE_STRING_ESCAPE":{t.pop(),a=o;break}case"INSIDE_NUMBER":{switch(u){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":{a=o;break}case"e":case"E":case"-":case".":break;case",":{t.pop(),t[t.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&l(u,o),t[t.length-1]==="INSIDE_OBJECT_AFTER_VALUE"&&s(u,o);break}case"}":{t.pop(),t[t.length-1]==="INSIDE_OBJECT_AFTER_VALUE"&&s(u,o);break}case"]":{t.pop(),t[t.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&l(u,o);break}default:{t.pop();break}}break}case"INSIDE_LITERAL":{const f=e.substring(n,o+1);!"false".startsWith(f)&&!"true".startsWith(f)&&!"null".startsWith(f)?(t.pop(),t[t.length-1]==="INSIDE_OBJECT_AFTER_VALUE"?s(u,o):t[t.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&l(u,o)):a=o;break}}}let i=e.slice(0,a+1);for(let o=t.length-1;o>=0;o--)switch(t[o]){case"INSIDE_STRING":{i+='"';break}case"INSIDE_OBJECT_KEY":case"INSIDE_OBJECT_AFTER_KEY":case"INSIDE_OBJECT_AFTER_COMMA":case"INSIDE_OBJECT_START":case"INSIDE_OBJECT_BEFORE_VALUE":case"INSIDE_OBJECT_AFTER_VALUE":{i+="}";break}case"INSIDE_ARRAY_START":case"INSIDE_ARRAY_AFTER_COMMA":case"INSIDE_ARRAY_AFTER_VALUE":{i+="]";break}case"INSIDE_LITERAL":{const c=e.substring(n,e.length);"true".startsWith(c)?i+="true".slice(c.length):"false".startsWith(c)?i+="false".slice(c.length):"null".startsWith(c)&&(i+="null".slice(c.length))}}return i}function _R(e){if(e===void 0)return{value:void 0,state:"undefined-input"};let t=is({text:e});return t.success?{value:t.value,state:"successful-parse"}:(t=is({text:bR(e)}),t.success?{value:t.value,state:"repaired-parse"}:{value:void 0,state:"failed-parse"})}var xR={code:"0",name:"text",parse:e=>{if(typeof e!="string")throw new Error('"text" parts expect a string value.');return{type:"text",value:e}}},SR={code:"2",name:"data",parse:e=>{if(!Array.isArray(e))throw new Error('"data" parts expect an array value.');return{type:"data",value:e}}},wR={code:"3",name:"error",parse:e=>{if(typeof e!="string")throw new Error('"error" parts expect a string value.');return{type:"error",value:e}}},TR={code:"8",name:"message_annotations",parse:e=>{if(!Array.isArray(e))throw new Error('"message_annotations" parts expect an array value.');return{type:"message_annotations",value:e}}},ER={code:"9",name:"tool_call",parse:e=>{if(e==null||typeof e!="object"||!("toolCallId"in e)||typeof e.toolCallId!="string"||!("toolName"in e)||typeof e.toolName!="string"||!("args"in e)||typeof e.args!="object")throw new Error('"tool_call" parts expect an object with a "toolCallId", "toolName", and "args" property.');return{type:"tool_call",value:e}}},AR={code:"a",name:"tool_result",parse:e=>{if(e==null||typeof e!="object"||!("toolCallId"in e)||typeof e.toolCallId!="string"||!("result"in e))throw new Error('"tool_result" parts expect an object with a "toolCallId" and a "result" property.');return{type:"tool_result",value:e}}},RR={code:"b",name:"tool_call_streaming_start",parse:e=>{if(e==null||typeof e!="object"||!("toolCallId"in e)||typeof e.toolCallId!="string"||!("toolName"in e)||typeof e.toolName!="string")throw new Error('"tool_call_streaming_start" parts expect an object with a "toolCallId" and "toolName" property.');return{type:"tool_call_streaming_start",value:e}}},NR={code:"c",name:"tool_call_delta",parse:e=>{if(e==null||typeof e!="object"||!("toolCallId"in e)||typeof e.toolCallId!="string"||!("argsTextDelta"in e)||typeof e.argsTextDelta!="string")throw new Error('"tool_call_delta" parts expect an object with a "toolCallId" and "argsTextDelta" property.');return{type:"tool_call_delta",value:e}}},kR={code:"d",name:"finish_message",parse:e=>{if(e==null||typeof e!="object"||!("finishReason"in e)||typeof e.finishReason!="string")throw new Error('"finish_message" parts expect an object with a "finishReason" property.');const t={finishReason:e.finishReason};return"usage"in e&&e.usage!=null&&typeof e.usage=="object"&&"promptTokens"in e.usage&&"completionTokens"in e.usage&&(t.usage={promptTokens:typeof e.usage.promptTokens=="number"?e.usage.promptTokens:Number.NaN,completionTokens:typeof e.usage.completionTokens=="number"?e.usage.completionTokens:Number.NaN}),{type:"finish_message",value:t}}},CR={code:"e",name:"finish_step",parse:e=>{if(e==null||typeof e!="object"||!("finishReason"in e)||typeof e.finishReason!="string")throw new Error('"finish_step" parts expect an object with a "finishReason" property.');const t={finishReason:e.finishReason,isContinued:!1};return"usage"in e&&e.usage!=null&&typeof e.usage=="object"&&"promptTokens"in e.usage&&"completionTokens"in e.usage&&(t.usage={promptTokens:typeof e.usage.promptTokens=="number"?e.usage.promptTokens:Number.NaN,completionTokens:typeof e.usage.completionTokens=="number"?e.usage.completionTokens:Number.NaN}),"isContinued"in e&&typeof e.isContinued=="boolean"&&(t.isContinued=e.isContinued),{type:"finish_step",value:t}}},OR={code:"f",name:"start_step",parse:e=>{if(e==null||typeof e!="object"||!("messageId"in e)||typeof e.messageId!="string")throw new Error('"start_step" parts expect an object with an "id" property.');return{type:"start_step",value:{messageId:e.messageId}}}},MR={code:"g",name:"reasoning",parse:e=>{if(typeof e!="string")throw new Error('"reasoning" parts expect a string value.');return{type:"reasoning",value:e}}},jR={code:"h",name:"source",parse:e=>{if(e==null||typeof e!="object")throw new Error('"source" parts expect a Source object.');return{type:"source",value:e}}},DR={code:"i",name:"redacted_reasoning",parse:e=>{if(e==null||typeof e!="object"||!("data"in e)||typeof e.data!="string")throw new Error('"redacted_reasoning" parts expect an object with a "data" property.');return{type:"redacted_reasoning",value:{data:e.data}}}},UR={code:"j",name:"reasoning_signature",parse:e=>{if(e==null||typeof e!="object"||!("signature"in e)||typeof e.signature!="string")throw new Error('"reasoning_signature" parts expect an object with a "signature" property.');return{type:"reasoning_signature",value:{signature:e.signature}}}},zR={code:"k",name:"file",parse:e=>{if(e==null||typeof e!="object"||!("data"in e)||typeof e.data!="string"||!("mimeType"in e)||typeof e.mimeType!="string")throw new Error('"file" parts expect an object with a "data" and "mimeType" property.');return{type:"file",value:e}}},uu=[xR,SR,wR,TR,ER,AR,RR,NR,kR,CR,OR,MR,jR,DR,UR,zR];Object.fromEntries(uu.map(e=>[e.code,e]));Object.fromEntries(uu.map(e=>[e.name,e.code]));uu.map(e=>e.code);function gt(e,t){const a=uu.find(n=>n.name===e);if(!a)throw new Error(`Invalid stream part type: ${e}`);return`${a.code}:${JSON.stringify(t)}
`}function IR(e,t){var a;const n=(a=void 0)!=null?a:!1;return LR(yR(e,{$refStrategy:n?"root":"none",target:"jsonSchema7"}),{validate:r=>{const s=e.safeParse(r);return s.success?{success:!0,value:s.data}:{success:!1,error:s.error}}})}var yf=Symbol.for("vercel.ai.schema");function LR(e,{validate:t}={}){return{[yf]:!0,_type:void 0,[bo]:!0,jsonSchema:e,validate:t}}function qR(e){return typeof e=="object"&&e!==null&&yf in e&&e[yf]===!0&&"jsonSchema"in e&&"validate"in e}function cu(e){return qR(e)?e:IR(e)}var HR=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof window=="object"?window:typeof globalThis=="object"?globalThis:{},Qn="1.9.0",nh=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function BR(e){var t=new Set([e]),a=new Set,n=e.match(nh);if(!n)return function(){return!1};var r={major:+n[1],minor:+n[2],patch:+n[3],prerelease:n[4]};if(r.prerelease!=null)return function(o){return o===e};function s(i){return a.add(i),!1}function l(i){return t.add(i),!0}return function(o){if(t.has(o))return!0;if(a.has(o))return!1;var u=o.match(nh);if(!u)return s(o);var c={major:+u[1],minor:+u[2],patch:+u[3],prerelease:u[4]};return c.prerelease!=null||r.major!==c.major?s(o):r.major===0?r.minor===c.minor&&r.patch<=c.patch?l(o):s(o):r.minor<=c.minor?l(o):s(o)}}var $R=BR(Qn),VR=Qn.split(".")[0],Ml=Symbol.for("opentelemetry.js.api."+VR),jl=HR;function Ud(e,t,a,n){var r;n===void 0&&(n=!1);var s=jl[Ml]=(r=jl[Ml])!==null&&r!==void 0?r:{version:Qn};if(!n&&s[e]){var l=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+e);return a.error(l.stack||l.message),!1}if(s.version!==Qn){var l=new Error("@opentelemetry/api: Registration of version v"+s.version+" for "+e+" does not match previously registered API v"+Qn);return a.error(l.stack||l.message),!1}return s[e]=t,a.debug("@opentelemetry/api: Registered a global for "+e+" v"+Qn+"."),!0}function Dl(e){var t,a,n=(t=jl[Ml])===null||t===void 0?void 0:t.version;if(!(!n||!$R(n)))return(a=jl[Ml])===null||a===void 0?void 0:a[e]}function zd(e,t){t.debug("@opentelemetry/api: Unregistering a global for "+e+" v"+Qn+".");var a=jl[Ml];a&&delete a[e]}var ZR=function(e,t){var a=typeof Symbol=="function"&&e[Symbol.iterator];if(!a)return e;var n=a.call(e),r,s=[],l;try{for(;(t===void 0||t-- >0)&&!(r=n.next()).done;)s.push(r.value)}catch(i){l={error:i}}finally{try{r&&!r.done&&(a=n.return)&&a.call(n)}finally{if(l)throw l.error}}return s},PR=function(e,t,a){if(arguments.length===2)for(var n=0,r=t.length,s;n<r;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))},YR=function(){function e(t){this._namespace=t.namespace||"DiagComponentLogger"}return e.prototype.debug=function(){for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];return Ls("debug",this._namespace,t)},e.prototype.error=function(){for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];return Ls("error",this._namespace,t)},e.prototype.info=function(){for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];return Ls("info",this._namespace,t)},e.prototype.warn=function(){for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];return Ls("warn",this._namespace,t)},e.prototype.verbose=function(){for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];return Ls("verbose",this._namespace,t)},e}();function Ls(e,t,a){var n=Dl("diag");if(n)return a.unshift(t),n[e].apply(n,PR([],ZR(a),!1))}var Lt;(function(e){e[e.NONE=0]="NONE",e[e.ERROR=30]="ERROR",e[e.WARN=50]="WARN",e[e.INFO=60]="INFO",e[e.DEBUG=70]="DEBUG",e[e.VERBOSE=80]="VERBOSE",e[e.ALL=9999]="ALL"})(Lt||(Lt={}));function GR(e,t){e<Lt.NONE?e=Lt.NONE:e>Lt.ALL&&(e=Lt.ALL),t=t||{};function a(n,r){var s=t[n];return typeof s=="function"&&e>=r?s.bind(t):function(){}}return{error:a("error",Lt.ERROR),warn:a("warn",Lt.WARN),info:a("info",Lt.INFO),debug:a("debug",Lt.DEBUG),verbose:a("verbose",Lt.VERBOSE)}}var KR=function(e,t){var a=typeof Symbol=="function"&&e[Symbol.iterator];if(!a)return e;var n=a.call(e),r,s=[],l;try{for(;(t===void 0||t-- >0)&&!(r=n.next()).done;)s.push(r.value)}catch(i){l={error:i}}finally{try{r&&!r.done&&(a=n.return)&&a.call(n)}finally{if(l)throw l.error}}return s},XR=function(e,t,a){if(arguments.length===2)for(var n=0,r=t.length,s;n<r;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))},JR="diag",zo=function(){function e(){function t(r){return function(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];var i=Dl("diag");if(i)return i[r].apply(i,XR([],KR(s),!1))}}var a=this,n=function(r,s){var l,i,o;if(s===void 0&&(s={logLevel:Lt.INFO}),r===a){var u=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return a.error((l=u.stack)!==null&&l!==void 0?l:u.message),!1}typeof s=="number"&&(s={logLevel:s});var c=Dl("diag"),f=GR((i=s.logLevel)!==null&&i!==void 0?i:Lt.INFO,r);if(c&&!s.suppressOverrideMessage){var m=(o=new Error().stack)!==null&&o!==void 0?o:"<failed to generate stacktrace>";c.warn("Current logger will be overwritten from "+m),f.warn("Current logger will overwrite one already registered from "+m)}return Ud("diag",f,a,!0)};a.setLogger=n,a.disable=function(){zd(JR,a)},a.createComponentLogger=function(r){return new YR(r)},a.verbose=t("verbose"),a.debug=t("debug"),a.info=t("info"),a.warn=t("warn"),a.error=t("error")}return e.instance=function(){return this._instance||(this._instance=new e),this._instance},e}();function QR(e){return Symbol.for(e)}var FR=function(){function e(t){var a=this;a._currentContext=t?new Map(t):new Map,a.getValue=function(n){return a._currentContext.get(n)},a.setValue=function(n,r){var s=new e(a._currentContext);return s._currentContext.set(n,r),s},a.deleteValue=function(n){var r=new e(a._currentContext);return r._currentContext.delete(n),r}}return e}(),WR=new FR,eN=function(e,t){var a=typeof Symbol=="function"&&e[Symbol.iterator];if(!a)return e;var n=a.call(e),r,s=[],l;try{for(;(t===void 0||t-- >0)&&!(r=n.next()).done;)s.push(r.value)}catch(i){l={error:i}}finally{try{r&&!r.done&&(a=n.return)&&a.call(n)}finally{if(l)throw l.error}}return s},tN=function(e,t,a){if(a||arguments.length===2)for(var n=0,r=t.length,s;n<r;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))},aN=function(){function e(){}return e.prototype.active=function(){return WR},e.prototype.with=function(t,a,n){for(var r=[],s=3;s<arguments.length;s++)r[s-3]=arguments[s];return a.call.apply(a,tN([n],eN(r),!1))},e.prototype.bind=function(t,a){return a},e.prototype.enable=function(){return this},e.prototype.disable=function(){return this},e}(),nN=function(e,t){var a=typeof Symbol=="function"&&e[Symbol.iterator];if(!a)return e;var n=a.call(e),r,s=[],l;try{for(;(t===void 0||t-- >0)&&!(r=n.next()).done;)s.push(r.value)}catch(i){l={error:i}}finally{try{r&&!r.done&&(a=n.return)&&a.call(n)}finally{if(l)throw l.error}}return s},rN=function(e,t,a){if(arguments.length===2)for(var n=0,r=t.length,s;n<r;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))},tc="context",sN=new aN,H0=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalContextManager=function(t){return Ud(tc,t,zo.instance())},e.prototype.active=function(){return this._getContextManager().active()},e.prototype.with=function(t,a,n){for(var r,s=[],l=3;l<arguments.length;l++)s[l-3]=arguments[l];return(r=this._getContextManager()).with.apply(r,rN([t,a,n],nN(s),!1))},e.prototype.bind=function(t,a){return this._getContextManager().bind(t,a)},e.prototype._getContextManager=function(){return Dl(tc)||sN},e.prototype.disable=function(){this._getContextManager().disable(),zd(tc,zo.instance())},e}(),vf;(function(e){e[e.NONE=0]="NONE",e[e.SAMPLED=1]="SAMPLED"})(vf||(vf={}));var B0="0000000000000000",$0="00000000000000000000000000000000",lN={traceId:$0,spanId:B0,traceFlags:vf.NONE},sl=function(){function e(t){t===void 0&&(t=lN),this._spanContext=t}return e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(t,a){return this},e.prototype.setAttributes=function(t){return this},e.prototype.addEvent=function(t,a){return this},e.prototype.addLink=function(t){return this},e.prototype.addLinks=function(t){return this},e.prototype.setStatus=function(t){return this},e.prototype.updateName=function(t){return this},e.prototype.end=function(t){},e.prototype.isRecording=function(){return!1},e.prototype.recordException=function(t,a){},e}(),Id=QR("OpenTelemetry Context Key SPAN");function Ld(e){return e.getValue(Id)||void 0}function iN(){return Ld(H0.getInstance().active())}function qd(e,t){return e.setValue(Id,t)}function oN(e){return e.deleteValue(Id)}function uN(e,t){return qd(e,new sl(t))}function V0(e){var t;return(t=Ld(e))===null||t===void 0?void 0:t.spanContext()}var cN=/^([0-9a-f]{32})$/i,fN=/^[0-9a-f]{16}$/i;function dN(e){return cN.test(e)&&e!==$0}function pN(e){return fN.test(e)&&e!==B0}function Z0(e){return dN(e.traceId)&&pN(e.spanId)}function mN(e){return new sl(e)}var ac=H0.getInstance(),P0=function(){function e(){}return e.prototype.startSpan=function(t,a,n){n===void 0&&(n=ac.active());var r=!!(a!=null&&a.root);if(r)return new sl;var s=n&&V0(n);return hN(s)&&Z0(s)?new sl(s):new sl},e.prototype.startActiveSpan=function(t,a,n,r){var s,l,i;if(!(arguments.length<2)){arguments.length===2?i=a:arguments.length===3?(s=a,i=n):(s=a,l=n,i=r);var o=l??ac.active(),u=this.startSpan(t,s,o),c=qd(o,u);return ac.with(c,i,void 0,u)}},e}();function hN(e){return typeof e=="object"&&typeof e.spanId=="string"&&typeof e.traceId=="string"&&typeof e.traceFlags=="number"}var gN=new P0,yN=function(){function e(t,a,n,r){this._provider=t,this.name=a,this.version=n,this.options=r}return e.prototype.startSpan=function(t,a,n){return this._getTracer().startSpan(t,a,n)},e.prototype.startActiveSpan=function(t,a,n,r){var s=this._getTracer();return Reflect.apply(s.startActiveSpan,s,arguments)},e.prototype._getTracer=function(){if(this._delegate)return this._delegate;var t=this._provider.getDelegateTracer(this.name,this.version,this.options);return t?(this._delegate=t,this._delegate):gN},e}(),vN=function(){function e(){}return e.prototype.getTracer=function(t,a,n){return new P0},e}(),bN=new vN,rh=function(){function e(){}return e.prototype.getTracer=function(t,a,n){var r;return(r=this.getDelegateTracer(t,a,n))!==null&&r!==void 0?r:new yN(this,t,a,n)},e.prototype.getDelegate=function(){var t;return(t=this._delegate)!==null&&t!==void 0?t:bN},e.prototype.setDelegate=function(t){this._delegate=t},e.prototype.getDelegateTracer=function(t,a,n){var r;return(r=this._delegate)===null||r===void 0?void 0:r.getTracer(t,a,n)},e}(),Io;(function(e){e[e.UNSET=0]="UNSET",e[e.OK=1]="OK",e[e.ERROR=2]="ERROR"})(Io||(Io={}));var nc="trace",_N=function(){function e(){this._proxyTracerProvider=new rh,this.wrapSpanContext=mN,this.isSpanContextValid=Z0,this.deleteSpan=oN,this.getSpan=Ld,this.getActiveSpan=iN,this.getSpanContext=V0,this.setSpan=qd,this.setSpanContext=uN}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalTracerProvider=function(t){var a=Ud(nc,this._proxyTracerProvider,zo.instance());return a&&this._proxyTracerProvider.setDelegate(t),a},e.prototype.getTracerProvider=function(){return Dl(nc)||this._proxyTracerProvider},e.prototype.getTracer=function(t,a){return this.getTracerProvider().getTracer(t,a)},e.prototype.disable=function(){zd(nc,zo.instance()),this._proxyTracerProvider=new rh},e}(),xN=_N.getInstance(),SN=Object.defineProperty,Hd=(e,t)=>{for(var a in t)SN(e,a,{get:t[a],enumerable:!0})};function Lo(e,{contentType:t,dataStreamVersion:a}){const n=new Headers(e??{});return n.has("Content-Type")||n.set("Content-Type",t),a!==void 0&&n.set("X-Vercel-AI-Data-Stream",a),n}function sh(e,{contentType:t,dataStreamVersion:a}){const n={};if(e!=null)for(const[r,s]of Object.entries(e))n[r]=s;return n["Content-Type"]==null&&(n["Content-Type"]=t),a!==void 0&&(n["X-Vercel-AI-Data-Stream"]=a),n}function lh({response:e,status:t,statusText:a,headers:n,stream:r}){e.writeHead(t??200,a,n);const s=r.getReader();(async()=>{try{for(;;){const{done:i,value:o}=await s.read();if(i)break;e.write(o)}}catch(i){throw i}finally{e.end()}})()}var Y0="AI_InvalidArgumentError",G0=`vercel.ai.error.${Y0}`,wN=Symbol.for(G0),K0,Kt=class extends J{constructor({parameter:e,value:t,message:a}){super({name:Y0,message:`Invalid argument for parameter ${e}: ${a}`}),this[K0]=!0,this.parameter=e,this.value=t}static isInstance(e){return J.hasMarker(e,G0)}};K0=wN;var X0="AI_RetryError",J0=`vercel.ai.error.${X0}`,TN=Symbol.for(J0),Q0,ih=class extends J{constructor({message:e,reason:t,errors:a}){super({name:X0,message:e}),this[Q0]=!0,this.reason=t,this.errors=a,this.lastError=a[a.length-1]}static isInstance(e){return J.hasMarker(e,J0)}};Q0=TN;var EN=({maxRetries:e=2,initialDelayInMs:t=2e3,backoffFactor:a=2}={})=>async n=>F0(n,{maxRetries:e,delayInMs:t,backoffFactor:a});async function F0(e,{maxRetries:t,delayInMs:a,backoffFactor:n},r=[]){try{return await e()}catch(s){if(Li(s)||t===0)throw s;const l=MT(s),i=[...r,s],o=i.length;if(o>t)throw new ih({message:`Failed after ${o} attempts. Last error: ${l}`,reason:"maxRetriesExceeded",errors:i});if(s instanceof Error&&ea.isInstance(s)&&s.isRetryable===!0&&o<=t)return await kT(a),F0(e,{maxRetries:t,delayInMs:n*a,backoffFactor:n},i);throw o===1?s:new ih({message:`Failed after ${o} attempts with non-retryable error: '${l}'`,reason:"errorNotRetryable",errors:i})}}function W0({maxRetries:e}){if(e!=null){if(!Number.isInteger(e))throw new Kt({parameter:"maxRetries",value:e,message:"maxRetries must be an integer"});if(e<0)throw new Kt({parameter:"maxRetries",value:e,message:"maxRetries must be >= 0"})}const t=e??2;return{maxRetries:t,retry:EN({maxRetries:t})}}function fs({operationId:e,telemetry:t}){return{"operation.name":`${e}${(t==null?void 0:t.functionId)!=null?` ${t.functionId}`:""}`,"resource.name":t==null?void 0:t.functionId,"ai.operationId":e,"ai.telemetry.functionId":t==null?void 0:t.functionId}}function eb({model:e,settings:t,telemetry:a,headers:n}){var r;return{"ai.model.provider":e.provider,"ai.model.id":e.modelId,...Object.entries(t).reduce((s,[l,i])=>(s[`ai.settings.${l}`]=i,s),{}),...Object.entries((r=a==null?void 0:a.metadata)!=null?r:{}).reduce((s,[l,i])=>(s[`ai.telemetry.metadata.${l}`]=i,s),{}),...Object.entries(n??{}).reduce((s,[l,i])=>(i!==void 0&&(s[`ai.request.headers.${l}`]=i),s),{})}}var AN={startSpan(){return Si},startActiveSpan(e,t,a,n){if(typeof t=="function")return t(Si);if(typeof a=="function")return a(Si);if(typeof n=="function")return n(Si)}},Si={spanContext(){return RN},setAttribute(){return this},setAttributes(){return this},addEvent(){return this},addLink(){return this},addLinks(){return this},setStatus(){return this},updateName(){return this},end(){return this},isRecording(){return!1},recordException(){return this}},RN={traceId:"",spanId:"",traceFlags:0};function tb({isEnabled:e=!1,tracer:t}={}){return e?t||xN.getTracer("ai"):AN}function ds({name:e,tracer:t,attributes:a,fn:n,endWhenDone:r=!0}){return t.startActiveSpan(e,{attributes:a},async s=>{try{const l=await n(s);return r&&s.end(),l}catch(l){try{l instanceof Error?(s.recordException({name:l.name,message:l.message,stack:l.stack}),s.setStatus({code:Io.ERROR,message:l.message})):s.setStatus({code:Io.ERROR})}finally{s.end()}throw l}})}function na({telemetry:e,attributes:t}){return(e==null?void 0:e.isEnabled)!==!0?{}:Object.entries(t).reduce((a,[n,r])=>{if(r===void 0)return a;if(typeof r=="object"&&"input"in r&&typeof r.input=="function"){if((e==null?void 0:e.recordInputs)===!1)return a;const s=r.input();return s===void 0?a:{...a,[n]:s}}if(typeof r=="object"&&"output"in r&&typeof r.output=="function"){if((e==null?void 0:e.recordOutputs)===!1)return a;const s=r.output();return s===void 0?a:{...a,[n]:s}}return{...a,[n]:r}},{})}var ab=class{constructor({data:e,mimeType:t}){const a=e instanceof Uint8Array;this.base64Data=a?void 0:e,this.uint8ArrayData=a?e:void 0,this.mimeType=t}get base64(){return this.base64Data==null&&(this.base64Data=os(this.uint8ArrayData)),this.base64Data}get uint8Array(){return this.uint8ArrayData==null&&(this.uint8ArrayData=ou(this.base64Data)),this.uint8ArrayData}},NN=class extends ab{constructor(e){super(e),this.type="file"}},kN=[{mimeType:"image/gif",bytesPrefix:[71,73,70],base64Prefix:"R0lG"},{mimeType:"image/png",bytesPrefix:[137,80,78,71],base64Prefix:"iVBORw"},{mimeType:"image/jpeg",bytesPrefix:[255,216],base64Prefix:"/9j/"},{mimeType:"image/webp",bytesPrefix:[82,73,70,70],base64Prefix:"UklGRg"},{mimeType:"image/bmp",bytesPrefix:[66,77],base64Prefix:"Qk"},{mimeType:"image/tiff",bytesPrefix:[73,73,42,0],base64Prefix:"SUkqAA"},{mimeType:"image/tiff",bytesPrefix:[77,77,0,42],base64Prefix:"TU0AKg"},{mimeType:"image/avif",bytesPrefix:[0,0,0,32,102,116,121,112,97,118,105,102],base64Prefix:"AAAAIGZ0eXBhdmlm"},{mimeType:"image/heic",bytesPrefix:[0,0,0,32,102,116,121,112,104,101,105,99],base64Prefix:"AAAAIGZ0eXBoZWlj"}],CN=e=>{const t=typeof e=="string"?ou(e):e,a=(t[6]&127)<<21|(t[7]&127)<<14|(t[8]&127)<<7|t[9]&127;return t.slice(a+10)};function ON(e){return typeof e=="string"&&e.startsWith("SUQz")||typeof e!="string"&&e.length>10&&e[0]===73&&e[1]===68&&e[2]===51?CN(e):e}function MN({data:e,signatures:t}){const a=ON(e);for(const n of t)if(typeof a=="string"?a.startsWith(n.base64Prefix):a.length>=n.bytesPrefix.length&&n.bytesPrefix.every((r,s)=>a[s]===r))return n.mimeType}var nb="AI_NoObjectGeneratedError",rb=`vercel.ai.error.${nb}`,jN=Symbol.for(rb),sb,oh=class extends J{constructor({message:e="No object generated.",cause:t,text:a,response:n,usage:r,finishReason:s}){super({name:nb,message:e,cause:t}),this[sb]=!0,this.text=a,this.response=n,this.usage=r,this.finishReason=s}static isInstance(e){return J.hasMarker(e,rb)}};sb=jN;var lb="AI_DownloadError",ib=`vercel.ai.error.${lb}`,DN=Symbol.for(ib),ob,rc=class extends J{constructor({url:e,statusCode:t,statusText:a,cause:n,message:r=n==null?`Failed to download ${e}: ${t} ${a}`:`Failed to download ${e}: ${n}`}){super({name:lb,message:r,cause:n}),this[ob]=!0,this.url=e,this.statusCode=t,this.statusText=a}static isInstance(e){return J.hasMarker(e,ib)}};ob=DN;async function UN({url:e}){var t;const a=e.toString();try{const n=await fetch(a);if(!n.ok)throw new rc({url:a,statusCode:n.status,statusText:n.statusText});return{data:new Uint8Array(await n.arrayBuffer()),mimeType:(t=n.headers.get("content-type"))!=null?t:void 0}}catch(n){throw rc.isInstance(n)?n:new rc({url:a,cause:n})}}var ub="AI_InvalidDataContentError",cb=`vercel.ai.error.${ub}`,zN=Symbol.for(cb),fb,uh=class extends J{constructor({content:e,cause:t,message:a=`Invalid data content. Expected a base64 string, Uint8Array, ArrayBuffer, or Buffer, but got ${typeof e}.`}){super({name:ub,message:a,cause:t}),this[fb]=!0,this.content=e}static isInstance(e){return J.hasMarker(e,cb)}};fb=zN;var db=Ye([T(),Mo(Uint8Array),Mo(ArrayBuffer),N0(e=>{var t,a;return(a=(t=globalThis.Buffer)==null?void 0:t.isBuffer(e))!=null?a:!1},{message:"Must be a Buffer"})]);function Bd(e){return typeof e=="string"?e:e instanceof ArrayBuffer?os(new Uint8Array(e)):os(e)}function qo(e){if(e instanceof Uint8Array)return e;if(typeof e=="string")try{return ou(e)}catch(t){throw new uh({message:"Invalid data content. Content string is not a base64-encoded media.",content:e,cause:t})}if(e instanceof ArrayBuffer)return new Uint8Array(e);throw new uh({content:e})}function IN(e){try{return new TextDecoder().decode(e)}catch{throw new Error("Error decoding Uint8Array to text")}}var pb="AI_InvalidMessageRoleError",mb=`vercel.ai.error.${pb}`,LN=Symbol.for(mb),hb,qN=class extends J{constructor({role:e,message:t=`Invalid message role: '${e}'. Must be one of: "system", "user", "assistant", "tool".`}){super({name:pb,message:t}),this[hb]=!0,this.role=e}static isInstance(e){return J.hasMarker(e,mb)}};hb=LN;function HN(e){try{const[t,a]=e.split(",");return{mimeType:t.split(";")[0].split(":")[1],base64Content:a}}catch{return{mimeType:void 0,base64Content:void 0}}}async function gb({prompt:e,modelSupportsImageUrls:t=!0,modelSupportsUrl:a=()=>!1,downloadImplementation:n=UN}){const r=await $N(e.messages,n,t,a);return[...e.system!=null?[{role:"system",content:e.system}]:[],...e.messages.map(s=>BN(s,r))]}function BN(e,t){var a,n,r,s,l,i;const o=e.role;switch(o){case"system":return{role:"system",content:e.content,providerMetadata:(a=e.providerOptions)!=null?a:e.experimental_providerMetadata};case"user":return typeof e.content=="string"?{role:"user",content:[{type:"text",text:e.content}],providerMetadata:(n=e.providerOptions)!=null?n:e.experimental_providerMetadata}:{role:"user",content:e.content.map(u=>VN(u,t)).filter(u=>u.type!=="text"||u.text!==""),providerMetadata:(r=e.providerOptions)!=null?r:e.experimental_providerMetadata};case"assistant":return typeof e.content=="string"?{role:"assistant",content:[{type:"text",text:e.content}],providerMetadata:(s=e.providerOptions)!=null?s:e.experimental_providerMetadata}:{role:"assistant",content:e.content.filter(u=>u.type!=="text"||u.text!=="").map(u=>{var c;const f=(c=u.providerOptions)!=null?c:u.experimental_providerMetadata;switch(u.type){case"file":return{type:"file",data:u.data instanceof URL?u.data:Bd(u.data),filename:u.filename,mimeType:u.mimeType,providerMetadata:f};case"reasoning":return{type:"reasoning",text:u.text,signature:u.signature,providerMetadata:f};case"redacted-reasoning":return{type:"redacted-reasoning",data:u.data,providerMetadata:f};case"text":return{type:"text",text:u.text,providerMetadata:f};case"tool-call":return{type:"tool-call",toolCallId:u.toolCallId,toolName:u.toolName,args:u.args,providerMetadata:f}}}),providerMetadata:(l=e.providerOptions)!=null?l:e.experimental_providerMetadata};case"tool":return{role:"tool",content:e.content.map(u=>{var c;return{type:"tool-result",toolCallId:u.toolCallId,toolName:u.toolName,result:u.result,content:u.experimental_content,isError:u.isError,providerMetadata:(c=u.providerOptions)!=null?c:u.experimental_providerMetadata}}),providerMetadata:(i=e.providerOptions)!=null?i:e.experimental_providerMetadata};default:{const u=o;throw new qN({role:u})}}}async function $N(e,t,a,n){const r=e.filter(l=>l.role==="user").map(l=>l.content).filter(l=>Array.isArray(l)).flat().filter(l=>l.type==="image"||l.type==="file").filter(l=>!(l.type==="image"&&a===!0)).map(l=>l.type==="image"?l.image:l.data).map(l=>typeof l=="string"&&(l.startsWith("http:")||l.startsWith("https:"))?new URL(l):l).filter(l=>l instanceof URL).filter(l=>!n(l)),s=await Promise.all(r.map(async l=>({url:l,data:await t({url:l})})));return Object.fromEntries(s.map(({url:l,data:i})=>[l.toString(),i]))}function VN(e,t){var a,n,r,s;if(e.type==="text")return{type:"text",text:e.text,providerMetadata:(a=e.providerOptions)!=null?a:e.experimental_providerMetadata};let l=e.mimeType,i,o,u;const c=e.type;switch(c){case"image":i=e.image;break;case"file":i=e.data;break;default:throw new Error(`Unsupported part type: ${c}`)}try{o=typeof i=="string"?new URL(i):i}catch{o=i}if(o instanceof URL)if(o.protocol==="data:"){const{mimeType:f,base64Content:m}=HN(o.toString());if(f==null||m==null)throw new Error(`Invalid data URL format in part ${c}`);l=f,u=qo(m)}else{const f=t[o.toString()];f?(u=f.data,l??(l=f.mimeType)):u=o}else u=qo(o);switch(c){case"image":return u instanceof Uint8Array&&(l=(n=MN({data:u,signatures:kN}))!=null?n:l),{type:"image",image:u,mimeType:l,providerMetadata:(r=e.providerOptions)!=null?r:e.experimental_providerMetadata};case"file":{if(l==null)throw new Error("Mime type is missing for file part");return{type:"file",data:u instanceof Uint8Array?Bd(u):u,filename:e.filename,mimeType:l,providerMetadata:(s=e.providerOptions)!=null?s:e.experimental_providerMetadata}}}}function yb({maxTokens:e,temperature:t,topP:a,topK:n,presencePenalty:r,frequencyPenalty:s,stopSequences:l,seed:i}){if(e!=null){if(!Number.isInteger(e))throw new Kt({parameter:"maxTokens",value:e,message:"maxTokens must be an integer"});if(e<1)throw new Kt({parameter:"maxTokens",value:e,message:"maxTokens must be >= 1"})}if(t!=null&&typeof t!="number")throw new Kt({parameter:"temperature",value:t,message:"temperature must be a number"});if(a!=null&&typeof a!="number")throw new Kt({parameter:"topP",value:a,message:"topP must be a number"});if(n!=null&&typeof n!="number")throw new Kt({parameter:"topK",value:n,message:"topK must be a number"});if(r!=null&&typeof r!="number")throw new Kt({parameter:"presencePenalty",value:r,message:"presencePenalty must be a number"});if(s!=null&&typeof s!="number")throw new Kt({parameter:"frequencyPenalty",value:s,message:"frequencyPenalty must be a number"});if(i!=null&&!Number.isInteger(i))throw new Kt({parameter:"seed",value:i,message:"seed must be an integer"});return{maxTokens:e,temperature:t??0,topP:a,topK:n,presencePenalty:r,frequencyPenalty:s,stopSequences:l!=null&&l.length>0?l:void 0,seed:i}}function ch(e){var t,a,n;const r=[];for(const s of e){let l;try{l=new URL(s.url)}catch{throw new Error(`Invalid URL: ${s.url}`)}switch(l.protocol){case"http:":case"https:":{if((t=s.contentType)!=null&&t.startsWith("image/"))r.push({type:"image",image:l});else{if(!s.contentType)throw new Error("If the attachment is not an image, it must specify a content type");r.push({type:"file",data:l,mimeType:s.contentType})}break}case"data:":{let i,o,u;try{[i,o]=s.url.split(","),u=i.split(";")[0].split(":")[1]}catch{throw new Error(`Error processing data URL: ${s.url}`)}if(u==null||o==null)throw new Error(`Invalid data URL format: ${s.url}`);if((a=s.contentType)!=null&&a.startsWith("image/"))r.push({type:"image",image:qo(o)});else if((n=s.contentType)!=null&&n.startsWith("text/"))r.push({type:"text",text:IN(qo(o))});else{if(!s.contentType)throw new Error("If the attachment is not an image or text, it must specify a content type");r.push({type:"file",data:o,mimeType:s.contentType})}break}default:throw new Error(`Unsupported URL protocol: ${l.protocol}`)}}return r}var vb="AI_MessageConversionError",bb=`vercel.ai.error.${vb}`,ZN=Symbol.for(bb),_b,sc=class extends J{constructor({originalMessage:e,message:t}){super({name:vb,message:t}),this[_b]=!0,this.originalMessage=e}static isInstance(e){return J.hasMarker(e,bb)}};_b=ZN;function PN(e,t){var a,n;const r=(a=t==null?void 0:t.tools)!=null?a:{},s=[];for(let l=0;l<e.length;l++){const i=e[l],o=l===e.length-1,{role:u,content:c,experimental_attachments:f}=i;switch(u){case"system":{s.push({role:"system",content:c});break}case"user":{if(i.parts==null)s.push({role:"user",content:f?[{type:"text",text:c},...ch(f)]:c});else{const m=i.parts.filter(h=>h.type==="text").map(h=>({type:"text",text:h.text}));s.push({role:"user",content:f?[...m,...ch(f)]:m})}break}case"assistant":{if(i.parts!=null){let S=function(){const p=[];for(const g of d)switch(g.type){case"file":case"text":{p.push(g);break}case"reasoning":{for(const w of g.details)switch(w.type){case"text":p.push({type:"reasoning",text:w.text,signature:w.signature});break;case"redacted":p.push({type:"redacted-reasoning",data:w.data});break}break}case"tool-invocation":p.push({type:"tool-call",toolCallId:g.toolInvocation.toolCallId,toolName:g.toolInvocation.toolName,args:g.toolInvocation.args});break;default:{const w=g;throw new Error(`Unsupported part: ${w}`)}}s.push({role:"assistant",content:p});const y=d.filter(g=>g.type==="tool-invocation").map(g=>g.toolInvocation);y.length>0&&s.push({role:"tool",content:y.map(g=>{if(!("result"in g))throw new sc({originalMessage:i,message:"ToolInvocation must have a result: "+JSON.stringify(g)});const{toolCallId:w,toolName:E,result:N}=g,R=r[E];return(R==null?void 0:R.experimental_toToolResultContent)!=null?{type:"tool-result",toolCallId:w,toolName:E,result:R.experimental_toToolResultContent(N),experimental_content:R.experimental_toToolResultContent(N)}:{type:"tool-result",toolCallId:w,toolName:E,result:N}})}),d=[],v=!1,_++},_=0,v=!1,d=[];for(const p of i.parts)switch(p.type){case"text":{v&&S(),d.push(p);break}case"file":case"reasoning":{d.push(p);break}case"tool-invocation":{((n=p.toolInvocation.step)!=null?n:0)!==_&&S(),d.push(p),v=!0;break}}S();break}const m=i.toolInvocations;if(m==null||m.length===0){s.push({role:"assistant",content:c});break}const h=m.reduce((S,_)=>{var v;return Math.max(S,(v=_.step)!=null?v:0)},0);for(let S=0;S<=h;S++){const _=m.filter(v=>{var d;return((d=v.step)!=null?d:0)===S});_.length!==0&&(s.push({role:"assistant",content:[...o&&c&&S===0?[{type:"text",text:c}]:[],..._.map(({toolCallId:v,toolName:d,args:p})=>({type:"tool-call",toolCallId:v,toolName:d,args:p}))]}),s.push({role:"tool",content:_.map(v=>{if(!("result"in v))throw new sc({originalMessage:i,message:"ToolInvocation must have a result: "+JSON.stringify(v)});const{toolCallId:d,toolName:p,result:y}=v,g=r[p];return(g==null?void 0:g.experimental_toToolResultContent)!=null?{type:"tool-result",toolCallId:d,toolName:p,result:g.experimental_toToolResultContent(y),experimental_content:g.experimental_toToolResultContent(y)}:{type:"tool-result",toolCallId:d,toolName:p,result:y}})}))}c&&!o&&s.push({role:"assistant",content:c});break}case"data":break;default:{const m=u;throw new sc({originalMessage:i,message:`Unsupported role: ${m}`})}}}return s}var bf=vE(()=>Ye([yE(),T(),z(),aa(),Al(T(),bf),le(bf)])),qe=Al(T(),Al(T(),bf)),YN=le(Ye([A({type:q("text"),text:T()}),A({type:q("image"),data:T(),mimeType:T().optional()})])),xb=A({type:q("text"),text:T(),providerOptions:qe.optional(),experimental_providerMetadata:qe.optional()}),GN=A({type:q("image"),image:Ye([db,Mo(URL)]),mimeType:T().optional(),providerOptions:qe.optional(),experimental_providerMetadata:qe.optional()}),Sb=A({type:q("file"),data:Ye([db,Mo(URL)]),filename:T().optional(),mimeType:T(),providerOptions:qe.optional(),experimental_providerMetadata:qe.optional()}),KN=A({type:q("reasoning"),text:T(),providerOptions:qe.optional(),experimental_providerMetadata:qe.optional()}),XN=A({type:q("redacted-reasoning"),data:T(),providerOptions:qe.optional(),experimental_providerMetadata:qe.optional()}),JN=A({type:q("tool-call"),toolCallId:T(),toolName:T(),args:ni(),providerOptions:qe.optional(),experimental_providerMetadata:qe.optional()}),QN=A({type:q("tool-result"),toolCallId:T(),toolName:T(),result:ni(),content:YN.optional(),isError:aa().optional(),providerOptions:qe.optional(),experimental_providerMetadata:qe.optional()}),FN=A({role:q("system"),content:T(),providerOptions:qe.optional(),experimental_providerMetadata:qe.optional()}),WN=A({role:q("user"),content:Ye([T(),le(Ye([xb,GN,Sb]))]),providerOptions:qe.optional(),experimental_providerMetadata:qe.optional()}),ek=A({role:q("assistant"),content:Ye([T(),le(Ye([xb,Sb,KN,XN,JN]))]),providerOptions:qe.optional(),experimental_providerMetadata:qe.optional()}),tk=A({role:q("tool"),content:le(QN),providerOptions:qe.optional(),experimental_providerMetadata:qe.optional()}),ak=Ye([FN,WN,ek,tk]);function wb({prompt:e,tools:t}){if(e.prompt==null&&e.messages==null)throw new $a({prompt:e,message:"prompt or messages must be defined"});if(e.prompt!=null&&e.messages!=null)throw new $a({prompt:e,message:"prompt and messages cannot be defined at the same time"});if(e.system!=null&&typeof e.system!="string")throw new $a({prompt:e,message:"system must be a string"});if(e.prompt!=null){if(typeof e.prompt!="string")throw new $a({prompt:e,message:"prompt must be a string"});return{type:"prompt",system:e.system,messages:[{role:"user",content:e.prompt}]}}if(e.messages!=null){const n=nk(e.messages)==="ui-messages"?PN(e.messages,{tools:t}):e.messages;if(n.length===0)throw new $a({prompt:e,message:"messages must not be empty"});const r=ws({value:n,schema:le(ak)});if(!r.success)throw new $a({prompt:e,message:["message must be a CoreMessage or a UI message",`Validation error: ${r.error.message}`].join(`
`),cause:r.error});return{type:"messages",messages:n,system:e.system}}throw new Error("unreachable")}function nk(e){if(!Array.isArray(e))throw new $a({prompt:e,message:["messages must be an array of CoreMessage or UIMessage",`Received non-array value: ${JSON.stringify(e)}`].join(`
`),cause:e});if(e.length===0)return"messages";const t=e.map(rk);if(t.some(n=>n==="has-ui-specific-parts"))return"ui-messages";const a=t.findIndex(n=>n!=="has-core-specific-parts"&&n!=="message");if(a===-1)return"messages";throw new $a({prompt:e,message:["messages must be an array of CoreMessage or UIMessage",`Received message of type: "${t[a]}" at index ${a}`,`messages[${a}]: ${JSON.stringify(e[a])}`].join(`
`),cause:e})}function rk(e){return typeof e=="object"&&e!==null&&(e.role==="function"||e.role==="data"||"toolInvocations"in e||"parts"in e||"experimental_attachments"in e)?"has-ui-specific-parts":typeof e=="object"&&e!==null&&"content"in e&&(Array.isArray(e.content)||"experimental_providerMetadata"in e||"providerOptions"in e)?"has-core-specific-parts":typeof e=="object"&&e!==null&&"role"in e&&"content"in e&&typeof e.content=="string"&&["system","user","assistant","tool"].includes(e.role)?"message":"other"}function Tb({promptTokens:e,completionTokens:t}){return{promptTokens:e,completionTokens:t,totalTokens:e+t}}function Eb(e,t){return{promptTokens:e.promptTokens+t.promptTokens,completionTokens:e.completionTokens+t.completionTokens,totalTokens:e.totalTokens+t.totalTokens}}var sk="JSON schema:",lk="You MUST answer with a JSON object that matches the JSON schema above.",ik="You MUST answer with JSON.";function ok({prompt:e,schema:t,schemaPrefix:a=t!=null?sk:void 0,schemaSuffix:n=t!=null?lk:ik}){return[e!=null&&e.length>0?e:void 0,e!=null&&e.length>0?"":void 0,a,t!=null?JSON.stringify(t):void 0,n].filter(r=>r!=null).join(`
`)}function lc(e){const t=e.pipeThrough(new TransformStream);return t[Symbol.asyncIterator]=()=>{const a=t.getReader();return{async next(){const{done:n,value:r}=await a.read();return n?{done:!0,value:void 0}:{done:!1,value:r}}}},t}function Ab(e){const t=e.map(a=>({...a,content:typeof a.content=="string"?a.content:a.content.map(uk)}));return JSON.stringify(t)}function uk(e){return e.type==="image"?{...e,image:e.image instanceof Uint8Array?Bd(e.image):e.image}:e}br({prefix:"aiobj",size:24});var At=class{constructor(){this.status={type:"pending"},this._resolve=void 0,this._reject=void 0}get value(){return this.promise?this.promise:(this.promise=new Promise((e,t)=>{this.status.type==="resolved"?e(this.status.value):this.status.type==="rejected"&&t(this.status.error),this._resolve=e,this._reject=t}),this.promise)}resolve(e){var t;this.status={type:"resolved",value:e},this.promise&&((t=this._resolve)==null||t.call(this,e))}reject(e){var t;this.status={type:"rejected",error:e},this.promise&&((t=this._reject)==null||t.call(this,e))}};function fh(){let e,t;return{promise:new Promise((n,r)=>{e=n,t=r}),resolve:e,reject:t}}function ck(){let e=[],t=null,a=!1,n=fh();const r=async()=>{if(a&&e.length===0){t==null||t.close();return}if(e.length===0)return n=fh(),await n.promise,r();try{const{value:s,done:l}=await e[0].read();l?(e.shift(),e.length>0?await r():a&&(t==null||t.close())):t==null||t.enqueue(s)}catch(s){t==null||t.error(s),e.shift(),a&&e.length===0&&(t==null||t.close())}};return{stream:new ReadableStream({start(s){t=s},pull:r,async cancel(){for(const s of e)await s.cancel();e=[],a=!0}}),addStream:s=>{if(a)throw new Error("Cannot add inner stream: outer stream is closed");e.push(s.getReader()),n.resolve()},close:()=>{a=!0,n.resolve(),e.length===0&&(t==null||t.close())},terminate:()=>{a=!0,n.resolve(),e.forEach(s=>s.cancel()),e=[],t==null||t.close()}}}function fk(){var e,t;return(t=(e=globalThis==null?void 0:globalThis.performance)==null?void 0:e.now())!=null?t:Date.now()}br({prefix:"aiobj",size:24});var Rb="AI_NoOutputSpecifiedError",Nb=`vercel.ai.error.${Rb}`,dk=Symbol.for(Nb),kb,Cb=class extends J{constructor({message:e="No output specified."}={}){super({name:Rb,message:e}),this[kb]=!0}static isInstance(e){return J.hasMarker(e,Nb)}};kb=dk;var Ob="AI_ToolExecutionError",Mb=`vercel.ai.error.${Ob}`,pk=Symbol.for(Mb),jb,Db=class extends J{constructor({toolArgs:e,toolName:t,toolCallId:a,cause:n,message:r=`Error executing tool ${t}: ${ti(n)}`}){super({name:Ob,message:r,cause:n}),this[jb]=!0,this.toolArgs=e,this.toolName=t,this.toolCallId=a}static isInstance(e){return J.hasMarker(e,Mb)}};jb=pk;function mk(e){return e!=null&&Object.keys(e).length>0}function Ub({tools:e,toolChoice:t,activeTools:a}){return mk(e)?{tools:(a!=null?Object.entries(e).filter(([r])=>a.includes(r)):Object.entries(e)).map(([r,s])=>{const l=s.type;switch(l){case void 0:case"function":return{type:"function",name:r,description:s.description,parameters:cu(s.parameters).jsonSchema};case"provider-defined":return{type:"provider-defined",name:r,id:s.id,args:s.args};default:{const i=l;throw new Error(`Unsupported tool type: ${i}`)}}}),toolChoice:t==null?{type:"auto"}:typeof t=="string"?{type:t}:{type:"tool",toolName:t.toolName}}:{tools:void 0,toolChoice:void 0}}var hk=/^([\s\S]*?)(\s+)(\S*)$/;function zb(e){const t=e.match(hk);return t?{prefix:t[1],whitespace:t[2],suffix:t[3]}:void 0}function gk(e){const t=zb(e);return t?t.prefix+t.whitespace:e}var Ib="AI_InvalidToolArgumentsError",Lb=`vercel.ai.error.${Ib}`,yk=Symbol.for(Lb),qb,Hb=class extends J{constructor({toolArgs:e,toolName:t,cause:a,message:n=`Invalid arguments for tool ${t}: ${ti(a)}`}){super({name:Ib,message:n,cause:a}),this[qb]=!0,this.toolArgs=e,this.toolName=t}static isInstance(e){return J.hasMarker(e,Lb)}};qb=yk;var Bb="AI_NoSuchToolError",$b=`vercel.ai.error.${Bb}`,vk=Symbol.for($b),Vb,_f=class extends J{constructor({toolName:e,availableTools:t=void 0,message:a=`Model tried to call unavailable tool '${e}'. ${t===void 0?"No tools are available.":`Available tools: ${t.join(", ")}.`}`}){super({name:Bb,message:a}),this[Vb]=!0,this.toolName=e,this.availableTools=t}static isInstance(e){return J.hasMarker(e,$b)}};Vb=vk;var Zb="AI_ToolCallRepairError",Pb=`vercel.ai.error.${Zb}`,bk=Symbol.for(Pb),Yb,_k=class extends J{constructor({cause:e,originalError:t,message:a=`Error repairing tool call: ${ti(e)}`}){super({name:Zb,message:a,cause:e}),this[Yb]=!0,this.originalError=t}static isInstance(e){return J.hasMarker(e,Pb)}};Yb=bk;async function Gb({toolCall:e,tools:t,repairToolCall:a,system:n,messages:r}){if(t==null)throw new _f({toolName:e.toolName});try{return await dh({toolCall:e,tools:t})}catch(s){if(a==null||!(_f.isInstance(s)||Hb.isInstance(s)))throw s;let l=null;try{l=await a({toolCall:e,tools:t,parameterSchema:({toolName:i})=>cu(t[i].parameters).jsonSchema,system:n,messages:r,error:s})}catch(i){throw new _k({cause:i,originalError:s})}if(l==null)throw s;return await dh({toolCall:l,tools:t})}}async function dh({toolCall:e,tools:t}){const a=e.toolName,n=t[a];if(n==null)throw new _f({toolName:e.toolName,availableTools:Object.keys(t)});const r=cu(n.parameters),s=e.args.trim()===""?ws({value:{},schema:r}):is({text:e.args,schema:r});if(s.success===!1)throw new Hb({toolName:a,toolArgs:e.args,cause:s.error});return{type:"tool-call",toolCallId:e.toolCallId,toolName:a,args:s.value}}function xf(e){const t=e.filter(a=>a.type==="text").map(a=>a.text).join("");return t.length>0?t:void 0}function Sf({text:e="",files:t,reasoning:a,tools:n,toolCalls:r,toolResults:s,messageId:l,generateMessageId:i}){const o=[],u=[];return a.length>0&&u.push(...a.map(c=>c.type==="text"?{...c,type:"reasoning"}:{...c,type:"redacted-reasoning"})),t.length>0&&u.push(...t.map(c=>({type:"file",data:c.base64,mimeType:c.mimeType}))),e.length>0&&u.push({type:"text",text:e}),r.length>0&&u.push(...r),u.length>0&&o.push({role:"assistant",content:u,id:l}),s.length>0&&o.push({role:"tool",id:i(),content:s.map(c=>{const f=n[c.toolName];return(f==null?void 0:f.experimental_toToolResultContent)!=null?{type:"tool-result",toolCallId:c.toolCallId,toolName:c.toolName,result:f.experimental_toToolResultContent(c.result),experimental_content:f.experimental_toToolResultContent(c.result)}:{type:"tool-result",toolCallId:c.toolCallId,toolName:c.toolName,result:c.result}})}),o}var xk=br({prefix:"aitxt",size:24}),Sk=br({prefix:"msg",size:24});async function ph({model:e,tools:t,toolChoice:a,system:n,prompt:r,messages:s,maxRetries:l,abortSignal:i,headers:o,maxSteps:u=1,experimental_generateMessageId:c=Sk,experimental_output:f,experimental_continueSteps:m=!1,experimental_telemetry:h,experimental_providerMetadata:S,providerOptions:_=S,experimental_activeTools:v,experimental_prepareStep:d,experimental_repairToolCall:p,_internal:{generateId:y=xk,currentDate:g=()=>new Date}={},onStepFinish:w,...E}){var N;if(u<1)throw new Kt({parameter:"maxSteps",value:u,message:"maxSteps must be at least 1"});const{maxRetries:R,retry:j}=W0({maxRetries:l}),$=eb({model:e,telemetry:h,headers:o,settings:{...E,maxRetries:R}}),me=wb({prompt:{system:(N=f==null?void 0:f.injectIntoSystemPrompt({system:n,model:e}))!=null?N:n,prompt:r,messages:s},tools:t}),ve=tb(h);return ds({name:"ai.generateText",attributes:na({telemetry:h,attributes:{...fs({operationId:"ai.generateText",telemetry:h}),...$,"ai.model.provider":e.provider,"ai.model.id":e.modelId,"ai.prompt":{input:()=>JSON.stringify({system:n,prompt:r,messages:s})},"ai.settings.maxSteps":u}}),tracer:ve,fn:async Qe=>{var Oe,Ue,U,Y,H,re,K,ee,He,Be,nt,Yt,bt,on;const $n=yb(E);let X,Fe=[],ia=[],ya=[],va=0;const Dt=[];let Ut="";const Me=[],pt=[];let ut={completionTokens:0,promptTokens:0,totalTokens:0},D="initial";do{const We=va===0?me.type:"messages",Et=[...me.messages,...Dt],$e=await(d==null?void 0:d({model:e,steps:pt,maxSteps:u,stepNumber:va})),un=(Oe=$e==null?void 0:$e.toolChoice)!=null?Oe:a,Ts=(Ue=$e==null?void 0:$e.experimental_activeTools)!=null?Ue:v,mt=(U=$e==null?void 0:$e.model)!=null?U:e,Vn=await gb({prompt:{type:We,system:me.system,messages:Et},modelSupportsImageUrls:mt.supportsImageUrls,modelSupportsUrl:(Y=mt.supportsUrl)==null?void 0:Y.bind(mt)}),ba={type:"regular",...Ub({tools:t,toolChoice:un,activeTools:Ts})};X=await j(()=>ds({name:"ai.generateText.doGenerate",attributes:na({telemetry:h,attributes:{...fs({operationId:"ai.generateText.doGenerate",telemetry:h}),...$,"ai.model.provider":mt.provider,"ai.model.id":mt.modelId,"ai.prompt.format":{input:()=>We},"ai.prompt.messages":{input:()=>Ab(Vn)},"ai.prompt.tools":{input:()=>{var V;return(V=ba.tools)==null?void 0:V.map(ce=>JSON.stringify(ce))}},"ai.prompt.toolChoice":{input:()=>ba.toolChoice!=null?JSON.stringify(ba.toolChoice):void 0},"gen_ai.system":mt.provider,"gen_ai.request.model":mt.modelId,"gen_ai.request.frequency_penalty":E.frequencyPenalty,"gen_ai.request.max_tokens":E.maxTokens,"gen_ai.request.presence_penalty":E.presencePenalty,"gen_ai.request.stop_sequences":E.stopSequences,"gen_ai.request.temperature":E.temperature,"gen_ai.request.top_k":E.topK,"gen_ai.request.top_p":E.topP}}),tracer:ve,fn:async V=>{var ce,Ge,Ee,oa,_a,xr;const ht=await mt.doGenerate({mode:ba,...$n,inputFormat:We,responseFormat:f==null?void 0:f.responseFormat({model:e}),prompt:Vn,providerMetadata:_,abortSignal:i,headers:o}),Ia={id:(Ge=(ce=ht.response)==null?void 0:ce.id)!=null?Ge:y(),timestamp:(oa=(Ee=ht.response)==null?void 0:Ee.timestamp)!=null?oa:g(),modelId:(xr=(_a=ht.response)==null?void 0:_a.modelId)!=null?xr:mt.modelId};return V.setAttributes(na({telemetry:h,attributes:{"ai.response.finishReason":ht.finishReason,"ai.response.text":{output:()=>ht.text},"ai.response.toolCalls":{output:()=>JSON.stringify(ht.toolCalls)},"ai.response.id":Ia.id,"ai.response.model":Ia.modelId,"ai.response.timestamp":Ia.timestamp.toISOString(),"ai.usage.promptTokens":ht.usage.promptTokens,"ai.usage.completionTokens":ht.usage.completionTokens,"gen_ai.response.finish_reasons":[ht.finishReason],"gen_ai.response.id":Ia.id,"gen_ai.response.model":Ia.modelId,"gen_ai.usage.input_tokens":ht.usage.promptTokens,"gen_ai.usage.output_tokens":ht.usage.completionTokens}})),{...ht,response:Ia}}})),Fe=await Promise.all(((H=X.toolCalls)!=null?H:[]).map(V=>Gb({toolCall:V,tools:t,repairToolCall:p,system:n,messages:Et}))),ia=t==null?[]:await wk({toolCalls:Fe,tools:t,tracer:ve,telemetry:h,messages:Et,abortSignal:i});const C=Tb(X.usage);ut=Eb(ut,C);let P="done";++va<u&&(m&&X.finishReason==="length"&&Fe.length===0?P="continue":Fe.length>0&&ia.length===Fe.length&&(P="tool-result"));const L=(re=X.text)!=null?re:"",G=D==="continue"&&Ut.trimEnd()!==Ut?L.trimStart():L,Q=P==="continue"?gk(G):G;if(Ut=P==="continue"||D==="continue"?Ut+Q:Q,ya=mh(X.reasoning),Me.push(...(K=X.sources)!=null?K:[]),D==="continue"){const V=Dt[Dt.length-1];typeof V.content=="string"?V.content+=Q:V.content.push({text:Q,type:"text"})}else Dt.push(...Sf({text:Ut,files:ic(X.files),reasoning:mh(X.reasoning),tools:t??{},toolCalls:Fe,toolResults:ia,messageId:c(),generateMessageId:c}));const de={stepType:D,text:Q,reasoning:xf(ya),reasoningDetails:ya,files:ic(X.files),sources:(ee=X.sources)!=null?ee:[],toolCalls:Fe,toolResults:ia,finishReason:X.finishReason,usage:C,warnings:X.warnings,logprobs:X.logprobs,request:(He=X.request)!=null?He:{},response:{...X.response,headers:(Be=X.rawResponse)==null?void 0:Be.headers,body:(nt=X.rawResponse)==null?void 0:nt.body,messages:structuredClone(Dt)},providerMetadata:X.providerMetadata,experimental_providerMetadata:X.providerMetadata,isContinued:P==="continue"};pt.push(de),await(w==null?void 0:w(de)),D=P}while(D!=="done");return Qe.setAttributes(na({telemetry:h,attributes:{"ai.response.finishReason":X.finishReason,"ai.response.text":{output:()=>X.text},"ai.response.toolCalls":{output:()=>JSON.stringify(X.toolCalls)},"ai.usage.promptTokens":X.usage.promptTokens,"ai.usage.completionTokens":X.usage.completionTokens}})),new Tk({text:Ut,files:ic(X.files),reasoning:xf(ya),reasoningDetails:ya,sources:Me,outputResolver:()=>{if(f==null)throw new Cb;return f.parseOutput({text:Ut},{response:X.response,usage:ut,finishReason:X.finishReason})},toolCalls:Fe,toolResults:ia,finishReason:X.finishReason,usage:ut,warnings:X.warnings,request:(Yt=X.request)!=null?Yt:{},response:{...X.response,headers:(bt=X.rawResponse)==null?void 0:bt.headers,body:(on=X.rawResponse)==null?void 0:on.body,messages:Dt},logprobs:X.logprobs,steps:pt,providerMetadata:X.providerMetadata})}})}async function wk({toolCalls:e,tools:t,tracer:a,telemetry:n,messages:r,abortSignal:s}){return(await Promise.all(e.map(async({toolCallId:i,toolName:o,args:u})=>{const c=t[o];if((c==null?void 0:c.execute)==null)return;const f=await ds({name:"ai.toolCall",attributes:na({telemetry:n,attributes:{...fs({operationId:"ai.toolCall",telemetry:n}),"ai.toolCall.name":o,"ai.toolCall.id":i,"ai.toolCall.args":{output:()=>JSON.stringify(u)}}}),tracer:a,fn:async m=>{try{const h=await c.execute(u,{toolCallId:i,messages:r,abortSignal:s});try{m.setAttributes(na({telemetry:n,attributes:{"ai.toolCall.result":{output:()=>JSON.stringify(h)}}}))}catch{}return h}catch(h){throw new Db({toolCallId:i,toolName:o,toolArgs:u,cause:h})}}});return{type:"tool-result",toolCallId:i,toolName:o,args:u,result:f}}))).filter(i=>i!=null)}var Tk=class{constructor(e){this.text=e.text,this.files=e.files,this.reasoning=e.reasoning,this.reasoningDetails=e.reasoningDetails,this.toolCalls=e.toolCalls,this.toolResults=e.toolResults,this.finishReason=e.finishReason,this.usage=e.usage,this.warnings=e.warnings,this.request=e.request,this.response=e.response,this.steps=e.steps,this.experimental_providerMetadata=e.providerMetadata,this.providerMetadata=e.providerMetadata,this.logprobs=e.logprobs,this.outputResolver=e.outputResolver,this.sources=e.sources}get experimental_output(){return this.outputResolver()}};function mh(e){return e==null?[]:typeof e=="string"?[{type:"text",text:e}]:e}function ic(e){var t;return(t=e==null?void 0:e.map(a=>new ab(a)))!=null?t:[]}var Ek={};Hd(Ek,{object:()=>kk,text:()=>Nk});var Kb="AI_InvalidStreamPartError",Xb=`vercel.ai.error.${Kb}`,Ak=Symbol.for(Xb),Jb,Rk=class extends J{constructor({chunk:e,message:t}){super({name:Kb,message:t}),this[Jb]=!0,this.chunk=e}static isInstance(e){return J.hasMarker(e,Xb)}};Jb=Ak;var Nk=()=>({type:"text",responseFormat:()=>({type:"text"}),injectIntoSystemPrompt({system:e}){return e},parsePartial({text:e}){return{partial:e}},parseOutput({text:e}){return e}}),kk=({schema:e})=>{const t=cu(e);return{type:"object",responseFormat:({model:a})=>({type:"json",schema:a.supportsStructuredOutputs?t.jsonSchema:void 0}),injectIntoSystemPrompt({system:a,model:n}){return n.supportsStructuredOutputs?a:ok({prompt:a,schema:t.jsonSchema})},parsePartial({text:a}){const n=_R(a);switch(n.state){case"failed-parse":case"undefined-input":return;case"repaired-parse":case"successful-parse":return{partial:n.value};default:{const r=n.state;throw new Error(`Unsupported parse state: ${r}`)}}},parseOutput({text:a},n){const r=is({text:a});if(!r.success)throw new oh({message:"No object generated: could not parse the response.",cause:r.error,text:a,response:n.response,usage:n.usage,finishReason:n.finishReason});const s=ws({value:r.value,schema:t});if(!s.success)throw new oh({message:"No object generated: response did not match schema.",cause:s.error,text:a,response:n.response,usage:n.usage,finishReason:n.finishReason});return s.value}}};function Ck(e){return e===void 0?[]:Array.isArray(e)?e:[e]}async function Ok({stream:e,onError:t}){const a=e.getReader();try{for(;;){const{done:n}=await a.read();if(n)break}}catch(n){t==null||t(n)}finally{a.releaseLock()}}function $d(e,t){const a=e.getReader(),n=t.getReader();let r,s,l=!1,i=!1;async function o(c){try{r==null&&(r=a.read());const f=await r;r=void 0,f.done?c.close():c.enqueue(f.value)}catch(f){c.error(f)}}async function u(c){try{s==null&&(s=n.read());const f=await s;s=void 0,f.done?c.close():c.enqueue(f.value)}catch(f){c.error(f)}}return new ReadableStream({async pull(c){try{if(l){await u(c);return}if(i){await o(c);return}r==null&&(r=a.read()),s==null&&(s=n.read());const{result:f,reader:m}=await Promise.race([r.then(h=>({result:h,reader:a})),s.then(h=>({result:h,reader:n}))]);f.done||c.enqueue(f.value),m===a?(r=void 0,f.done&&(await u(c),l=!0)):(s=void 0,f.done&&(i=!0,await o(c)))}catch(f){c.error(f)}},cancel(){a.cancel(),n.cancel()}})}function Mk({tools:e,generatorStream:t,toolCallStreaming:a,tracer:n,telemetry:r,system:s,messages:l,abortSignal:i,repairToolCall:o}){let u=null;const c=new ReadableStream({start(d){u=d}}),f={},m=new Set;let h=!1,S;function _(){h&&m.size===0&&(S!=null&&u.enqueue(S),u.close())}const v=new TransformStream({async transform(d,p){const y=d.type;switch(y){case"text-delta":case"reasoning":case"reasoning-signature":case"redacted-reasoning":case"source":case"response-metadata":case"error":{p.enqueue(d);break}case"file":{p.enqueue(new NN({data:d.data,mimeType:d.mimeType}));break}case"tool-call-delta":{a&&(f[d.toolCallId]||(p.enqueue({type:"tool-call-streaming-start",toolCallId:d.toolCallId,toolName:d.toolName}),f[d.toolCallId]=!0),p.enqueue({type:"tool-call-delta",toolCallId:d.toolCallId,toolName:d.toolName,argsTextDelta:d.argsTextDelta}));break}case"tool-call":{try{const g=await Gb({toolCall:d,tools:e,repairToolCall:o,system:s,messages:l});p.enqueue(g);const w=e[g.toolName];if(w.execute!=null){const E=xn();m.add(E),ds({name:"ai.toolCall",attributes:na({telemetry:r,attributes:{...fs({operationId:"ai.toolCall",telemetry:r}),"ai.toolCall.name":g.toolName,"ai.toolCall.id":g.toolCallId,"ai.toolCall.args":{output:()=>JSON.stringify(g.args)}}}),tracer:n,fn:async N=>w.execute(g.args,{toolCallId:g.toolCallId,messages:l,abortSignal:i}).then(R=>{u.enqueue({...g,type:"tool-result",result:R}),m.delete(E),_();try{N.setAttributes(na({telemetry:r,attributes:{"ai.toolCall.result":{output:()=>JSON.stringify(R)}}}))}catch{}},R=>{u.enqueue({type:"error",error:new Db({toolCallId:g.toolCallId,toolName:g.toolName,toolArgs:g.args,cause:R})}),m.delete(E),_()})})}}catch(g){u.enqueue({type:"error",error:g})}break}case"finish":{S={type:"finish",finishReason:d.finishReason,logprobs:d.logprobs,usage:Tb(d.usage),experimental_providerMetadata:d.providerMetadata};break}default:{const g=y;throw new Error(`Unhandled chunk type: ${g}`)}}},flush(){h=!0,_()}});return new ReadableStream({async start(d){return Promise.all([t.pipeThrough(v).pipeTo(new WritableStream({write(p){d.enqueue(p)},close(){}})),c.pipeTo(new WritableStream({write(p){d.enqueue(p)},close(){d.close()}}))])}})}var jk=br({prefix:"aitxt",size:24}),Dk=br({prefix:"msg",size:24});function hh({model:e,tools:t,toolChoice:a,system:n,prompt:r,messages:s,maxRetries:l,abortSignal:i,headers:o,maxSteps:u=1,experimental_generateMessageId:c=Dk,experimental_output:f,experimental_continueSteps:m=!1,experimental_telemetry:h,experimental_providerMetadata:S,providerOptions:_=S,experimental_toolCallStreaming:v=!1,toolCallStreaming:d=v,experimental_activeTools:p,experimental_repairToolCall:y,experimental_transform:g,onChunk:w,onError:E,onFinish:N,onStepFinish:R,_internal:{now:j=fk,generateId:$=jk,currentDate:me=()=>new Date}={},...ve}){return new zk({model:e,telemetry:h,headers:o,settings:ve,maxRetries:l,abortSignal:i,system:n,prompt:r,messages:s,tools:t,toolChoice:a,toolCallStreaming:d,transforms:Ck(g),activeTools:p,repairToolCall:y,maxSteps:u,output:f,continueSteps:m,providerOptions:_,onChunk:w,onError:E,onFinish:N,onStepFinish:R,now:j,currentDate:me,generateId:$,generateMessageId:c})}function Uk(e){if(!e)return new TransformStream({transform(s,l){l.enqueue({part:s,partialOutput:void 0})}});let t="",a="",n="";function r({controller:s,partialOutput:l=void 0}){s.enqueue({part:{type:"text-delta",textDelta:a},partialOutput:l}),a=""}return new TransformStream({transform(s,l){if(s.type==="step-finish"&&r({controller:l}),s.type!=="text-delta"){l.enqueue({part:s,partialOutput:void 0});return}t+=s.textDelta,a+=s.textDelta;const i=e.parsePartial({text:t});if(i!=null){const o=JSON.stringify(i.partial);o!==n&&(r({controller:l,partialOutput:i.partial}),n=o)}},flush(s){a.length>0&&r({controller:s})}})}var zk=class{constructor({model:e,telemetry:t,headers:a,settings:n,maxRetries:r,abortSignal:s,system:l,prompt:i,messages:o,tools:u,toolChoice:c,toolCallStreaming:f,transforms:m,activeTools:h,repairToolCall:S,maxSteps:_,output:v,continueSteps:d,providerOptions:p,now:y,currentDate:g,generateId:w,generateMessageId:E,onChunk:N,onError:R,onFinish:j,onStepFinish:$}){this.warningsPromise=new At,this.usagePromise=new At,this.finishReasonPromise=new At,this.providerMetadataPromise=new At,this.textPromise=new At,this.reasoningPromise=new At,this.reasoningDetailsPromise=new At,this.sourcesPromise=new At,this.filesPromise=new At,this.toolCallsPromise=new At,this.toolResultsPromise=new At,this.requestPromise=new At,this.responsePromise=new At,this.stepsPromise=new At;var me;if(_<1)throw new Kt({parameter:"maxSteps",value:_,message:"maxSteps must be at least 1"});this.output=v;let ve="",Qe="",Oe="",Ue=[],U=[],Y,H=[];const re=[],K={id:w(),timestamp:g(),modelId:e.modelId,messages:[]};let ee=[],He=[],Be,nt,Yt="initial";const bt=[];let on;const $n=new TransformStream({async transform(pt,ut){ut.enqueue(pt);const{part:D}=pt;if((D.type==="text-delta"||D.type==="reasoning"||D.type==="source"||D.type==="tool-call"||D.type==="tool-result"||D.type==="tool-call-streaming-start"||D.type==="tool-call-delta")&&await(N==null?void 0:N({chunk:D})),D.type==="error"&&await(R==null?void 0:R({error:D.error})),D.type==="text-delta"&&(ve+=D.textDelta,Qe+=D.textDelta,Oe+=D.textDelta),D.type==="reasoning"&&(Y==null?(Y={type:"text",text:D.textDelta},Ue.push(Y)):Y.text+=D.textDelta),D.type==="reasoning-signature"){if(Y==null)throw new J({name:"InvalidStreamPart",message:"reasoning-signature without reasoning"});Y.signature=D.signature,Y=void 0}if(D.type==="redacted-reasoning"&&Ue.push({type:"redacted",data:D.data}),D.type==="file"&&U.push(D),D.type==="source"&&(re.push(D.source),H.push(D.source)),D.type==="tool-call"&&ee.push(D),D.type==="tool-result"&&He.push(D),D.type==="step-finish"){const We=Sf({text:Qe,files:U,reasoning:Ue,tools:u??{},toolCalls:ee,toolResults:He,messageId:D.messageId,generateMessageId:E}),Et=bt.length;let $e="done";Et+1<_&&(d&&D.finishReason==="length"&&ee.length===0?$e="continue":ee.length>0&&He.length===ee.length&&($e="tool-result"));const un={stepType:Yt,text:ve,reasoning:xf(Ue),reasoningDetails:Ue,files:U,sources:H,toolCalls:ee,toolResults:He,finishReason:D.finishReason,usage:D.usage,warnings:D.warnings,logprobs:D.logprobs,request:D.request,response:{...D.response,messages:[...K.messages,...We]},providerMetadata:D.experimental_providerMetadata,experimental_providerMetadata:D.experimental_providerMetadata,isContinued:D.isContinued};await($==null?void 0:$(un)),bt.push(un),ee=[],He=[],ve="",H=[],Ue=[],U=[],Y=void 0,$e!=="done"&&(Yt=$e),$e!=="continue"&&(K.messages.push(...We),Qe="")}D.type==="finish"&&(K.id=D.response.id,K.timestamp=D.response.timestamp,K.modelId=D.response.modelId,K.headers=D.response.headers,nt=D.usage,Be=D.finishReason)},async flush(pt){var ut;try{if(bt.length===0)return;const D=bt[bt.length-1];Me.warningsPromise.resolve(D.warnings),Me.requestPromise.resolve(D.request),Me.responsePromise.resolve(D.response),Me.toolCallsPromise.resolve(D.toolCalls),Me.toolResultsPromise.resolve(D.toolResults),Me.providerMetadataPromise.resolve(D.experimental_providerMetadata),Me.reasoningPromise.resolve(D.reasoning),Me.reasoningDetailsPromise.resolve(D.reasoningDetails);const We=Be??"unknown",Et=nt??{completionTokens:NaN,promptTokens:NaN,totalTokens:NaN};Me.finishReasonPromise.resolve(We),Me.usagePromise.resolve(Et),Me.textPromise.resolve(Oe),Me.sourcesPromise.resolve(re),Me.filesPromise.resolve(D.files),Me.stepsPromise.resolve(bt),await(j==null?void 0:j({finishReason:We,logprobs:void 0,usage:Et,text:Oe,reasoning:D.reasoning,reasoningDetails:D.reasoningDetails,files:D.files,sources:D.sources,toolCalls:D.toolCalls,toolResults:D.toolResults,request:(ut=D.request)!=null?ut:{},response:D.response,warnings:D.warnings,providerMetadata:D.providerMetadata,experimental_providerMetadata:D.experimental_providerMetadata,steps:bt})),on.setAttributes(na({telemetry:t,attributes:{"ai.response.finishReason":We,"ai.response.text":{output:()=>Oe},"ai.response.toolCalls":{output:()=>{var $e;return($e=D.toolCalls)!=null&&$e.length?JSON.stringify(D.toolCalls):void 0}},"ai.usage.promptTokens":Et.promptTokens,"ai.usage.completionTokens":Et.completionTokens}}))}catch(D){pt.error(D)}finally{on.end()}}}),X=ck();this.addStream=X.addStream,this.closeStream=X.close;let Fe=X.stream;for(const pt of m)Fe=Fe.pipeThrough(pt({tools:u,stopStream(){X.terminate()}}));this.baseStream=Fe.pipeThrough(Uk(v)).pipeThrough($n);const{maxRetries:ia,retry:ya}=W0({maxRetries:r}),va=tb(t),Dt=eb({model:e,telemetry:t,headers:a,settings:{...n,maxRetries:ia}}),Ut=wb({prompt:{system:(me=v==null?void 0:v.injectIntoSystemPrompt({system:l,model:e}))!=null?me:l,prompt:i,messages:o},tools:u}),Me=this;ds({name:"ai.streamText",attributes:na({telemetry:t,attributes:{...fs({operationId:"ai.streamText",telemetry:t}),...Dt,"ai.prompt":{input:()=>JSON.stringify({system:l,prompt:i,messages:o})},"ai.settings.maxSteps":_}}),tracer:va,endWhenDone:!1,fn:async pt=>{on=pt;async function ut({currentStep:D,responseMessages:We,usage:Et,stepType:$e,previousStepText:un,hasLeadingWhitespace:Ts,messageId:mt}){var Vn;const ba=We.length===0?Ut.type:"messages",C=[...Ut.messages,...We],P=await gb({prompt:{type:ba,system:Ut.system,messages:C},modelSupportsImageUrls:e.supportsImageUrls,modelSupportsUrl:(Vn=e.supportsUrl)==null?void 0:Vn.bind(e)}),L={type:"regular",...Ub({tools:u,toolChoice:c,activeTools:h})},{result:{stream:G,warnings:Q,rawResponse:de,request:V},doStreamSpan:ce,startTimestampMs:Ge}=await ya(()=>ds({name:"ai.streamText.doStream",attributes:na({telemetry:t,attributes:{...fs({operationId:"ai.streamText.doStream",telemetry:t}),...Dt,"ai.prompt.format":{input:()=>ba},"ai.prompt.messages":{input:()=>Ab(P)},"ai.prompt.tools":{input:()=>{var ae;return(ae=L.tools)==null?void 0:ae.map(Ve=>JSON.stringify(Ve))}},"ai.prompt.toolChoice":{input:()=>L.toolChoice!=null?JSON.stringify(L.toolChoice):void 0},"gen_ai.system":e.provider,"gen_ai.request.model":e.modelId,"gen_ai.request.frequency_penalty":n.frequencyPenalty,"gen_ai.request.max_tokens":n.maxTokens,"gen_ai.request.presence_penalty":n.presencePenalty,"gen_ai.request.stop_sequences":n.stopSequences,"gen_ai.request.temperature":n.temperature,"gen_ai.request.top_k":n.topK,"gen_ai.request.top_p":n.topP}}),tracer:va,endWhenDone:!1,fn:async ae=>({startTimestampMs:y(),doStreamSpan:ae,result:await e.doStream({mode:L,...yb(n),inputFormat:ba,responseFormat:v==null?void 0:v.responseFormat({model:e}),prompt:P,providerMetadata:p,abortSignal:s,headers:a})})})),Ee=Mk({tools:u,generatorStream:G,toolCallStreaming:f,tracer:va,telemetry:t,system:l,messages:C,repairToolCall:S,abortSignal:s}),oa=V??{},_a=[],xr=[],ht=[],Ia=[];let Zn,Pn="unknown",cn={promptTokens:0,completionTokens:0,totalTokens:0},Es,Yd=!0,As="",Gd=$e==="continue"?un:"",du,ua={id:w(),timestamp:g(),modelId:e.modelId},Sr="",Kd=!1,Xd=!0,Jd=!1;async function pu({controller:ae,chunk:Ve}){ae.enqueue(Ve),As+=Ve.textDelta,Gd+=Ve.textDelta,Kd=!0,Jd=Ve.textDelta.trimEnd()!==Ve.textDelta}Me.addStream(Ee.pipeThrough(new TransformStream({async transform(ae,Ve){var xa,Rs,Yn;if(Yd){const Sa=y()-Ge;Yd=!1,ce.addEvent("ai.stream.firstChunk",{"ai.response.msToFirstChunk":Sa}),ce.setAttributes({"ai.response.msToFirstChunk":Sa}),Ve.enqueue({type:"step-start",messageId:mt,request:oa,warnings:Q??[]})}if(ae.type==="text-delta"&&ae.textDelta.length===0)return;const Qd=ae.type;switch(Qd){case"text-delta":{if(d){const Sa=Xd&&Ts?ae.textDelta.trimStart():ae.textDelta;if(Sa.length===0)break;Xd=!1,Sr+=Sa;const ri=zb(Sr);ri!=null&&(Sr=ri.suffix,await pu({controller:Ve,chunk:{type:"text-delta",textDelta:ri.prefix+ri.whitespace}}))}else await pu({controller:Ve,chunk:ae});break}case"reasoning":{Ve.enqueue(ae),Zn==null?(Zn={type:"text",text:ae.textDelta},ht.push(Zn)):Zn.text+=ae.textDelta;break}case"reasoning-signature":{if(Ve.enqueue(ae),Zn==null)throw new Rk({chunk:ae,message:"reasoning-signature without reasoning"});Zn.signature=ae.signature,Zn=void 0;break}case"redacted-reasoning":{Ve.enqueue(ae),ht.push({type:"redacted",data:ae.data});break}case"tool-call":{Ve.enqueue(ae),_a.push(ae);break}case"tool-result":{Ve.enqueue(ae),xr.push(ae);break}case"response-metadata":{ua={id:(xa=ae.id)!=null?xa:ua.id,timestamp:(Rs=ae.timestamp)!=null?Rs:ua.timestamp,modelId:(Yn=ae.modelId)!=null?Yn:ua.modelId};break}case"finish":{cn=ae.usage,Pn=ae.finishReason,Es=ae.experimental_providerMetadata,du=ae.logprobs;const Sa=y()-Ge;ce.addEvent("ai.stream.finish"),ce.setAttributes({"ai.response.msToFinish":Sa,"ai.response.avgCompletionTokensPerSecond":1e3*cn.completionTokens/Sa});break}case"file":{Ia.push(ae),Ve.enqueue(ae);break}case"source":case"tool-call-streaming-start":case"tool-call-delta":{Ve.enqueue(ae);break}case"error":{Ve.enqueue(ae),Pn="error";break}default:{const Sa=Qd;throw new Error(`Unknown chunk type: ${Sa}`)}}},async flush(ae){const Ve=_a.length>0?JSON.stringify(_a):void 0;let xa="done";D+1<_&&(d&&Pn==="length"&&_a.length===0?xa="continue":_a.length>0&&xr.length===_a.length&&(xa="tool-result")),d&&Sr.length>0&&(xa!=="continue"||$e==="continue"&&!Kd)&&(await pu({controller:ae,chunk:{type:"text-delta",textDelta:Sr}}),Sr="");try{ce.setAttributes(na({telemetry:t,attributes:{"ai.response.finishReason":Pn,"ai.response.text":{output:()=>As},"ai.response.toolCalls":{output:()=>Ve},"ai.response.id":ua.id,"ai.response.model":ua.modelId,"ai.response.timestamp":ua.timestamp.toISOString(),"ai.usage.promptTokens":cn.promptTokens,"ai.usage.completionTokens":cn.completionTokens,"gen_ai.response.finish_reasons":[Pn],"gen_ai.response.id":ua.id,"gen_ai.response.model":ua.modelId,"gen_ai.usage.input_tokens":cn.promptTokens,"gen_ai.usage.output_tokens":cn.completionTokens}}))}catch{}finally{ce.end()}ae.enqueue({type:"step-finish",finishReason:Pn,usage:cn,providerMetadata:Es,experimental_providerMetadata:Es,logprobs:du,request:oa,response:{...ua,headers:de==null?void 0:de.headers},warnings:Q,isContinued:xa==="continue",messageId:mt});const Rs=Eb(Et,cn);if(xa==="done")ae.enqueue({type:"finish",finishReason:Pn,usage:Rs,providerMetadata:Es,experimental_providerMetadata:Es,logprobs:du,response:{...ua,headers:de==null?void 0:de.headers}}),Me.closeStream();else{if($e==="continue"){const Yn=We[We.length-1];typeof Yn.content=="string"?Yn.content+=As:Yn.content.push({text:As,type:"text"})}else We.push(...Sf({text:As,files:Ia,reasoning:ht,tools:u??{},toolCalls:_a,toolResults:xr,messageId:mt,generateMessageId:E}));await ut({currentStep:D+1,responseMessages:We,usage:Rs,stepType:xa,previousStepText:Gd,hasLeadingWhitespace:Jd,messageId:xa==="continue"?mt:E()})}}})))}await ut({currentStep:0,responseMessages:[],usage:{promptTokens:0,completionTokens:0,totalTokens:0},previousStepText:"",stepType:"initial",hasLeadingWhitespace:!1,messageId:E()})}}).catch(pt=>{Me.addStream(new ReadableStream({start(ut){ut.enqueue({type:"error",error:pt}),ut.close()}})),Me.closeStream()})}get warnings(){return this.warningsPromise.value}get usage(){return this.usagePromise.value}get finishReason(){return this.finishReasonPromise.value}get experimental_providerMetadata(){return this.providerMetadataPromise.value}get providerMetadata(){return this.providerMetadataPromise.value}get text(){return this.textPromise.value}get reasoning(){return this.reasoningPromise.value}get reasoningDetails(){return this.reasoningDetailsPromise.value}get sources(){return this.sourcesPromise.value}get files(){return this.filesPromise.value}get toolCalls(){return this.toolCallsPromise.value}get toolResults(){return this.toolResultsPromise.value}get request(){return this.requestPromise.value}get response(){return this.responsePromise.value}get steps(){return this.stepsPromise.value}teeStream(){const[e,t]=this.baseStream.tee();return this.baseStream=t,e}get textStream(){return lc(this.teeStream().pipeThrough(new TransformStream({transform({part:e},t){e.type==="text-delta"&&t.enqueue(e.textDelta)}})))}get fullStream(){return lc(this.teeStream().pipeThrough(new TransformStream({transform({part:e},t){t.enqueue(e)}})))}async consumeStream(e){var t;try{await Ok({stream:this.fullStream,onError:e==null?void 0:e.onError})}catch(a){(t=e==null?void 0:e.onError)==null||t.call(e,a)}}get experimental_partialOutputStream(){if(this.output==null)throw new Cb;return lc(this.teeStream().pipeThrough(new TransformStream({transform({partialOutput:e},t){e!=null&&t.enqueue(e)}})))}toDataStreamInternal({getErrorMessage:e=()=>"An error occurred.",sendUsage:t=!0,sendReasoning:a=!1,sendSources:n=!1,experimental_sendFinish:r=!0}){return this.fullStream.pipeThrough(new TransformStream({transform:async(s,l)=>{const i=s.type;switch(i){case"text-delta":{l.enqueue(gt("text",s.textDelta));break}case"reasoning":{a&&l.enqueue(gt("reasoning",s.textDelta));break}case"redacted-reasoning":{a&&l.enqueue(gt("redacted_reasoning",{data:s.data}));break}case"reasoning-signature":{a&&l.enqueue(gt("reasoning_signature",{signature:s.signature}));break}case"file":{l.enqueue(gt("file",{mimeType:s.mimeType,data:s.base64}));break}case"source":{n&&l.enqueue(gt("source",s.source));break}case"tool-call-streaming-start":{l.enqueue(gt("tool_call_streaming_start",{toolCallId:s.toolCallId,toolName:s.toolName}));break}case"tool-call-delta":{l.enqueue(gt("tool_call_delta",{toolCallId:s.toolCallId,argsTextDelta:s.argsTextDelta}));break}case"tool-call":{l.enqueue(gt("tool_call",{toolCallId:s.toolCallId,toolName:s.toolName,args:s.args}));break}case"tool-result":{l.enqueue(gt("tool_result",{toolCallId:s.toolCallId,result:s.result}));break}case"error":{l.enqueue(gt("error",e(s.error)));break}case"step-start":{l.enqueue(gt("start_step",{messageId:s.messageId}));break}case"step-finish":{l.enqueue(gt("finish_step",{finishReason:s.finishReason,usage:t?{promptTokens:s.usage.promptTokens,completionTokens:s.usage.completionTokens}:void 0,isContinued:s.isContinued}));break}case"finish":{r&&l.enqueue(gt("finish_message",{finishReason:s.finishReason,usage:t?{promptTokens:s.usage.promptTokens,completionTokens:s.usage.completionTokens}:void 0}));break}default:{const o=i;throw new Error(`Unknown chunk type: ${o}`)}}}}))}pipeDataStreamToResponse(e,{status:t,statusText:a,headers:n,data:r,getErrorMessage:s,sendUsage:l,sendReasoning:i,sendSources:o,experimental_sendFinish:u}={}){lh({response:e,status:t,statusText:a,headers:sh(n,{contentType:"text/plain; charset=utf-8",dataStreamVersion:"v1"}),stream:this.toDataStream({data:r,getErrorMessage:s,sendUsage:l,sendReasoning:i,sendSources:o,experimental_sendFinish:u})})}pipeTextStreamToResponse(e,t){lh({response:e,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText,headers:sh(t==null?void 0:t.headers,{contentType:"text/plain; charset=utf-8"}),stream:this.textStream.pipeThrough(new TextEncoderStream)})}toDataStream(e){const t=this.toDataStreamInternal({getErrorMessage:e==null?void 0:e.getErrorMessage,sendUsage:e==null?void 0:e.sendUsage,sendReasoning:e==null?void 0:e.sendReasoning,sendSources:e==null?void 0:e.sendSources,experimental_sendFinish:e==null?void 0:e.experimental_sendFinish}).pipeThrough(new TextEncoderStream);return e!=null&&e.data?$d(e==null?void 0:e.data.stream,t):t}mergeIntoDataStream(e,t){e.merge(this.toDataStreamInternal({getErrorMessage:e.onError,sendUsage:t==null?void 0:t.sendUsage,sendReasoning:t==null?void 0:t.sendReasoning,sendSources:t==null?void 0:t.sendSources,experimental_sendFinish:t==null?void 0:t.experimental_sendFinish}))}toDataStreamResponse({headers:e,status:t,statusText:a,data:n,getErrorMessage:r,sendUsage:s,sendReasoning:l,sendSources:i,experimental_sendFinish:o}={}){return new Response(this.toDataStream({data:n,getErrorMessage:r,sendUsage:s,sendReasoning:l,sendSources:i,experimental_sendFinish:o}),{status:t,statusText:a,headers:Lo(e,{contentType:"text/plain; charset=utf-8",dataStreamVersion:"v1"})})}toTextStreamResponse(e){var t;return new Response(this.textStream.pipeThrough(new TextEncoderStream),{status:(t=e==null?void 0:e.status)!=null?t:200,headers:Lo(e==null?void 0:e.headers,{contentType:"text/plain; charset=utf-8"})})}},Ik=A({name:T(),version:T()}).passthrough(),Vd=A({_meta:rt(A({}).passthrough())}).passthrough(),Ul=Vd,Lk=A({method:T(),params:rt(Vd)}),qk=A({experimental:rt(A({}).passthrough()),logging:rt(A({}).passthrough()),prompts:rt(A({listChanged:rt(aa())}).passthrough()),resources:rt(A({subscribe:rt(aa()),listChanged:rt(aa())}).passthrough()),tools:rt(A({listChanged:rt(aa())}).passthrough())}).passthrough();Ul.extend({protocolVersion:T(),capabilities:qk,serverInfo:Ik,instructions:rt(T())});var Hk=Ul.extend({nextCursor:rt(T())}),Bk=A({name:T(),description:rt(T()),inputSchema:A({type:q("object"),properties:rt(A({}).passthrough())}).passthrough()}).passthrough();Hk.extend({tools:le(Bk)});var $k=A({type:q("text"),text:T()}).passthrough(),Vk=A({type:q("image"),data:T().base64(),mimeType:T()}).passthrough(),Qb=A({uri:T(),mimeType:rt(T())}).passthrough(),Zk=Qb.extend({text:T()}),Pk=Qb.extend({blob:T().base64()}),Yk=A({type:q("resource"),resource:Ye([Zk,Pk])}).passthrough();Ul.extend({content:le(Ye([$k,Vk,Yk])),isError:aa().default(!1).optional()}).or(Ul.extend({toolResult:ni()}));var fu="2.0",Gk=A({jsonrpc:q(fu),id:Ye([T(),z().int()])}).merge(Lk).strict(),Kk=A({jsonrpc:q(fu),id:Ye([T(),z().int()]),result:Ul}).strict(),Xk=A({jsonrpc:q(fu),id:Ye([T(),z().int()]),error:A({code:z().int(),message:T(),data:rt(ni())})}).strict(),Jk=A({jsonrpc:q(fu)}).merge(A({method:T(),params:rt(Vd)})).strict();Ye([Gk,Jk,Kk,Xk]);var Qk={};Hd(Qk,{mergeIntoDataStream:()=>e4,toDataStream:()=>Fk,toDataStreamResponse:()=>Wk});function Fb(e={}){const t=new TextEncoder;let a="";return new TransformStream({async start(){e.onStart&&await e.onStart()},async transform(n,r){r.enqueue(t.encode(n)),a+=n,e.onToken&&await e.onToken(n),e.onText&&typeof n=="string"&&await e.onText(n)},async flush(){e.onCompletion&&await e.onCompletion(a),e.onFinal&&await e.onFinal(a)}})}function Zd(e,t){return e.pipeThrough(new TransformStream({transform:async(a,n)=>{var r;if(typeof a=="string"){n.enqueue(a);return}if("event"in a){a.event==="on_chat_model_stream"&&gh((r=a.data)==null?void 0:r.chunk,n);return}gh(a,n)}})).pipeThrough(Fb(t)).pipeThrough(new TextDecoderStream).pipeThrough(new TransformStream({transform:async(a,n)=>{n.enqueue(gt("text",a))}}))}function Fk(e,t){return Zd(e,t).pipeThrough(new TextEncoderStream)}function Wk(e,t){var a;const n=Zd(e,t==null?void 0:t.callbacks).pipeThrough(new TextEncoderStream),r=t==null?void 0:t.data,s=t==null?void 0:t.init,l=r?$d(r.stream,n):n;return new Response(l,{status:(a=s==null?void 0:s.status)!=null?a:200,statusText:s==null?void 0:s.statusText,headers:Lo(s==null?void 0:s.headers,{contentType:"text/plain; charset=utf-8",dataStreamVersion:"v1"})})}function e4(e,t){t.dataStream.merge(Zd(e,t.callbacks))}function gh(e,t){if(typeof e.content=="string")t.enqueue(e.content);else{const a=e.content;for(const n of a)n.type==="text"&&t.enqueue(n.text)}}var t4={};Hd(t4,{mergeIntoDataStream:()=>r4,toDataStream:()=>a4,toDataStreamResponse:()=>n4});function Pd(e,t){const a=s4();return NT(e[Symbol.asyncIterator]()).pipeThrough(new TransformStream({async transform(n,r){r.enqueue(a(n.delta))}})).pipeThrough(Fb(t)).pipeThrough(new TextDecoderStream).pipeThrough(new TransformStream({transform:async(n,r)=>{r.enqueue(gt("text",n))}}))}function a4(e,t){return Pd(e,t).pipeThrough(new TextEncoderStream)}function n4(e,t={}){var a;const{init:n,data:r,callbacks:s}=t,l=Pd(e,s).pipeThrough(new TextEncoderStream),i=r?$d(r.stream,l):l;return new Response(i,{status:(a=n==null?void 0:n.status)!=null?a:200,statusText:n==null?void 0:n.statusText,headers:Lo(n==null?void 0:n.headers,{contentType:"text/plain; charset=utf-8",dataStreamVersion:"v1"})})}function r4(e,t){t.dataStream.merge(Pd(e,t.callbacks))}function s4(){let e=!0;return t=>(e&&(t=t.trimStart(),t&&(e=!1)),t)}function Wb(){const{openaiKey:e,anthropicKey:t}=Sl(),a=x.useMemo(()=>{const l=e?M0({apiKey:e}):null,i=t?j0({apiKey:t}):null;return{openaiProvider:l,anthropicProvider:i}},[e,t]),n=x.useCallback(l=>l.startsWith("gpt-")?!!(e&&e.trim()):l.startsWith("claude-")?!!(t&&t.trim()):!1,[e,t]),r=x.useCallback(async(l,i)=>{if(i.startsWith("gpt-")){if(!a.openaiProvider)throw new Error("OpenAI API key is required for GPT models");return(await ph({model:a.openaiProvider(i),messages:l})).text}else if(i.startsWith("claude-")){if(!a.anthropicProvider)throw new Error("Anthropic API key is required for Claude models");return(await ph({model:a.anthropicProvider(i),messages:l})).text}else throw new Error(`Unsupported model: ${i}`)},[a]),s=x.useCallback(async(l,i,o)=>{if(i.startsWith("gpt-")){if(!a.openaiProvider)throw new Error("OpenAI API key is required for GPT models");const u=hh({model:a.openaiProvider(i),messages:l});let c="";for await(const f of u.textStream)c+=f,o&&o(c);return c}else if(i.startsWith("claude-")){if(!a.anthropicProvider)throw new Error("Anthropic API key is required for Claude models");const u=hh({model:a.anthropicProvider(i),messages:l});let c="";for await(const f of u.textStream)c+=f,o&&o(c);return c}else throw new Error(`Unsupported model: ${i}`)},[a]);return{generateText:r,streamText:s,hasValidKeyForModel:n,openaiKey:e,anthropicKey:t,providers:a}}function l4({rowId:e,modelId:t,input:a,images:n=[],systemPrompt:r,activePromptId:s,activeVersionId:l}){const[i,o]=x.useState(""),[u,c]=x.useState(!1),[f,m]=x.useState(!1),{getTableCellResponse:h,updateTableCellResponse:S}=Ct(),{streamText:_,hasValidKeyForModel:v}=Wb();x.useEffect(()=>{if(s&&l){const y=h(s,l,e,t);y?(o(y),m(!0)):(o(""),m(!1))}},[s,l,e,t,h]);const d=async()=>{if(!(!(a.trim()||n.length>0)||u)){if(!v(t)){o("Error: API key required for this model"),m(!0);return}c(!0),o(""),m(!1);try{const g=[{role:"system",content:r}];if(n.length>0){const E=[];a.trim()&&E.push({type:"text",text:a.trim()}),n.forEach(N=>{E.push({type:"image",image:N.base64})}),g.push({role:"user",content:E})}else g.push({role:"user",content:a.trim()});const w=await _(g,t,E=>o(E));s&&l&&S(s,l,e,t,w),m(!0)}catch(g){console.error("Error:",g);const w=g instanceof Error?g.message:"Failed to get response";o(`Error: ${w}`),m(!0)}finally{c(!1)}}},p=()=>{o(""),m(!1),s&&l&&S(s,l,e,t,"")};return b.jsxs("div",{className:"flex flex-col h-full min-h-40 justify-between group",children:[b.jsx("div",{className:"flex-1 min-h-24 text-sm",children:u?b.jsx("div",{className:"animate-pulse text-muted",children:"Running prompt..."}):i?b.jsx("div",{className:"whitespace-pre-wrap text-text-primary",children:i}):b.jsx("div",{className:"text-muted",children:"Click Run to test"})}),b.jsxs("div",{className:"flex space-x-2 mb-2 opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:[b.jsx("button",{onClick:d,disabled:u,className:"px-3 py-1 bg-neutral-900 text-white text-xs hover:bg-neutral-800 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:u?"Running...":"Run"}),f&&b.jsx("button",{onClick:p,className:"px-3 py-1 border border-neutral text-text-secondary text-xs hover:border-neutral-dark hover:bg-neutral-hover transition-colors",children:"Clear"})]})]})}const i4=({activePromptId:e})=>{const t=Ct(u=>u.prompts),a=Ct(u=>u.revertPromptVersion),n=Ct(u=>u.deleteVersion),r=Ct(u=>u.activeVersionId),s=Ct(u=>u.setActiveVersionId),l=t.find(u=>u.id===e);if(x.useEffect(()=>{if(!l||l.versions.length===0)return;if(!l.versions.some(c=>c.versionId===r)){const f=[...l.versions].sort((m,h)=>h.timestamp-m.timestamp)[0];f&&(s(f.versionId),a(l.id,f.versionId))}},[l,r,s,a]),!l||l.versions.length===0)return b.jsx("p",{className:"text-muted",children:"No versions available."});const i=[...l.versions].sort((u,c)=>c.timestamp-u.timestamp),o=(u,c)=>{if(c.stopPropagation(),l.versions.length<=1){alert("Cannot delete the last version");return}n(l.id,u)};return b.jsx("div",{className:"space-y-3",children:i.map(u=>b.jsx("div",{onClick:()=>{s(u.versionId),a(l.id,u.versionId)},className:`p-3 border cursor-pointer transition-all duration-200 group ${r===u.versionId?"bg-success-light border-success":"border-neutral hover:border-secondary"}`,children:b.jsxs("div",{className:"relative flex items-start",children:[b.jsx("button",{onClick:c=>{c.stopPropagation(),o(u.versionId,c)},className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity p-1 hover:bg-error-100","aria-label":"Delete version",children:b.jsx(kd,{className:"h-4 w-4 text-error-500","aria-hidden":"true"})}),b.jsxs("div",{className:"pr-8",children:[b.jsx("p",{className:"text-xs font-medium text-text-secondary mb-2",children:(()=>{const c=new Date(u.timestamp),f=c.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}),m=c.toLocaleDateString("en-US",{weekday:"short"}),h=c.getDate();return`${f}, ${m} ${h}`})()}),b.jsx("div",{className:"text-sm text-text-primary",children:u.content?b.jsxs("div",{className:"space-y-1",children:[u.content.split(`
`).slice(0,3).map((c,f)=>b.jsx("div",{className:"truncate",title:c,children:c||" "},f)),u.content.split(`
`).length>3&&b.jsx("div",{className:"text-muted italic text-xs",children:"..."})]}):b.jsx("div",{className:"text-muted italic text-xs",children:"Empty prompt"})})]})]})},u.versionId))})};function o4({inputPromptContent:e}){const{activePromptId:t,activeVersionId:a,getTableData:n,addTableRow:r,removeTableRow:s,updateTableRowInput:l,updateTableCellResponse:i,updatePrompt:o,updatePromptTitle:u,prompts:c,getPromptVariables:f,updatePromptVariable:m,substituteVariables:h}=Ct(),{streamText:S,hasValidKeyForModel:_}=Wb(),[v,d]=x.useState([Is[0].id,Is[1].id]),[p,y]=x.useState(new Set),[g,w]=x.useState(!1),[E,N]=x.useState(!1),[R,j]=x.useState(e),[$,me]=x.useState(200),[ve,Qe]=x.useState(!1),[Oe,Ue]=x.useState(!1),[U,Y]=x.useState(""),[H,re]=x.useState(!1),[K,ee]=x.useState(""),[He,Be]=x.useState({isValid:!0,message:"",isEmpty:!0}),[nt,Yt]=x.useState([]),[bt,on]=x.useState(!1),$n=x.useRef(null),X=n(t,a),Fe=c.find(C=>C.id===t),ia=Fe==null?void 0:Fe.versions.find(C=>C.versionId===a),ya=(ia==null?void 0:ia.title)||"",va=x.useCallback(()=>{if(!t)return"";const C=c.find(G=>G.id===t),L=((C==null?void 0:C.inputRows)||[]).filter(G=>G.input.trim()||(G.images||[]).length>0).map(G=>(G.images||[]).length>0?{input:G.input,images:G.images.length+" image(s)"}:G.input);return L.length===0?JSON.stringify(["example input"],null,2):JSON.stringify(L,null,2)},[t,c]),Dt=x.useCallback(C=>{const P=C.trim();if(!P){Be({isValid:!0,message:"",isEmpty:!0});return}try{const L=JSON.parse(P);if(Array.isArray(L))L.length===0?Be({isValid:!0,message:"",isEmpty:!0}):Be({isValid:!0,message:`Valid - ${L.length} rows detected`,isEmpty:!1});else if(typeof L=="object"&&L!==null){const Q=["items","data","inputs","messages","content"].find(de=>Array.isArray(L[de]));if(Q){const de=L[Q].length;Be(de===0?{isValid:!0,message:"",isEmpty:!0}:{isValid:!0,message:`Valid - ${de} rows detected`,isEmpty:!1})}else{const de=Object.values(L).filter(V=>typeof V=="string"||typeof V=="number"||typeof V=="object"&&V!==null);de.length>0?Be({isValid:!0,message:`Valid JSON - Will create ${de.length} row(s) from object values`,isEmpty:!1}):Be({isValid:!0,message:"Valid JSON - No processable values found",isEmpty:!1})}}else Be({isValid:!1,message:"Invalid - must be array or object",isEmpty:!1})}catch{Be({isValid:!1,message:"Invalid - JSON format error",isEmpty:!1})}},[Be]);x.useEffect(()=>{Y(ya)},[ya]),x.useEffect(()=>{if(t&&a){const C=va();ee(C),Dt(C)}},[t,a,va,Dt]),x.useEffect(()=>{const C=Jw(R);if(Yt(C),t&&C.length>0){const P=f(t);C.forEach(L=>{L in P||m(t,L,"")})}},[R,t,f,m]);const Ut=()=>{t&&r(t)},Me=C=>{t&&X.length>1&&s(t,C)},pt=(C,P,L=[])=>{t&&l(t,C,P,L)},ut=C=>{ee(C),Dt(C)},D=()=>{if(!(!t||!K.trim()))try{const C=JSON.parse(K.trim()),P=c.find(L=>L.id===t);if(P&&(P.inputRows||[]).forEach(G=>{s(t,G.id)}),Array.isArray(C)){if(C.length===0)return;C.forEach((L,G)=>{r(t),setTimeout(()=>{const Q=n(t,a);if(Q.length>G){const de=Q[G];let V;typeof L=="string"?V=L:typeof L=="object"&&L!==null?L.input?V=L.input:L.text?V=L.text:L.message?V=L.message:L.content?V=L.content:V=JSON.stringify(L):V=String(L),l(t,de.id,V,[])}},10*(G+1))});return}if(typeof C=="object"&&C!==null){const L=["items","data","inputs","messages","content"];for(const Q of L)if(Array.isArray(C[Q])){C[Q].forEach((V,ce)=>{r(t),setTimeout(()=>{const Ge=n(t,a);if(Ge.length>ce){const Ee=Ge[ce],oa=typeof V=="string"?V:JSON.stringify(V);l(t,Ee.id,oa,[])}},10*(ce+1))});return}const G=Object.values(C).filter(Q=>typeof Q=="string"||typeof Q=="number"||typeof Q=="object"&&Q!==null);if(G.length>0){G.forEach((Q,de)=>{r(t),setTimeout(()=>{const V=n(t,a);if(V.length>de){const ce=V[de],Ge=typeof Q=="string"?Q:JSON.stringify(Q);l(t,ce.id,Ge,[])}},10*(de+1))});return}}}catch{alert("Invalid JSON format. Please check your input and try again.")}},We=C=>{d(P=>P.length<=1?P:P.filter(L=>L!==C))},Et=C=>{d(P=>P.includes(C)?P:[...P,C]),re(!1)},$e=async(C,P,L=[])=>{if(!(!(P.trim()||L.length>0)||!t||!a)){y(Q=>new Set(Q).add(C));try{const Q=v.map(async V=>{try{if(console.log(`Starting request for ${V} with input: ${P}, images: ${L.length}`),!_(V)){const Ee=`Error: API key required for ${V}`;return i(t,a,C,V,Ee),{modelId:V,response:Ee,error:new Error("Missing API key")}}const ce=[{role:"system",content:h(t,a,e)}];if(L.length>0){const Ee=[];P.trim()&&Ee.push({type:"text",text:P.trim()}),L.forEach(oa=>{Ee.push({type:"image",image:oa.base64})}),ce.push({role:"user",content:Ee})}else ce.push({role:"user",content:P.trim()});const Ge=await S(ce,V);return console.log(`Completed request for ${V}, response length: ${Ge.length}`),i(t,a,C,V,Ge),{modelId:V,response:Ge,error:null}}catch(ce){console.error(`Error with ${V}:`,ce);const Ee=`Error: ${ce instanceof Error?ce.message:`Failed to get response from ${V}`}`;return i(t,a,C,V,Ee),{modelId:V,response:Ee,error:ce}}}),de=await Promise.all(Q);console.log("All models completed:",de)}catch(Q){console.error("Error in handleRunAllModels:",Q)}finally{y(Q=>{const de=new Set(Q);return de.delete(C),de})}}},un=async()=>{if(!t||!a||g)return;const C=X.filter(P=>P.input.trim()||(P.images||[]).length>0);if(C.length!==0){C.forEach(P=>{v.forEach(L=>{i(t,a,P.id,L,"")})}),w(!0);try{const P=C.map(async G=>{y(Q=>new Set(Q).add(G.id));try{const Q=v.map(async V=>{try{if(console.log(`Starting table request for ${V} with input: ${G.input}, images: ${(G.images||[]).length}`),!_(V)){const Ee=`Error: API key required for ${V}`;return i(t,a,G.id,V,Ee),{modelId:V,response:Ee,error:new Error("Missing API key")}}const ce=[{role:"system",content:h(t,a,e)}];if((G.images||[]).length>0){const Ee=[];G.input.trim()&&Ee.push({type:"text",text:G.input.trim()}),(G.images||[]).forEach(oa=>{Ee.push({type:"image",image:oa.base64})}),ce.push({role:"user",content:Ee})}else ce.push({role:"user",content:G.input.trim()});const Ge=await S(ce,V);return console.log(`Completed table request for ${V}, response length: ${Ge.length}`),i(t,a,G.id,V,Ge),{modelId:V,response:Ge,error:null}}catch(ce){console.error(`Error with ${V}:`,ce);const Ee=`Error: ${ce instanceof Error?ce.message:`Failed to get response from ${V}`}`;return i(t,a,G.id,V,Ee),{modelId:V,response:Ee,error:ce}}}),de=await Promise.all(Q);return console.log(`All models completed for row ${G.id}:`,de),{rowId:G.id,results:de}}catch(Q){return console.error(`Error processing row ${G.id}:`,Q),{rowId:G.id,error:Q}}finally{y(Q=>{const de=new Set(Q);return de.delete(G.id),de})}}),L=await Promise.all(P);console.log("All table requests completed:",L)}catch(P){console.error("Error in handleRunAllTable:",P)}finally{w(!1)}}},Ts=()=>{t&&R.trim()&&(o(t,R),Ue(!0),setTimeout(()=>Ue(!1),1e3))},mt=()=>{t&&a&&u(t,a,U)};x.useEffect(()=>{j(e)},[e]),x.useEffect(()=>{const C=P=>{$n.current&&!$n.current.contains(P.target)&&re(!1)};return H&&document.addEventListener("mousedown",C),()=>{document.removeEventListener("mousedown",C)}},[H]);const Vn=()=>t?f(t):{},ba=(C,P)=>{t&&m(t,C,P)};return b.jsx("div",{className:"flex flex-col w-full h-full overflow-hidden",style:{paddingBottom:"80px"},children:t&&a?b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"fixed bottom-0 z-30 bg-white border-t border-neutral shadow-lg",style:{left:"0rem",right:"0rem"},children:b.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:b.jsxs("div",{className:"flex justify-between items-center gap-2 p-4 bg-surface-card",children:[b.jsx("div",{className:"flex-1",children:b.jsx("input",{type:"text",value:U,onChange:C=>Y(C.target.value),onBlur:mt,className:"text-lg font-semibold text-text-primary bg-transparent border-none outline-none focus:outline-none w-full",placeholder:"Enter prompt title..."})}),b.jsxs("button",{onClick:un,disabled:g||!X.some(C=>C.input.trim()||(C.images||[]).length>0),className:"px-5 py-2 bg-primary hover:bg-secondary text-white text-lg font-semibold disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2",children:[b.jsx(Dm,{className:"w-4 h-4"}),g?"Running All...":"Run Table"]})]})})}),b.jsxs("div",{children:[b.jsx("div",{className:"bg-neutral-50 px-2 pb-2 pt-8",children:b.jsx("h2",{className:"text-sm font-semibold text-text-primary uppercase tracking-wide",children:"System Prompt"})}),b.jsx("div",{className:"border border-neutral",children:b.jsx("div",{className:"bg-surface-card",children:b.jsxs("div",{className:"p-4 relative",children:[b.jsx("button",{onClick:()=>Qe(!ve),className:"absolute top-2 right-2 p-1 text-text-secondary hover:text-text-primary hover:bg-neutral-hover transition-colors z-10",title:ve?"Collapse editor":"Expand editor",children:ve?b.jsx(Ow,{className:"w-4 h-4"}):b.jsx(jw,{className:"w-4 h-4"})}),b.jsx("textarea",{className:"w-full resize-y bg-surface-card text-text-primary placeholder-text-muted transition-colors text-sm focus:outline-none",style:{height:ve?"calc(100vh - 200px)":`${$}px`,minHeight:ve?"calc(100vh - 200px)":`${$}px`},value:R,placeholder:"Enter system prompt...",onChange:C=>j(C.target.value),onInput:C=>{if(!ve){const P=C.target;me(P.offsetHeight)}}}),b.jsxs("div",{className:"flex justify-end items-center gap-2 mt-3",children:[b.jsx("button",{onClick:()=>N(!E),className:`px-4 py-2 text-sm border transition-colors ${E?"bg-neutral border-neutral text-text-primary":"border-neutral text-text-secondary hover:border-neutral-dark hover:bg-neutral-hover"}`,children:E?"Hide Version":`Show Version (${(Fe==null?void 0:Fe.versions.length)||0})`}),b.jsx("button",{onClick:Ts,className:`px-4 py-2 text-sm border ${Oe?"bg-success border-success text-white":"bg-neutral-dark border-neutral-dark text-white hover:bg-primary"} transition-colors flex items-center gap-1`,children:Oe?b.jsxs(b.Fragment,{children:[b.jsx(Dv,{className:"w-3 h-3"}),"Updated"]}):"Update Prompt"})]})]})})}),E&&b.jsxs("div",{className:"border-t border-neutral p-4",children:[b.jsx("h3",{className:"text-sm font-semibold mb-3 text-text-primary",children:"Version History"}),b.jsx(i4,{activePromptId:t})]})]}),nt.length>0&&b.jsxs("div",{children:[b.jsx("div",{className:"bg-neutral-50 px-2 pb-2 pt-8",children:b.jsx("h2",{className:"text-sm font-semibold text-text-primary uppercase tracking-wide",children:"Variables"})}),b.jsxs("div",{className:"p-4 border border-neutral bg-surface-card",children:[b.jsx("div",{className:"overflow-x-auto",children:b.jsx("table",{className:"w-full text-sm border-collapse",children:b.jsx("tbody",{children:nt.map(C=>{const L=Vn()[C]||"",G=L.trim()!=="";return b.jsxs("tr",{className:"hover:bg-neutral-50",children:[b.jsx("td",{className:"border border-neutral px-3 py-2 font-mono text-sm",children:b.jsx("code",{className:`px-1 py-0.5 rounded text-xs ${G?"bg-success-light text-success-dark":"bg-warning-light text-warning-dark"}`,children:`{{${C}}}`})}),b.jsx("td",{className:"border border-neutral px-3 py-2",children:b.jsx("input",{type:"text",value:L,onChange:Q=>ba(C,Q.target.value),placeholder:"Enter value...",className:"w-full px-2 py-1 text-sm focus:outline-none focus:ring-1 focus:ring-secondary"})}),b.jsx("td",{className:"border border-neutral px-3 py-2",children:b.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded text-xs font-medium ${G?"bg-success-light text-success-dark":"bg-warning-light text-warning-dark"}`,children:G?"✓ Set":"⚠ Empty"})})]},C)})})})}),b.jsxs("div",{className:"pt-4",children:[b.jsxs("div",{className:"flex justify-between items-center mb-2",children:[b.jsxs("div",{className:"text-xs font-medium text-gray-500",children:[nt.length," variables will be substituted"]}),b.jsx("button",{onClick:()=>on(!bt),className:"text-xs text-text-secondary",children:bt?"Show Less":"Show All"})]}),b.jsx("div",{className:`text-sm text-text-primary whitespace-pre-wrap break-words p-2 bg-amber-50 ${bt?"":"line-clamp-2 overflow-hidden"}`,style:bt?{}:{display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},children:t&&a?h(t,a,R):R})]})]})]}),b.jsxs("div",{children:[b.jsx("div",{className:"bg-neutral-50 px-2 pb-2 pt-8",children:b.jsx("h2",{className:"text-sm font-semibold text-text-primary uppercase tracking-wide",children:"Input"})}),b.jsxs("div",{className:"p-4 border border-neutral bg-surface-card",children:[b.jsxs("div",{className:"mb-3 flex justify-start items-center gap-2",children:[b.jsx("h3",{className:"text-sm font-semibold text-text-primary",children:"Bulk Input"}),!He.isEmpty&&b.jsxs("div",{className:`text-xs px-2 py-1 ${He.isValid?"text-success-dark":"text-error-dark border-error"}`,children:[He.isValid?"✅":"❌"," ",He.message]})]}),b.jsxs("div",{className:"space-y-3",children:[b.jsx("div",{className:"space-y-2",children:b.jsx("textarea",{value:K,onChange:C=>ut(C.target.value),placeholder:`Current input rows are automatically loaded. Edit the JSON to manage multiple rows.

Examples of valid formats:
["Input 1", "Input 2", "Input 3"]
[{"input": "Test 1"}, {"text": "Test 2"}]
{"items": ["Item 1", "Item 2"]}`,className:`w-full h-32 p-3 border text-sm resize-none bg-surface-input transition-colors focus:ring-none ${He.isEmpty?"border-neutral":He.isValid?"border-neutral focus:ring-success":"border-error focus:ring-error"}`})}),b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsx("div",{children:b.jsxs("button",{onClick:Ut,className:"flex items-center px-4 py-2 text-sm text-neutral-dark hover:text-text-primary hover:bg-neutral-hover transition-colors border border-neutral",children:[b.jsx(lf,{className:"w-4 h-4 mr-2"}),"Add Single Input"]})}),b.jsx("div",{className:"flex gap-2",children:b.jsx("button",{onClick:D,disabled:!K.trim()||!He.isValid,className:"px-4 py-2 bg-secondary text-white text-sm hover:bg-secondary-dark disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Update Inputs"})})]})]})]})]}),b.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[b.jsx("div",{className:"bg-neutral-50 px-2 pb-2 pt-8",children:b.jsx("h2",{className:"text-sm font-semibold text-text-primary uppercase tracking-wide",children:"Response"})}),b.jsx("div",{className:"flex-1 overflow-auto bg-surface-card",children:b.jsxs("table",{className:"w-full h-full table-fixed border-collapse border border-neutral",children:[b.jsx("thead",{className:"sticky top-0",children:b.jsxs("tr",{children:[b.jsx("th",{className:"p-3 text-left text-sm font-semibold w-1/3 text-text-primary border-b border-r border-neutral",children:"Input"}),v.map((C,P)=>{const L=Is.find(Q=>Q.id===C),G=`${Math.floor(60/v.length)}%`;return b.jsx("th",{className:`p-3 text-left text-sm font-semibold text-text-primary border-b border-neutral ${P<v.length-1?"border-r border-neutral":""}`,style:{width:G},children:b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[L==null?void 0:L.name,b.jsx("span",{className:"block text-xs font-normal text-text-secondary",children:L==null?void 0:L.provider})]}),b.jsx("button",{onClick:()=>We(C),className:"p-1 rounded-full text-muted hover:text-error hover:bg-error-light transition-colors ml-2",title:"Remove model",children:b.jsx(Ov,{className:"w-4 h-4"})})]})},C)}),b.jsx("th",{className:"p-3 text-center text-sm font-semibold w-16 bg-surface-card text-text-primary border-b border-l border-neutral relative",children:b.jsxs("div",{ref:$n,children:[b.jsx("button",{onClick:()=>re(!H),className:"w-8 h-8 rounded-full border-2 border-dashed border-neutral hover:border-neutral-dark hover:bg-neutral-hover transition-colors flex items-center justify-center",title:"Add model",children:b.jsx(lf,{className:"w-4 h-4 text-muted"})}),H&&b.jsx("div",{className:"absolute top-12 right-0 z-40 bg-surface-card shadow-lg border border-neutral min-w-48",children:b.jsxs("div",{className:"p-2",children:[b.jsx("div",{className:"text-xs font-medium text-muted mb-2 px-2",children:"Add Model"}),b.jsxs("div",{className:"max-h-60 overflow-y-auto",children:[Is.filter(C=>!v.includes(C.id)).map(C=>b.jsxs("button",{onClick:()=>Et(C.id),className:"w-full text-left p-2 hover:bg-neutral-hover transition-colors",children:[b.jsx("div",{className:"font-medium text-text-primary text-sm",children:C.name}),b.jsx("div",{className:"text-xs text-text-secondary",children:C.provider})]},C.id)),Is.filter(C=>!v.includes(C.id)).length===0&&b.jsx("div",{className:"text-center py-3 text-muted text-xs",children:"All models selected"})]})]})})]})})]})}),b.jsx("tbody",{children:X.map((C,P)=>b.jsxs("tr",{className:"hover:bg-neutral-hover",children:[b.jsx("td",{className:`p-3 align-top border-r border-neutral ${P<X.length-1?"border-b":""}`,children:b.jsxs("div",{className:"space-y-3",children:[b.jsx(sT,{value:C.input,images:C.images||[],onChange:(L,G)=>pt(C.id,L,G),placeholder:"Enter your test input...",rows:3,showImageUpload:!0}),b.jsxs("div",{className:"flex gap-2",children:[b.jsxs("button",{onClick:()=>$e(C.id,C.input,C.images||[]),disabled:!(C.input.trim()||(C.images||[]).length>0)||p.has(C.id),className:"px-3 py-1 bg-neutral-900 text-white text-xs hover:bg-neutral-800 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-1",children:[b.jsx(Dm,{className:"w-3 h-3"}),p.has(C.id)?"Running...":"Run"]}),X.length>1&&b.jsx("button",{onClick:()=>Me(C.id),className:"px-3 py-1 border border-neutral text-text-secondary text-xs hover:border-neutral-dark hover:bg-neutral-hover transition-colors",title:"Remove row",children:"Remove"})]})]})}),v.map((L,G)=>b.jsx("td",{className:`p-3 align-top border-neutral ${P<X.length-1?"border-b":""} ${G<v.length-1?"border-r border-neutral":""}`,children:b.jsx(l4,{rowId:C.id,modelId:L,input:C.input,images:C.images||[],systemPrompt:e,activePromptId:t,activeVersionId:a},`${C.id}-${L}-${C.responses[L]||"empty"}`)},`${C.id}-${L}`)),b.jsx("td",{className:`p-3 align-top border-l border-neutral ${P<X.length-1?"border-b":""}`})]},C.id))})]})})]})]}):b.jsx("div",{className:"flex-1 flex items-center justify-center bg-surface-hover",children:b.jsxs("div",{className:"text-center text-muted",children:[b.jsx("h2",{className:"text-lg font-semibold mb-2 text-text-primary",children:"No Prompt Selected"}),b.jsx("p",{children:"Create or select a prompt to start using the table view"})]})})})}function u4(){const{id:e}=US(),t=Ct(c=>c.prompts),a=Ct(c=>c.setActivePromptId),n=Ct(c=>c.setActiveVersionId),[r,s]=x.useState(!1),[l,i]=x.useState(!0),o=t.find(c=>c.id===e);x.useEffect(()=>{const c=setTimeout(()=>{s(!0)},100);return()=>clearTimeout(c)},[]),x.useEffect(()=>{if(e&&r&&(a(e),o&&o.versions.length>0)){const f=[...o.versions].sort((m,h)=>h.timestamp-m.timestamp)[0];f&&n(f.versionId)}},[e,r,o,a,n]),x.useEffect(()=>{const c=setTimeout(()=>{i(!1)},300);return()=>clearTimeout(c)},[o]);const u=o!=null&&o.versions.length?(()=>{var f;return((f=[...o.versions].sort((m,h)=>h.timestamp-m.timestamp)[0])==null?void 0:f.content)||""})():"";return r?l&&o?b.jsx("div",{className:"flex items-center justify-center min-h-screen bg-background",children:b.jsxs("div",{className:"text-center",children:[b.jsx("div",{className:"animate-spin h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),b.jsx("p",{className:"text-muted",children:"Loading prompt content..."})]})}):r&&e&&!o?b.jsx("div",{className:"flex items-center justify-center min-h-screen bg-background",children:b.jsxs("div",{className:"text-center",children:[b.jsx("h1",{className:"text-2xl font-bold text-text-primary mb-4",children:"Prompt Not Found"}),b.jsx("p",{className:"text-text-secondary mb-4",children:"The prompt you're looking for doesn't exist."}),b.jsx(xl,{to:"/",className:"text-primary hover:text-primary-dark underline",children:"← Back to Home"})]})}):b.jsx("div",{className:"min-h-screen bg-background",children:b.jsx("div",{className:"max-w-full mx-auto h-full",children:b.jsx("div",{className:"flex flex-col h-screen",children:b.jsx("div",{className:"flex-1 flex flex-col p-4",children:b.jsx(o4,{inputPromptContent:u})})})})}):b.jsx("div",{className:"flex items-center justify-center min-h-screen bg-background",children:b.jsxs("div",{className:"text-center",children:[b.jsx("div",{className:"animate-spin h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),b.jsx("p",{className:"text-muted",children:"Loading prompt..."})]})})}function c4(){return b.jsx(_w,{children:b.jsxs("div",{className:"min-h-screen bg-background",children:[b.jsx(aT,{}),b.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:b.jsxs(JS,{children:[b.jsx(rf,{path:"/",element:b.jsx(rT,{})}),b.jsx(rf,{path:"/prompt/:id",element:b.jsx(u4,{})})]})})]})})}X1.createRoot(document.getElementById("root")).render(b.jsx(x.StrictMode,{children:b.jsx(c4,{})}));
